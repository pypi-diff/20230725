# Comparing `tmp/odoo13_addon_report_csv-13.0.1.0.3.dev4-py3-none-any.whl.zip` & `tmp/odoo13_addon_report_csv-13.0.1.0.4.dev1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,30 @@
-Zip file size: 30857 bytes, number of entries: 26
--rw-r--r--  2.0 unx     3812 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/README.rst
--rw-r--r--  2.0 unx       68 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/__init__.py
--rw-r--r--  2.0 unx      526 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/__manifest__.py
--rw-r--r--  2.0 unx       19 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/controllers/__init__.py
--rw-r--r--  2.0 unx     2597 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/controllers/main.py
--rw-r--r--  2.0 unx      398 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/demo/report.xml
--rw-r--r--  2.0 unx     3573 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/i18n/it.po
--rw-r--r--  2.0 unx     2813 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/i18n/report_csv.pot
--rw-r--r--  2.0 unx       24 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/models/__init__.py
--rw-r--r--  2.0 unx     1237 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/models/ir_report.py
--rw-r--r--  2.0 unx      138 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       66 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     1051 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/readme/USAGE.rst
--rw-r--r--  2.0 unx       58 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/report/__init__.py
--rw-r--r--  2.0 unx     2195 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/report/report_csv.py
--rw-r--r--  2.0 unx      744 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/report/report_partner_csv.py
--rw-r--r--  2.0 unx     9455 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/static/description/icon.png
--rw-r--r--  2.0 unx    13325 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/static/description/index.html
--rw-r--r--  2.0 unx     3839 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/static/src/js/report/qwebactionmanager.js
--rw-r--r--  2.0 unx       26 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/tests/__init__.py
--rw-r--r--  2.0 unx     2061 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/tests/test_report.py
--rw-r--r--  2.0 unx      460 b- defN 23-Jun-14 04:45 odoo/addons/report_csv/views/webclient_templates.xml
--rw-r--r--  2.0 unx     4363 b- defN 23-Jun-14 04:45 odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-14 04:45 odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-14 04:45 odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2594 b- defN 23-Jun-14 04:45 odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/RECORD
-26 files, 55539 bytes uncompressed, 26485 bytes compressed:  52.3%
+Zip file size: 33918 bytes, number of entries: 28
+-rw-r--r--  2.0 unx     4606 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/README.rst
+-rw-r--r--  2.0 unx       68 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/__init__.py
+-rw-r--r--  2.0 unx      556 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/__manifest__.py
+-rw-r--r--  2.0 unx       19 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/controllers/__init__.py
+-rw-r--r--  2.0 unx     2597 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/controllers/main.py
+-rw-r--r--  2.0 unx      398 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/demo/report.xml
+-rw-r--r--  2.0 unx     4795 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/i18n/it.po
+-rw-r--r--  2.0 unx     4035 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/i18n/report_csv.pot
+-rw-r--r--  2.0 unx       24 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/models/__init__.py
+-rw-r--r--  2.0 unx     1753 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/models/ir_report.py
+-rw-r--r--  2.0 unx      632 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      200 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       66 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     1121 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/readme/USAGE.rst
+-rw-r--r--  2.0 unx       58 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/report/__init__.py
+-rw-r--r--  2.0 unx     2718 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/report/report_csv.py
+-rw-r--r--  2.0 unx      744 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/report/report_partner_csv.py
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/static/description/icon.png
+-rw-r--r--  2.0 unx    14454 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/static/description/index.html
+-rw-r--r--  2.0 unx     3839 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/static/src/js/report/qwebactionmanager.js
+-rw-r--r--  2.0 unx       26 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/tests/__init__.py
+-rw-r--r--  2.0 unx     2609 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/tests/test_report.py
+-rw-r--r--  2.0 unx      763 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/views/ir_actions_views.xml
+-rw-r--r--  2.0 unx      460 b- defN 23-Jul-25 04:51 odoo/addons/report_csv/views/webclient_templates.xml
+-rw-r--r--  2.0 unx     5157 b- defN 23-Jul-25 04:51 odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-25 04:51 odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-25 04:51 odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2798 b- defN 23-Jul-25 04:51 odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/RECORD
+28 files, 64048 bytes uncompressed, 29210 bytes compressed:  54.4%
```

## zipnote {}

```diff
@@ -24,14 +24,17 @@
 
 Filename: odoo/addons/report_csv/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/report_csv/models/ir_report.py
 Comment: 
 
+Filename: odoo/addons/report_csv/readme/CONFIGURE.rst
+Comment: 
+
 Filename: odoo/addons/report_csv/readme/CONTRIBUTORS.rst
 Comment: 
 
 Filename: odoo/addons/report_csv/readme/DESCRIPTION.rst
 Comment: 
 
 Filename: odoo/addons/report_csv/readme/USAGE.rst
@@ -57,23 +60,26 @@
 
 Filename: odoo/addons/report_csv/tests/__init__.py
 Comment: 
 
 Filename: odoo/addons/report_csv/tests/test_report.py
 Comment: 
 
+Filename: odoo/addons/report_csv/views/ir_actions_views.xml
+Comment: 
+
 Filename: odoo/addons/report_csv/views/webclient_templates.xml
 Comment: 
 
-Filename: odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/METADATA
+Filename: odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/METADATA
 Comment: 
 
-Filename: odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/WHEEL
+Filename: odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/top_level.txt
+Filename: odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/RECORD
+Filename: odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/report_csv/README.rst

```diff
@@ -28,14 +28,27 @@
 This module provides a basic report class to generate csv report.
 
 **Table of contents**
 
 .. contents::
    :local:
 
+Configuration
+=============
+
+In case the exported CSV report should be encoded in another system than UTF-8, following
+fields of the report record (*Settings > Technical > Reports*) should be populated accordingly.
+
+* Encoding: set an encoding system (such as cp932)
+* Encode Error Handling: select 'Ignore' or 'Replace' as necessary.
+
+  * 'Ignore': in case of an encoding error, the problematic character will be removed from the exported file.
+  * 'Replace': in case of an encoding error, the problematic character will be replaced with '?' symbol.
+  * Leaving the field blank: in case of an encoding error, the report generation fails with an error message.
+
 Usage
 =====
 
 An example of CSV report for partners on a module called `module_name`:
 
 A python class ::
 
@@ -70,14 +83,16 @@
         string="Print to CSV"
         report_type="csv"
         name="module_name.report_name"
         file="res_partner"
         attachment_use="False"
     />
 
+Update encoding with an appropriate value (e.g. cp932) as necessary.
+
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/reporting-engine/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
 `feedback <https://github.com/OCA/reporting-engine/issues/new?body=module:%20report_csv%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
@@ -94,14 +109,17 @@
 
 Contributors
 ~~~~~~~~~~~~
 
 * Enric Tobella <etobella@creublanca.es>
 * Jaime Arroyo <jaime.arroyo@creublanca.es>
 * Rattapong Chokmasermkul <rattapongc@ecosoft.co.th>
+* `Quartile <https://www.quartile.co>`__:
+
+  * Aung Ko Ko Lin
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## odoo/addons/report_csv/__manifest__.py

```diff
@@ -2,14 +2,14 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 {
     "name": "Base report csv",
     "summary": "Base module to create csv report",
     "author": "Creu Blanca, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/reporting-engine",
     "category": "Reporting",
-    "version": "13.0.1.0.2",
+    "version": "13.0.1.0.3",
     "license": "AGPL-3",
     "depends": ["base", "web"],
-    "data": ["views/webclient_templates.xml"],
+    "data": ["views/webclient_templates.xml", "views/ir_actions_views.xml"],
     "demo": ["demo/report.xml"],
     "installable": True,
 }
```

## odoo/addons/report_csv/i18n/it.po

```diff
@@ -42,31 +42,69 @@
 #. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract__display_name
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv__display_name
 msgid "Display Name"
 msgstr "Nome visualizzato"
 
 #. module: report_csv
+#: model:ir.model.fields,field_description:report_csv.field_ir_actions_report__encode_error_handling
+msgid "Encode Error Handling"
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields,field_description:report_csv.field_ir_actions_report__encoding
+msgid "Encoding"
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields,help:report_csv.field_ir_actions_report__encoding
+msgid "Encoding to be applied to the generated CSV file. e.g. cp932"
+msgstr ""
+
+#. module: report_csv
+#: code:addons/report_csv/report/report_csv.py:0
+#, python-format
+msgid "Failed to encode the data with the encoding set in the report."
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract__id
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv__id
 msgid "ID"
 msgstr "ID"
 
 #. module: report_csv
+#: model:ir.model.fields,help:report_csv.field_ir_actions_report__encode_error_handling
+msgid ""
+"If nothing is selected, CSV export will fail with an error message when "
+"there is a character that fail to be encoded."
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields.selection,name:report_csv.selection__ir_actions_report__encode_error_handling__ignore
+msgid "Ignore"
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract____last_update
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv____last_update
 msgid "Last Modified on"
 msgstr "Ultima modifica il"
 
 #. module: report_csv
 #: model:ir.actions.report,name:report_csv.partner_csv
 msgid "Print to CSV"
 msgstr "Stampa su CSV"
 
 #. module: report_csv
+#: model:ir.model.fields.selection,name:report_csv.selection__ir_actions_report__encode_error_handling__replace
+msgid "Replace"
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model,name:report_csv.model_ir_actions_report
 msgid "Report Action"
 msgstr "Azione resoconto"
 
 #. module: report_csv
 #: model:ir.model,name:report_csv.model_report_report_csv_partner_csv
 msgid "Report Partner to CSV"
```

## odoo/addons/report_csv/i18n/report_csv.pot

```diff
@@ -36,31 +36,69 @@
 #. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract__display_name
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv__display_name
 msgid "Display Name"
 msgstr ""
 
 #. module: report_csv
+#: model:ir.model.fields,field_description:report_csv.field_ir_actions_report__encode_error_handling
+msgid "Encode Error Handling"
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields,field_description:report_csv.field_ir_actions_report__encoding
+msgid "Encoding"
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields,help:report_csv.field_ir_actions_report__encoding
+msgid "Encoding to be applied to the generated CSV file. e.g. cp932"
+msgstr ""
+
+#. module: report_csv
+#: code:addons/report_csv/report/report_csv.py:0
+#, python-format
+msgid "Failed to encode the data with the encoding set in the report."
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract__id
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv__id
 msgid "ID"
 msgstr ""
 
 #. module: report_csv
+#: model:ir.model.fields,help:report_csv.field_ir_actions_report__encode_error_handling
+msgid ""
+"If nothing is selected, CSV export will fail with an error message when "
+"there is a character that fail to be encoded."
+msgstr ""
+
+#. module: report_csv
+#: model:ir.model.fields.selection,name:report_csv.selection__ir_actions_report__encode_error_handling__ignore
+msgid "Ignore"
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_abstract____last_update
 #: model:ir.model.fields,field_description:report_csv.field_report_report_csv_partner_csv____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: report_csv
 #: model:ir.actions.report,name:report_csv.partner_csv
 msgid "Print to CSV"
 msgstr ""
 
 #. module: report_csv
+#: model:ir.model.fields.selection,name:report_csv.selection__ir_actions_report__encode_error_handling__replace
+msgid "Replace"
+msgstr ""
+
+#. module: report_csv
 #: model:ir.model,name:report_csv.model_ir_actions_report
 msgid "Report Action"
 msgstr ""
 
 #. module: report_csv
 #: model:ir.model,name:report_csv.model_report_report_csv_partner_csv
 msgid "Report Partner to CSV"
```

## odoo/addons/report_csv/models/ir_report.py

```diff
@@ -5,23 +5,35 @@
 from odoo.exceptions import UserError
 
 
 class ReportAction(models.Model):
     _inherit = "ir.actions.report"
 
     report_type = fields.Selection(selection_add=[("csv", "csv")])
+    encoding = fields.Char(
+        help="Encoding to be applied to the generated CSV file. e.g. cp932"
+    )
+    encode_error_handling = fields.Selection(
+        selection=[("ignore", "Ignore"), ("replace", "Replace")],
+        help="If nothing is selected, CSV export will fail with an error message when "
+        "there is a character that fail to be encoded.",
+    )
 
     @api.model
     def render_csv(self, docids, data):
         report_model_name = "report.%s" % self.report_name
         report_model = self.env.get(report_model_name)
         if report_model is None:
             raise UserError(_("%s model was not found" % report_model_name))
         return report_model.with_context(
-            {"active_model": self.model}
+            {
+                "active_model": self.model,
+                "encoding": self.encoding,
+                "encode_error_handling": self.encode_error_handling,
+            }
         ).create_csv_report(docids, data)
 
     @api.model
     def _get_report_from_name(self, report_name):
         res = super(ReportAction, self)._get_report_from_name(report_name)
         if res:
             return res
```

## odoo/addons/report_csv/readme/CONTRIBUTORS.rst

```diff
@@ -1,3 +1,6 @@
 * Enric Tobella <etobella@creublanca.es>
 * Jaime Arroyo <jaime.arroyo@creublanca.es>
 * Rattapong Chokmasermkul <rattapongc@ecosoft.co.th>
+* `Quartile <https://www.quartile.co>`__:
+
+  * Aung Ko Ko Lin
```

## odoo/addons/report_csv/readme/USAGE.rst

```diff
@@ -32,7 +32,9 @@
         model="res.partner"
         string="Print to CSV"
         report_type="csv"
         name="module_name.report_name"
         file="res_partner"
         attachment_use="False"
     />
+
+Update encoding with an appropriate value (e.g. cp932) as necessary.
```

## odoo/addons/report_csv/report/report_csv.py

```diff
@@ -1,14 +1,15 @@
 # Copyright 2019 Creu Blanca
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 import logging
 from io import StringIO
 
-from odoo import models
+from odoo import _, models
+from odoo.exceptions import UserError
 
 _logger = logging.getLogger(__name__)
 
 try:
     import csv
 except ImportError:
     _logger.debug("Can not import csvwriter`.")
@@ -42,15 +43,26 @@
 
     def create_csv_report(self, docids, data):
         objs = self._get_objs_for_report(docids, data)
         file_data = StringIO()
         file = csv.DictWriter(file_data, **self.csv_report_options())
         self.generate_csv_report(file, data, objs)
         file_data.seek(0)
-        return file_data.read(), "csv"
+        encoding = self._context.get("encoding")
+        if not encoding:
+            return file_data.read(), "csv"
+        error_handling = self._context.get("encode_error_handling")
+        if error_handling:
+            return file_data.read().encode(encoding, errors=error_handling), "csv"
+        try:
+            return file_data.read().encode(encoding), "csv"
+        except Exception:
+            raise UserError(
+                _("Failed to encode the data with the encoding set in the report.")
+            )
 
     def csv_report_options(self):
         """
         :return: dictionary of parameters. At least return 'fieldnames', but
         you can optionally return parameters that define the export format.
         Valid parameters include 'delimiter', 'quotechar', 'escapechar',
         'doublequote', 'skipinitialspace', 'lineterminator', 'quoting'.
```

## odoo/addons/report_csv/static/description/index.html

### odoo/addons/report_csv/static/description/index.html

```diff
@@ -384,38 +384,63 @@
       <p>This module provides a basic report class to generate csv report.</p>
       <p>
         <strong>Table of contents</strong>
       </p>
       <div class="contents local topic" id="contents">
         <ul class="simple">
           <li>
-            <a class="reference internal" href="#usage" id="id1">Usage</a>
+            <a class="reference internal" href="#configuration" id="id1">Configuration</a>
           </li>
           <li>
-            <a class="reference internal" href="#bug-tracker" id="id2">Bug Tracker</a>
+            <a class="reference internal" href="#usage" id="id2">Usage</a>
           </li>
           <li>
-            <a class="reference internal" href="#credits" id="id3">Credits</a>
+            <a class="reference internal" href="#bug-tracker" id="id3">Bug Tracker</a>
+          </li>
+          <li>
+            <a class="reference internal" href="#credits" id="id4">Credits</a>
             <ul>
               <li>
-                <a class="reference internal" href="#authors" id="id4">Authors</a>
+                <a class="reference internal" href="#authors" id="id5">Authors</a>
               </li>
               <li>
-                <a class="reference internal" href="#contributors" id="id5">Contributors</a>
+                <a class="reference internal" href="#contributors" id="id6">Contributors</a>
               </li>
               <li>
-                <a class="reference internal" href="#maintainers" id="id6">Maintainers</a>
+                <a class="reference internal" href="#maintainers" id="id7">Maintainers</a>
               </li>
             </ul>
           </li>
         </ul>
       </div>
+      <div class="section" id="configuration">
+        <h1>
+          <a class="toc-backref" href="#id1">Configuration</a>
+        </h1>
+        <p>
+          In case the exported CSV report should be encoded in another system than UTF-8, following
+fields of the report record (
+          <em>Settings &gt; Technical &gt; Reports</em>
+          ) should be populated accordingly.
+        </p>
+        <ul class="simple">
+          <li>Encoding: set an encoding system (such as cp932)</li>
+          <li>
+            Encode Error Handling: select ‘Ignore’ or ‘Replace’ as necessary.
+            <ul>
+              <li>‘Ignore’: in case of an encoding error, the problematic character will be removed from the exported file.</li>
+              <li>‘Replace’: in case of an encoding error, the problematic character will be replaced with ‘?’ symbol.</li>
+              <li>Leaving the field blank: in case of an encoding error, the report generation fails with an error message.</li>
+            </ul>
+          </li>
+        </ul>
+      </div>
       <div class="section" id="usage">
         <h1>
-          <a class="toc-backref" href="#id1">Usage</a>
+          <a class="toc-backref" href="#id2">Usage</a>
         </h1>
         <p>
           An example of CSV report for partners on a module called
           <cite>module_name</cite>
           :
         </p>
         <p>A python class</p>
@@ -446,45 +471,46 @@
     model=&quot;res.partner&quot;
     string=&quot;Print to CSV&quot;
     report_type=&quot;csv&quot;
     name=&quot;module_name.report_name&quot;
     file=&quot;res_partner&quot;
     attachment_use=&quot;False&quot;
 /&gt;</pre>
+        <p>Update encoding with an appropriate value (e.g. cp932) as necessary.</p>
       </div>
       <div class="section" id="bug-tracker">
         <h1>
-          <a class="toc-backref" href="#id2">Bug Tracker</a>
+          <a class="toc-backref" href="#id3">Bug Tracker</a>
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/reporting-engine/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
           <a class="reference external" href="https://github.com/OCA/reporting-engine/issues/new?body=module:%20report_csv%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
-          <a class="toc-backref" href="#id3">Credits</a>
+          <a class="toc-backref" href="#id4">Credits</a>
         </h1>
         <div class="section" id="authors">
           <h2>
-            <a class="toc-backref" href="#id4">Authors</a>
+            <a class="toc-backref" href="#id5">Authors</a>
           </h2>
           <ul class="simple">
             <li>Creu Blanca</li>
           </ul>
         </div>
         <div class="section" id="contributors">
           <h2>
-            <a class="toc-backref" href="#id5">Contributors</a>
+            <a class="toc-backref" href="#id6">Contributors</a>
           </h2>
           <ul class="simple">
             <li>
               Enric Tobella &lt;
               <a class="reference external" href="mailto:etobella@creublanca.es">etobella@creublanca.es</a>
               &gt;
             </li>
@@ -494,19 +520,26 @@
               &gt;
             </li>
             <li>
               Rattapong Chokmasermkul &lt;
               <a class="reference external" href="mailto:rattapongc@ecosoft.co.th">rattapongc@ecosoft.co.th</a>
               &gt;
             </li>
+            <li>
+              <a class="reference external" href="https://www.quartile.co">Quartile</a>
+              :
+              <ul>
+                <li>Aung Ko Ko Lin</li>
+              </ul>
+            </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
-            <a class="toc-backref" href="#id6">Maintainers</a>
+            <a class="toc-backref" href="#id7">Maintainers</a>
           </h2>
           <p>This module is maintained by the OCA.</p>
           <a class="reference external image-reference" href="https://odoo-community.org">
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
```

## odoo/addons/report_csv/tests/test_report.py

```diff
@@ -1,12 +1,13 @@
 # Copyright 2019 Creu Blanca
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 import logging
 from io import StringIO
 
+from odoo.exceptions import UserError
 from odoo.tests import common
 
 _logger = logging.getLogger(__name__)
 try:
     import csv
 except ImportError:
     _logger.debug("Can not import csv.")
@@ -52,7 +53,19 @@
             self.docs.ids, {"data": [self.report_name, self.report.report_type]}
         )
         self.assertEquals(objs, self.docs)
 
         # Typical call from render
         objs = self.csv_report._get_objs_for_report(self.docs.ids, {})
         self.assertEquals(objs, self.docs)
+
+    def test_report_with_encoding(self):
+        report = self.report
+        report.write({"encoding": "cp932"})
+        rep = report.render_csv(self.docs.ids, {})
+        str_io = StringIO(rep[0].decode())
+        dict_report = list(csv.DictReader(str_io, delimiter=";", quoting=csv.QUOTE_ALL))
+        self.assertEqual(self.docs.name, dict(dict_report[0])["name"])
+
+        report.write({"encoding": "xyz"})
+        with self.assertRaises(UserError):
+            rep = report.render_csv(self.docs.ids, {})
```

## Comparing `odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/RECORD` & `odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,26 +1,28 @@
-odoo/addons/report_csv/README.rst,sha256=Bm4-_KxMnIbdb4r3hoI3wBhN93mvmOFmz-ePoLDml2s,3812
+odoo/addons/report_csv/README.rst,sha256=VB6COyLcW8LHXPfgKb6NXoIqLpzdmY4-188Ud-5Rbs0,4606
 odoo/addons/report_csv/__init__.py,sha256=UDc4zQiSVo3VzdZ0hdwnE8XHcE_qxgIm41icJJtEyck,68
-odoo/addons/report_csv/__manifest__.py,sha256=u7txEm3ZyqcvQBv-7A5W8NqBascbKZdUlSHhqQGL_nI,526
+odoo/addons/report_csv/__manifest__.py,sha256=3kPlPr6FU5CkhlF5nM-HWe8MZZMOY_EnIGq7gKSZmaE,556
 odoo/addons/report_csv/controllers/__init__.py,sha256=4KFqEP2QHFbPN66eQJMdGsmNz2v7ywWv_FR1pW_kkLk,19
 odoo/addons/report_csv/controllers/main.py,sha256=QxzeSTjbA9r0SHkR4aZIDVgDHlHXO--h4Ag21x222cc,2597
 odoo/addons/report_csv/demo/report.xml,sha256=vidiYIq1d0XKLCbcGhNGbQRgs22VUzIwh1l3Slrel0g,398
-odoo/addons/report_csv/i18n/it.po,sha256=I5q7U37MrE0INwtAYtpqLYfhxXyndkHlhhw3MCnV6Xw,3573
-odoo/addons/report_csv/i18n/report_csv.pot,sha256=p4jGMJ-jTKFJflTmUhp_eAb5BT5rsY05Dsc1QUtSt0c,2813
+odoo/addons/report_csv/i18n/it.po,sha256=zr8TSbdyJsZXp6vYZ-MJjIpmcFCtPRIh95UdKnn5Q4Y,4795
+odoo/addons/report_csv/i18n/report_csv.pot,sha256=dFbHKOD_nGTV3bVFsnqmIcyGCPEEJMLAwjYeS_0-vF4,4035
 odoo/addons/report_csv/models/__init__.py,sha256=rIjyj14jv0HgU8mUMYNsokb4b7otwjga1idwOswlIBY,24
-odoo/addons/report_csv/models/ir_report.py,sha256=kBMVwTWLe6C_qDoL7GXqUShe1YelpIU8mROju0Rsxn4,1237
-odoo/addons/report_csv/readme/CONTRIBUTORS.rst,sha256=DzrPccyzIhswSOBq9GhXlsCpdJ_5p8P1f3Lr2nhgbLg,138
+odoo/addons/report_csv/models/ir_report.py,sha256=cdsazMxw3tN6XTBSC-o92_oUD--kNWHaHO_kqzUB46M,1753
+odoo/addons/report_csv/readme/CONFIGURE.rst,sha256=elFX9MdGaTYncxxBiRsFEznq3vCf_mB6wFVw8DHC46o,632
+odoo/addons/report_csv/readme/CONTRIBUTORS.rst,sha256=lHHP8tUjkquRLd3X4HBRsMFnGd-HdMMHNhe9TA8gtMM,200
 odoo/addons/report_csv/readme/DESCRIPTION.rst,sha256=N1UyQGfbUfk8jzI-xbuqqpofRUbRQ7zfwuJjnNc9U1c,66
-odoo/addons/report_csv/readme/USAGE.rst,sha256=Ao_CjgfmoFwEaQSC9Ao640ARBHEy4fYWpRo4UXQkG-8,1051
+odoo/addons/report_csv/readme/USAGE.rst,sha256=zh1wOSWaJJSPzt87P0SGZ47R3CQ0Q5bYCwz9n-ZKuvI,1121
 odoo/addons/report_csv/report/__init__.py,sha256=pJkrCZjR1OEAk0Nb118yU1o9snNIyvwzRGk4tuV-rwI,58
-odoo/addons/report_csv/report/report_csv.py,sha256=DkafZUwzlQ473jAoVUQ6hxTCb9wooZWCqs-PshYN7L0,2195
+odoo/addons/report_csv/report/report_csv.py,sha256=qA4-M3Fd05Ho2gRa6nqiUCiPJpLvr_tWpJYBD2MOgkY,2718
 odoo/addons/report_csv/report/report_partner_csv.py,sha256=H9heR5eDaidayK7E1Aq6pIG_o1xHs2pN6E4ADW1G_YA,744
 odoo/addons/report_csv/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/report_csv/static/description/index.html,sha256=f8NTZKQ0vptn2OrGJkMaG0i2cDQSirkYhm6TFykc0rU,13325
+odoo/addons/report_csv/static/description/index.html,sha256=jmpPzdWHSvS9hF0Ud4h61U3KG5ljWqF3qpi0cqQ6Hzo,14454
 odoo/addons/report_csv/static/src/js/report/qwebactionmanager.js,sha256=wOkJrpdqX9cUSBCNxv16GielSZ2wFf54LXMAP-ZzzYg,3839
 odoo/addons/report_csv/tests/__init__.py,sha256=bmniqbMkuna6Y1OaYP9e2UxIUl5DPrTrL9XRpcRu8C4,26
-odoo/addons/report_csv/tests/test_report.py,sha256=fZW3wsaPc_X5e2a25y643oAxgZKXTUHKPrH3x7JTWTo,2061
+odoo/addons/report_csv/tests/test_report.py,sha256=IXsxe10IKa1hPmQ_C041lPPWPhLC3cT1rBq3PdV035w,2609
+odoo/addons/report_csv/views/ir_actions_views.xml,sha256=WGyfum0kO5GiiFkei3-lB3UQ0pvWIkN1K58FgWNZ95A,763
 odoo/addons/report_csv/views/webclient_templates.xml,sha256=fOL6y8974eykqXiowR_STkj68Cp0mLCaSu59BJesUFk,460
-odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/METADATA,sha256=C35iVdWOEndBFBJ7HJxFI92rTg8AVXR-pmAF8vzx5zE,4363
-odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo13_addon_report_csv-13.0.1.0.3.dev4.dist-info/RECORD,,
+odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/METADATA,sha256=8y7G_sBWXSlMZ41Sae04HhTrWQq8kpzIbucfK8s5r9E,5157
+odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo13_addon_report_csv-13.0.1.0.4.dev1.dist-info/RECORD,,
```

