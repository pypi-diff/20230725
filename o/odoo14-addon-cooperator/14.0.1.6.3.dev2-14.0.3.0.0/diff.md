# Comparing `tmp/odoo14_addon_cooperator-14.0.1.6.3.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_cooperator-14.0.3.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,71 +1,80 @@
-Zip file size: 151735 bytes, number of entries: 69
--rw-r--r--  2.0 unx     6386 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/README.rst
--rw-r--r--  2.0 unx       63 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/__init__.py
--rw-r--r--  2.0 unx     2027 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/__manifest__.py
--rw-r--r--  2.0 unx     1403 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/data/data.xml
--rw-r--r--  2.0 unx    20236 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/data/mail_template_data.xml
--rw-r--r--  2.0 unx     8386 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/demo/coop.xml
--rw-r--r--  2.0 unx     1787 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/demo/users.xml
--rw-r--r--  2.0 unx   125753 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/ca_ES.po
--rw-r--r--  2.0 unx    94237 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/cooperator.pot
--rw-r--r--  2.0 unx    94455 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/es.po
--rw-r--r--  2.0 unx   118963 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/fr.po
--rw-r--r--  2.0 unx    96172 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/fr_BE.po
--rw-r--r--  2.0 unx    96586 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/i18n/nl_BE.po
--rw-r--r--  2.0 unx      368 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/migrations/14.0.1.1.0/post-fix_subscription_request_names.py
--rw-r--r--  2.0 unx      629 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/migrations/14.0.1.1.0/post-remove_subscription_request_subscription_type.py
--rw-r--r--  2.0 unx      279 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/__init__.py
--rw-r--r--  2.0 unx      405 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/account_journal.py
--rw-r--r--  2.0 unx     8299 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/account_move.py
--rw-r--r--  2.0 unx     5511 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/company.py
--rw-r--r--  2.0 unx      179 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/mail_template.py
--rw-r--r--  2.0 unx    15598 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/operation_request.py
--rw-r--r--  2.0 unx     7053 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/partner.py
--rw-r--r--  2.0 unx     1545 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/product.py
--rw-r--r--  2.0 unx     1764 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/share_line.py
--rw-r--r--  2.0 unx     4216 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/subscription_register.py
--rw-r--r--  2.0 unx    26749 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/models/subscription_request.py
--rw-r--r--  2.0 unx      222 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx     1178 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      955 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/HISTORY.rst
--rw-r--r--  2.0 unx      871 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/INSTALL.rst
--rw-r--r--  2.0 unx      563 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      171 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/readme/USAGE.rst
--rw-r--r--  2.0 unx       37 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/__init__.py
--rw-r--r--  2.0 unx      704 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/account_invoice_report.py
--rw-r--r--  2.0 unx     6203 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/cooperator_certificat_G001.xml
--rw-r--r--  2.0 unx    13771 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/cooperator_invoice_G002.xml
--rw-r--r--  2.0 unx     8336 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/cooperator_register_G001.xml
--rw-r--r--  2.0 unx     6035 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/cooperator_subscription_G001.xml
--rw-r--r--  2.0 unx     3189 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/layout.xml
--rw-r--r--  2.0 unx     2501 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/report/reports.xml
--rw-r--r--  2.0 unx     2570 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/security/ir.model.access.csv
--rw-r--r--  2.0 unx      807 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/security/res_groups.xml
--rw-r--r--  2.0 unx     3721 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/static/description/icon.png
--rw-r--r--  2.0 unx     6834 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/static/description/icon.svg
--rw-r--r--  2.0 unx    18070 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/static/description/index.html
--rw-r--r--  2.0 unx       30 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/tests/__init__.py
--rw-r--r--  2.0 unx     7973 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/tests/cooperator_test_mixin.py
--rw-r--r--  2.0 unx    22693 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/tests/test_cooperator.py
--rw-r--r--  2.0 unx      655 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/account_journal_views.xml
--rw-r--r--  2.0 unx     2090 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/account_move_views.xml
--rw-r--r--  2.0 unx      946 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/mail_template_view.xml
--rw-r--r--  2.0 unx     3196 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/menus.xml
--rw-r--r--  2.0 unx     8874 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/operation_request_view.xml
--rw-r--r--  2.0 unx     7487 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/product_view.xml
--rw-r--r--  2.0 unx     2484 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/res_company_view.xml
--rw-r--r--  2.0 unx    11743 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/res_partner_view.xml
--rw-r--r--  2.0 unx     4296 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/subscription_register_view.xml
--rw-r--r--  2.0 unx    14343 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/views/subscription_request_view.xml
--rw-r--r--  2.0 unx      123 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/__init__.py
--rw-r--r--  2.0 unx     8209 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/create_subscription_from_partner.py
--rw-r--r--  2.0 unx     2717 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/create_subscription_from_partner.xml
--rw-r--r--  2.0 unx     1650 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/update_share_line.py
--rw-r--r--  2.0 unx     1712 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/update_share_line.xml
--rw-r--r--  2.0 unx      670 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/validate_subscription_request.py
--rw-r--r--  2.0 unx     1313 b- defN 23-Jun-23 03:03 odoo/addons/cooperator/wizard/validate_subscription_request.xml
--rw-r--r--  2.0 unx     7078 b- defN 23-Jun-23 03:03 odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-23 03:03 odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-23 03:03 odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     7224 b- defN 23-Jun-23 03:03 odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/RECORD
-69 files, 933390 bytes uncompressed, 139757 bytes compressed:  85.0%
+Zip file size: 168850 bytes, number of entries: 78
+-rw-r--r--  2.0 unx     8308 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/README.rst
+-rw-r--r--  2.0 unx       63 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/__init__.py
+-rw-r--r--  2.0 unx     2059 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/__manifest__.py
+-rw-r--r--  2.0 unx      876 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/data/data.xml
+-rw-r--r--  2.0 unx    20243 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/data/mail_template_data.xml
+-rw-r--r--  2.0 unx     8676 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/demo/coop.xml
+-rw-r--r--  2.0 unx     1787 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/demo/users.xml
+-rw-r--r--  2.0 unx   125767 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/ca_ES.po
+-rw-r--r--  2.0 unx    98429 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/cooperator.pot
+-rw-r--r--  2.0 unx    94462 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/es.po
+-rw-r--r--  2.0 unx   118970 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/fr.po
+-rw-r--r--  2.0 unx    96179 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/fr_BE.po
+-rw-r--r--  2.0 unx    96593 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/i18n/nl_BE.po
+-rw-r--r--  2.0 unx      368 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/migrations/14.0.1.1.0/post-fix_subscription_request_names.py
+-rw-r--r--  2.0 unx      629 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/migrations/14.0.1.1.0/post-remove_subscription_request_subscription_type.py
+-rw-r--r--  2.0 unx     1545 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/migrations/14.0.1.7.0/post-set_subscription_journal_on_company.py
+-rw-r--r--  2.0 unx     1411 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/migrations/14.0.1.7.0/pre-migration.py
+-rw-r--r--  2.0 unx     1793 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/migrations/14.0.2.0.0/post-create_cooperative_memberships.py
+-rw-r--r--  2.0 unx      353 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/__init__.py
+-rw-r--r--  2.0 unx      382 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/account_chart_template.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/account_journal.py
+-rw-r--r--  2.0 unx     9504 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/account_move.py
+-rw-r--r--  2.0 unx    14782 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/company.py
+-rw-r--r--  2.0 unx     7705 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/cooperative_membership.py
+-rw-r--r--  2.0 unx      179 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/mail_template.py
+-rw-r--r--  2.0 unx    15766 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/operation_request.py
+-rw-r--r--  2.0 unx     9780 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/partner.py
+-rw-r--r--  2.0 unx     1545 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/product.py
+-rw-r--r--  2.0 unx     1848 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/share_line.py
+-rw-r--r--  2.0 unx      261 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/share_type.py
+-rw-r--r--  2.0 unx     4331 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/subscription_register.py
+-rw-r--r--  2.0 unx    30800 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/models/subscription_request.py
+-rw-r--r--  2.0 unx      222 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx     1178 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     2145 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/HISTORY.rst
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/INSTALL.rst
+-rw-r--r--  2.0 unx     1295 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/readme/USAGE.rst
+-rw-r--r--  2.0 unx       37 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/__init__.py
+-rw-r--r--  2.0 unx      704 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/account_invoice_report.py
+-rw-r--r--  2.0 unx     6203 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/cooperator_certificat_G001.xml
+-rw-r--r--  2.0 unx    13771 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/cooperator_invoice_G002.xml
+-rw-r--r--  2.0 unx     8336 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/cooperator_register_G001.xml
+-rw-r--r--  2.0 unx     6035 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/cooperator_subscription_G001.xml
+-rw-r--r--  2.0 unx     3189 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/layout.xml
+-rw-r--r--  2.0 unx     2501 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/report/reports.xml
+-rw-r--r--  2.0 unx     2991 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     1777 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/security/ir_rule.xml
+-rw-r--r--  2.0 unx      807 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/security/res_groups.xml
+-rw-r--r--  2.0 unx     3721 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/static/description/icon.png
+-rw-r--r--  2.0 unx     6834 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/static/description/icon.svg
+-rw-r--r--  2.0 unx    20812 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/static/description/index.html
+-rw-r--r--  2.0 unx      103 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/tests/__init__.py
+-rw-r--r--  2.0 unx     7086 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/tests/cooperator_test_mixin.py
+-rw-r--r--  2.0 unx    49892 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/tests/test_cooperator.py
+-rw-r--r--  2.0 unx     2620 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/tests/test_cooperator_security.py
+-rw-r--r--  2.0 unx     1147 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/tests/test_mail_templates.py
+-rw-r--r--  2.0 unx      655 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/account_journal_views.xml
+-rw-r--r--  2.0 unx     2090 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/account_move_views.xml
+-rw-r--r--  2.0 unx      946 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/mail_template_view.xml
+-rw-r--r--  2.0 unx     3196 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/menus.xml
+-rw-r--r--  2.0 unx     9521 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/operation_request_view.xml
+-rw-r--r--  2.0 unx     7619 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/product_view.xml
+-rw-r--r--  2.0 unx     3849 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/res_company_view.xml
+-rw-r--r--  2.0 unx    12883 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/res_partner_view.xml
+-rw-r--r--  2.0 unx     4460 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/subscription_register_view.xml
+-rw-r--r--  2.0 unx    14679 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/views/subscription_request_view.xml
+-rw-r--r--  2.0 unx      123 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/__init__.py
+-rw-r--r--  2.0 unx     8574 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/create_subscription_from_partner.py
+-rw-r--r--  2.0 unx     2799 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/create_subscription_from_partner.xml
+-rw-r--r--  2.0 unx     1650 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/update_share_line.py
+-rw-r--r--  2.0 unx     1712 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/update_share_line.xml
+-rw-r--r--  2.0 unx      670 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/validate_subscription_request.py
+-rw-r--r--  2.0 unx     1313 b- defN 23-Jul-25 09:41 odoo/addons/cooperator/wizard/validate_subscription_request.xml
+-rw-r--r--  2.0 unx     8995 b- defN 23-Jul-25 09:41 odoo14_addon_cooperator-14.0.3.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-25 09:41 odoo14_addon_cooperator-14.0.3.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-25 09:41 odoo14_addon_cooperator-14.0.3.0.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     8253 b- defN 23-Jul-25 09:41 odoo14_addon_cooperator-14.0.3.0.0.dist-info/RECORD
+78 files, 1014331 bytes uncompressed, 155158 bytes compressed:  84.7%
```

## zipnote {}

```diff
@@ -39,26 +39,41 @@
 
 Filename: odoo/addons/cooperator/migrations/14.0.1.1.0/post-fix_subscription_request_names.py
 Comment: 
 
 Filename: odoo/addons/cooperator/migrations/14.0.1.1.0/post-remove_subscription_request_subscription_type.py
 Comment: 
 
+Filename: odoo/addons/cooperator/migrations/14.0.1.7.0/post-set_subscription_journal_on_company.py
+Comment: 
+
+Filename: odoo/addons/cooperator/migrations/14.0.1.7.0/pre-migration.py
+Comment: 
+
+Filename: odoo/addons/cooperator/migrations/14.0.2.0.0/post-create_cooperative_memberships.py
+Comment: 
+
 Filename: odoo/addons/cooperator/models/__init__.py
 Comment: 
 
+Filename: odoo/addons/cooperator/models/account_chart_template.py
+Comment: 
+
 Filename: odoo/addons/cooperator/models/account_journal.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/account_move.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/company.py
 Comment: 
 
+Filename: odoo/addons/cooperator/models/cooperative_membership.py
+Comment: 
+
 Filename: odoo/addons/cooperator/models/mail_template.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/operation_request.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/partner.py
@@ -66,14 +81,17 @@
 
 Filename: odoo/addons/cooperator/models/product.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/share_line.py
 Comment: 
 
+Filename: odoo/addons/cooperator/models/share_type.py
+Comment: 
+
 Filename: odoo/addons/cooperator/models/subscription_register.py
 Comment: 
 
 Filename: odoo/addons/cooperator/models/subscription_request.py
 Comment: 
 
 Filename: odoo/addons/cooperator/readme/CONTRIBUTORS.rst
@@ -117,14 +135,17 @@
 
 Filename: odoo/addons/cooperator/report/reports.xml
 Comment: 
 
 Filename: odoo/addons/cooperator/security/ir.model.access.csv
 Comment: 
 
+Filename: odoo/addons/cooperator/security/ir_rule.xml
+Comment: 
+
 Filename: odoo/addons/cooperator/security/res_groups.xml
 Comment: 
 
 Filename: odoo/addons/cooperator/static/description/icon.png
 Comment: 
 
 Filename: odoo/addons/cooperator/static/description/icon.svg
@@ -138,14 +159,20 @@
 
 Filename: odoo/addons/cooperator/tests/cooperator_test_mixin.py
 Comment: 
 
 Filename: odoo/addons/cooperator/tests/test_cooperator.py
 Comment: 
 
+Filename: odoo/addons/cooperator/tests/test_cooperator_security.py
+Comment: 
+
+Filename: odoo/addons/cooperator/tests/test_mail_templates.py
+Comment: 
+
 Filename: odoo/addons/cooperator/views/account_journal_views.xml
 Comment: 
 
 Filename: odoo/addons/cooperator/views/account_move_views.xml
 Comment: 
 
 Filename: odoo/addons/cooperator/views/mail_template_view.xml
@@ -189,20 +216,20 @@
 
 Filename: odoo/addons/cooperator/wizard/validate_subscription_request.py
 Comment: 
 
 Filename: odoo/addons/cooperator/wizard/validate_subscription_request.xml
 Comment: 
 
-Filename: odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/METADATA
+Filename: odoo14_addon_cooperator-14.0.3.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/WHEEL
+Filename: odoo14_addon_cooperator-14.0.3.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_cooperator-14.0.3.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/RECORD
+Filename: odoo14_addon_cooperator-14.0.3.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/cooperator/README.rst

```diff
@@ -103,17 +103,49 @@
 Consider a refactoring for:
 1. removing a potential redundancy between the boolean field "representative" and the address type "representative".
 2. prevent new contacts to have the representative address type, if they are not representative.
 See [this issue](https://github.com/coopiteasy/vertical-cooperative/issues/350)
 
 known_caveats: the cooperator localization modules will have to be splitted in order to install the `cooperator` module without the `cooperator_website` module.
 
+Registering a payment for a subscription request for a company other than the
+current one does not create the cooperative membership information for the
+partner.
+
+A “Cooperative Memberships” page should be added to the ``res.partner`` form,
+displaying all the cooperative memberships of the partner
+(``cooperative_membership_ids``). The page should only be visible for users
+that are both in the ``cooperator_group_user`` group and in the
+``base.group_multi_company`` group (how to do this?). Should it display the
+memberships of all companies or only the ones in which the user is “logged in”
+(checked in the menu)? If all companies, there would be a conflict with the
+``cooperative_membership_rule_company`` ``ir.rule``.
+
 Changelog
 =========
 
+14.0.3.0.0 (2023-07-25)
+~~~~~~~~~~~~~~~~~~~~~~~
+
+**Features**
+
+- Each company now has their own mail templates for cooperator-related e-mails. If
+  no template is set, the default (global) template is used. (`#73 <https://github.com/OCA/cooperative/issues/73>`_)
+- ir.sequences used by this module are no longer global; each company has its own
+  sequence for cooperator memberships. (`#74 <https://github.com/OCA/cooperative/issues/74>`_)
+- Create subscription journal per company. (`#75 <https://github.com/OCA/cooperative/issues/75>`_)
+- Improve multi-company consistency by setting ``company_id`` on records where
+  needed and adding the ``check_company`` flag on ``Many2one`` fields. (`#77 <https://github.com/OCA/cooperative/issues/77>`_)
+- ir.rules for multi-company usage added. Users cannot access records of this
+  module if they are not members of the relevant company. (`#78 <https://github.com/OCA/cooperative/issues/78>`_)
+- Move cooperative membership properties from ``res.partner`` to new
+  ``cooperative.membership`` model and add company-dependent computed fields on
+  ``res.partner`` for backward compatibility. (`#82 <https://github.com/OCA/cooperative/issues/82>`_)
+
+
 14.0.1.6.0 (2023-02-23)
 ~~~~~~~~~~~~~~~~~~~~~~~
 
 **Features**
 
 - Removed all selection widgets. (`#55 <https://github.com/OCA/cooperative/issues/55>`_)
```

## odoo/addons/cooperator/__manifest__.py

```diff
@@ -3,15 +3,15 @@
 #   Houssine BAKKALI <houssine@coopiteasy.be>
 #   Robin Keunen <robin@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 {
     "name": "Cooperators",
     "summary": "Manage your cooperators",
-    "version": "14.0.1.6.2",
+    "version": "14.0.3.0.0",
     "depends": [
         "account",
         "base_iban",
         "mail",
         "web",
         # todo split into cooperator_partner_firstname
         "partner_firstname",
@@ -24,14 +24,15 @@
     "category": "Cooperative management",
     "website": "https://github.com/OCA/cooperative",
     "license": "AGPL-3",
     "data": [
         "data/data.xml",
         "security/res_groups.xml",
         "security/ir.model.access.csv",
+        "security/ir_rule.xml",
         "wizard/create_subscription_from_partner.xml",
         "wizard/validate_subscription_request.xml",
         "wizard/update_share_line.xml",
         "views/subscription_request_view.xml",
         "views/mail_template_view.xml",
         "views/res_partner_view.xml",
         "views/subscription_register_view.xml",
```

## odoo/addons/cooperator/data/data.xml

### odoo/addons/cooperator/data/data.xml

```diff
@@ -6,26 +6,15 @@
       <field name="description">Manage your cooperative.</field>
       <field name="sequence">3</field>
     </record>
     <!-- Product -->
     <record id="product_category_company_share" model="product.category">
       <field name="name">Company Share</field>
     </record>
-    <record id="subscription_journal" model="account.journal">
-      <field name="name">Subscription Journal</field>
-      <field name="code">SUBJ</field>
-      <field name="type">sale</field>
-    </record>
-    <record id="sequence_subscription" model="ir.sequence">
-      <field name="name">Subscription Register</field>
-      <field name="code">subscription.register</field>
-      <field eval="1" name="number_next"/>
-      <field eval="1" name="number_increment"/>
-    </record>
-    <record id="sequence_register_operation" model="ir.sequence">
-      <field name="name">Register Operation</field>
-      <field name="code">register.operation</field>
-      <field eval="1" name="number_next"/>
-      <field eval="1" name="number_increment"/>
-    </record>
+    <function model="res.company" name="_create_cooperator_sequences">
+      <function model="res.company" name="search" eval="[[]]"/>
+    </function>
+    <function model="res.company" name="_init_cooperator_data">
+      <function model="res.company" name="search" eval="[[]]"/>
+    </function>
   </data>
 </odoo>
```

## odoo/addons/cooperator/data/mail_template_data.xml

### odoo/addons/cooperator/data/mail_template_data.xml

```diff
@@ -21,15 +21,15 @@
 
     <p>Hello ${object.subscription_request.firstname},</p>
 
     <p>You will find in attachment all the necessary information for the payment. We kindly remind you that your subscription will be effective only once we received the payment.</p>
 
     <p>Do not forget to add the structured communication to the payment.</p>
 
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.company_id.name}.</p>
 
     % if object.company_id.street:
         ${object.company_id.street}
     % endif
     % if object.company_id.street2:
         ${object.company_id.street2}<br/>
@@ -73,15 +73,15 @@
 
     <p>Your request will be soon processed by our team. If all the provided info are correct you will soon receive the payment information in another email.</p>
 
     <br/>
     <p>If you have any question, do not hesitate to contact us.</p>
     <br/>
 
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.company_id.name}.</p>
 
     % if object.company_id.street:
         ${object.company_id.street}
     % endif
     % if object.company_id.street2:
         ${object.company_id.street2}<br/>
@@ -181,15 +181,15 @@
 
     <p>Your request will be soon processed by our team. If all the provided info are correct you will soon receive the payment information in another email.</p>
 
     <br/>
     <p>If you have any question, do not hesitate to contact us.</p>
     <br/>
 
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.company_id.name}.</p>
 
     % if object.company_id.street:
         ${object.company_id.street}
     % endif
     % if object.company_id.street2:
         ${object.company_id.street2}<br/>
@@ -235,15 +235,15 @@
 
     <p>We confirm the reception of you payment. You are now shareholder of our cooperative.</p>
 
     <br/>
     <p>Find in attachment your ${object.env.company.name} certificate.</p>
     <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>
     <br/>
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.env.company.name}.</p>
 
     % if object.env.company.street:
         ${object.env.company.street}
     % endif
     % if object.env.company.street2:
         ${object.env.company.street2}<br/>
@@ -289,15 +289,15 @@
 
     <p>We confirm the reception of you payment for the new share(s) you have taken.</p>
 
     <br/>
     <p>Find in attachment your ${object.env.company.name} certificate.</p>
     <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>
     <br/>
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.env.company.name}.</p>
 
     % if object.env.company.street:
         ${object.env.company.street}
     % endif
     % if object.env.company.street2:
         ${object.env.company.street2}<br/>
@@ -343,15 +343,15 @@
 
     <p>We confirm you that the shares have been transfered to you. If you was not already cooperator, you are now shareholder of our cooperative.</p>
 
     <br/>
     <p>Find in attachment your ${object.env.company.name} certificate.</p>
     <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>
     <br/>
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.env.company.name}.</p>
 
     % if object.env.company.street:
         ${object.env.company.street}
     % endif
     % if object.env.company.street2:
         ${object.env.company.street2}<br/>
@@ -397,15 +397,15 @@
 
     <p>We confirm you that the adaptation on shares portfolio has been succesfully performed. Your cooperator certificate has been adapted accordingly.</p>
 
     <br/>
     <p>Find in attachment your ${object.env.company.name} certificate.</p>
     <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>
     <br/>
-    <p>Sustainably your,</p>
+    <p>Sustainably yours,</p>
     <p>${object.env.company.name}.</p>
 
     % if object.env.company.street:
         ${object.env.company.street}
     % endif
     % if object.env.company.street2:
         ${object.env.company.street2}<br/>
```

## odoo/addons/cooperator/demo/coop.xml

### odoo/addons/cooperator/demo/coop.xml

```diff
@@ -10,14 +10,19 @@
     <field name="name">Virginie Leloup</field>
     <field name="is_company" eval="False"/>
     <field name="email">virginie@demo.net</field>
     <field name="street">Avenue des Dessus-de-Livres, 2</field>
     <field name="city">Namur (Loyers)</field>
     <field name="zip">5101</field>
     <field name="country_id" ref="base.be"/>
+  </record>
+  <record id="cooperative_membership_1_demo" model="cooperative.membership">
+    <field name="company_id" ref="base.main_company"/>
+    <field name="partner_id" ref="res_partner_cooperator_1_demo"/>
+    <field name="cooperator" eval="True"/>
     <field name="member" eval="True"/>
   </record>
   <record id="bank_account_virginie_demo" model="res.partner.bank">
     <field name="acc_number">FR7611808009101234567890147</field>
     <field name="bank_name">Bank</field>
     <field name="partner_id" ref="res_partner_cooperator_1_demo"/>
   </record>
@@ -26,14 +31,19 @@
     <field name="name">Houssine Intégrale</field>
     <field name="is_company" eval="False"/>
     <field name="email">houssine@demo.net</field>
     <field name="street">Avenue des Dessous-de-Livres, 3</field>
     <field name="city">Namur (Loyers)</field>
     <field name="zip">5101</field>
     <field name="country_id" ref="base.be"/>
+  </record>
+  <record id="cooperator_membership_2_demo" model="cooperative.membership">
+    <field name="company_id" ref="base.main_company"/>
+    <field name="partner_id" ref="res_partner_cooperator_2_demo"/>
+    <field name="cooperator" eval="True"/>
     <field name="member" eval="True"/>
   </record>
   <record id="bank_account_houssine_demo" model="res.partner.bank">
     <field name="acc_number">FR7630001007941234567890185</field>
     <field name="bank_name">Bank</field>
     <field name="partner_id" ref="res_partner_cooperator_2_demo"/>
   </record>
@@ -56,44 +66,39 @@
     <field name="is_company" eval="False"/>
     <field name="email">remy@demo.net</field>
     <field name="street">Rue Guido Van Rossum, 2</field>
     <field name="city">Evere</field>
     <field name="zip">5101</field>
     <field name="country_id" ref="base.be"/>
   </record>
-  <record id="account_cooperator_demo" model="account.account">
-    <field name="code">416101</field>
-    <field name="name">Cooperators</field>
-    <field name="user_type_id" ref="account.data_account_type_receivable"/>
-    <field name="reconcile" eval="True"/>
-  </record>
-  <record id="account_equity_demo" model="account.account">
-    <field name="name">Equity</field>
-    <field name="code">100910</field>
-    <field eval="True" name="reconcile"/>
-    <field name="user_type_id" ref="account.data_account_type_equity"/>
-  </record>
-  <record id="base.main_company" model="res.company">
-    <field name="property_cooperator_account" ref="account_cooperator_demo"/>
-  </record>
+  <!--
+        this is here only to support the case where a database is initialized
+        without demo data, and demo data is loaded later on (because this
+        function is also called indirectly from the main xml data file).
+    -->
+  <function model="res.company" name="_init_cooperator_demo_data">
+    <value model="res.company" search="[]"/>
+  </function>
   <record id="product_template_share_type_1_demo" model="product.template">
     <field name="name">Part A - Founder</field>
     <field name="short_name">Part A</field>
+    <field name="default_code">share_a</field>
     <field name="is_share" eval="True"/>
     <field name="default_share_product" eval="True"/>
     <field name="force_min_qty" eval="True"/>
     <field name="minimum_quantity">2</field>
     <field name="by_individual" eval="True"/>
     <field name="by_company" eval="True"/>
     <field name="list_price">50</field>
     <field name="display_on_website" eval="True"/>
   </record>
   <record id="product_template_share_type_2_demo" model="product.template">
     <field name="name">Part B - Worker</field>
     <field name="short_name">Part B</field>
+    <field name="default_code">share_b</field>
     <field name="is_share" eval="True"/>
     <field name="default_share_product" eval="True"/>
     <field name="force_min_qty" eval="True"/>
     <field name="minimum_quantity">2</field>
     <field name="by_individual" eval="True"/>
     <field name="by_company" eval="False"/>
     <field name="list_price">25</field>
```

## odoo/addons/cooperator/i18n/ca_ES.po

```diff
@@ -134,15 +134,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -185,15 +185,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -235,15 +235,15 @@
 "    <p>You will find in attachment all the necessary information for the "
 "payment. We kindly remind you that your subscription will be effective only "
 "once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</"
 "p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -285,15 +285,15 @@
 "    <p>We confirm the reception of you payment for the new share(s) you have "
 "taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -335,15 +335,15 @@
 "    <p>We confirm the reception of you payment. You are now shareholder of "
 "our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -386,15 +386,15 @@
 "succesfully performed. Your cooperator certificate has been adapted "
 "accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -436,15 +436,15 @@
 "    <p>We confirm you that the shares have been transfered to you. If you "
 "was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -2783,15 +2783,15 @@
 #~ "have taken.</p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>Find in attachment your ${object.company_id.name} certificate.</"
 #~ "p>\n"
 #~ "    <p>Thank you for trusting ${object.company_id.name or 'us'}!</p>\n"
 #~ "    <br/>\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -2881,15 +2881,15 @@
 #~ "of our cooperative</p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>Find in attachment your ${object.company_id.name} certificate.</"
 #~ "p>\n"
 #~ "    <p>Thank you for choosing ${object.company_id.name or 'us'}!</p>\n"
 #~ "    <br/>\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -2979,15 +2979,15 @@
 #~ "accordingly</p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>Find in attachment your ${object.company_id.name} certificate.</"
 #~ "p>\n"
 #~ "    <p>Thank you for choosing ${object.company_id.name or 'us'}!</p>\n"
 #~ "    <br/>\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -3078,15 +3078,15 @@
 #~ "p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>Find in attachment your ${object.company_id.name} certificate.</"
 #~ "p>\n"
 #~ "    <p>Thank you for choosing ${object.company_id.name or 'us'}!</p>\n"
 #~ "    <br/>\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -3179,15 +3179,15 @@
 #~ "participation des membres\". If all the provided info are correct you "
 #~ "will soon receive the payment information in another email</p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 #~ "    <br/>\n"
 #~ "\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -3280,15 +3280,15 @@
 #~ "provided info are correct you will soon receive the payment information "
 #~ "in another email</p>\n"
 #~ "\n"
 #~ "    <br/>\n"
 #~ "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 #~ "    <br/>\n"
 #~ "\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
@@ -3377,15 +3377,15 @@
 #~ "    <p>You will find in attachment all the necessary information for the "
 #~ "payment. We kindly remind you that your subscription will be effective "
 #~ "only once we received the payment.</p>\n"
 #~ "\n"
 #~ "    <p>Do not forget to add the structured communication to the payment.</"
 #~ "p>\n"
 #~ "\n"
-#~ "    <p>Sustainably your,</p>\n"
+#~ "    <p>Sustainably yours,</p>\n"
 #~ "    <p>${object.company_id.name}.</p>\n"
 #~ "\n"
 #~ "    % if object.company_id.street:\n"
 #~ "        ${object.company_id.street}\n"
 #~ "    % endif\n"
 #~ "    % if object.company_id.street2:\n"
 #~ "        ${object.company_id.street2}<br/>\n"
```

## odoo/addons/cooperator/i18n/cooperator.pot

```diff
@@ -73,15 +73,15 @@
 "\n"
 "    <p>Your request will be soon processed by our team. If all the provided info are correct you will soon receive the payment information in another email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -119,15 +119,15 @@
 "\n"
 "    <p>Your request will be soon processed by our team. If all the provided info are correct you will soon receive the payment information in another email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -163,15 +163,15 @@
 "\n"
 "    <p>Hello ${object.subscription_request.firstname},</p>\n"
 "\n"
 "    <p>You will find in attachment all the necessary information for the payment. We kindly remind you that your subscription will be effective only once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -209,15 +209,15 @@
 "\n"
 "    <p>We confirm the reception of you payment for the new share(s) you have taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -255,15 +255,15 @@
 "\n"
 "    <p>We confirm the reception of you payment. You are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -301,15 +301,15 @@
 "\n"
 "    <p>We confirm you that the adaptation on shares portfolio has been succesfully performed. Your cooperator certificate has been adapted accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -347,15 +347,15 @@
 "\n"
 "    <p>We confirm you that the shares have been transfered to you. If you was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -528,14 +528,19 @@
 #. module: cooperator
 #: code:addons/cooperator/wizard/create_subscription_from_partner.py:0
 #, python-format
 msgid "A person can't be representative of two different companies."
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model,name:cooperator.model_account_chart_template
+msgid "Account Chart Template"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__iban
 msgid "Account Number"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__message_needaction
 msgid "Action Needed"
@@ -609,35 +614,31 @@
 
 #. module: cooperator
 #: model:ir.model.fields.selection,name:cooperator.selection__operation_request__state__approved
 msgid "Approved"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__data_policy_approved
-#: model:ir.model.fields,field_description:cooperator.field_res_users__data_policy_approved
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__data_policy_approved
 msgid "Approved Data Policy"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__financial_risk_approved
-#: model:ir.model.fields,field_description:cooperator.field_res_users__financial_risk_approved
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__financial_risk_approved
 msgid "Approved Financial Risk"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__internal_rules_approved
-#: model:ir.model.fields,field_description:cooperator.field_res_users__internal_rules_approved
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__internal_rules_approved
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__internal_rules_approved
 msgid "Approved Internal Rules"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__generic_rules_approved
-#: model:ir.model.fields,field_description:cooperator.field_res_users__generic_rules_approved
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__generic_rules_approved
 msgid "Approved generic rules"
 msgstr ""
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_subscription_request_filter
 msgid "Archived"
 msgstr ""
@@ -716,14 +717,25 @@
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.theme_invoice_G002_document
 msgid "Cancelled Invoice"
 msgstr ""
 
 #. module: cooperator
+#: code:addons/cooperator/models/partner.py:0
+#, python-format
+msgid "Cannot set {name} field on {record}: {delegate} is not set"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_capital_release_mail_template
+msgid "Capital release email template"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.actions.report,name:cooperator.action_cooperator_invoices
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__capital_release_request
 #: model_terms:ir.ui.view,arch_db:cooperator.subscription_request_view_form
 msgid "Capital release request"
 msgstr ""
 
 #. module: cooperator
@@ -731,28 +743,35 @@
 #: model:mail.template,report_name:cooperator.email_template_certificat_increase
 #: model:mail.template,report_name:cooperator.email_template_share_transfer
 #: model:mail.template,report_name:cooperator.email_template_share_update
 msgid "Certificate ${(object.cooperator_register_number or '')}"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,help:cooperator.field_res_partner__cooperator
-#: model:ir.model.fields,help:cooperator.field_res_users__cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_certificate_mail_template
+msgid "Certificate email template"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_certificate_increase_mail_template
+msgid "Certificate increase email template"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,help:cooperator.field_cooperative_membership__cooperator
 msgid "Check this box if this contact is a cooperator (effective or not)."
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,help:cooperator.field_res_partner__member
-#: model:ir.model.fields,help:cooperator.field_res_users__member
+#: model:ir.model.fields,help:cooperator.field_cooperative_membership__member
 msgid "Check this box if this cooperator is an effective member."
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,help:cooperator.field_res_partner__old_member
-#: model:ir.model.fields,help:cooperator.field_res_users__old_member
+#: model:ir.model.fields,help:cooperator.field_cooperative_membership__old_member
 msgid "Check this box if this cooperator is no more an effective member."
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,help:cooperator.field_subscription_request__skip_iban_control
 msgid "Check to bypass iban format control."
 msgstr ""
@@ -800,15 +819,17 @@
 
 #. module: cooperator
 #: model:ir.model,name:cooperator.model_res_company
 msgid "Companies"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__company_id
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__company_id
+#: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__company_id
 #: model:ir.model.fields,field_description:cooperator.field_share_line__company_id
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__company_id
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__company_id
 msgid "Company"
 msgstr ""
 
 #. module: cooperator
@@ -842,14 +863,19 @@
 #. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.action_company_representative_form
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_company_representative
 msgid "Company representative"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_confirmation_company_mail_template
+msgid "Company share confirmation email template"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__company_type
 msgid "Company type"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_config
 #: model_terms:ir.ui.view,arch_db:cooperator.product_template_form_view
@@ -901,18 +927,34 @@
 
 #. module: cooperator
 #: model:ir.module.category,name:cooperator.module_category_cooperator_management
 msgid "Cooperative Management"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model,name:cooperator.model_cooperative_membership
+msgid "Cooperative Membership"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_partner__cooperative_membership_id
+#: model:ir.model.fields,field_description:cooperator.field_res_users__cooperative_membership_id
+msgid "Cooperative Membership For Current Company"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_partner__cooperative_membership_ids
+#: model:ir.model.fields,field_description:cooperator.field_res_users__cooperative_membership_ids
+msgid "Cooperative Memberships"
+msgstr ""
+
+#. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__cooperator
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__partner_id
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_users__cooperator
 #: model:ir.model.fields,field_description:cooperator.field_share_line__partner_id
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__partner_id
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__partner_id
 #: model_terms:ir.ui.view,arch_db:cooperator.cooperator_subscription_G001
 #: model_terms:ir.ui.view,arch_db:cooperator.subscription_request_view_form
 #: model_terms:ir.ui.view,arch_db:cooperator.view_share_line_filter
@@ -932,34 +974,30 @@
 
 #. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.action_move_out_invoice_type
 msgid "Cooperator Invoices"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__cooperator_register_number
-#: model:ir.model.fields,field_description:cooperator.field_res_users__cooperator_register_number
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__cooperator_register_number
 msgid "Cooperator Number"
 msgstr ""
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_res_partner_filter
 msgid "Cooperator Partners"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__cooperator_type
-#: model:ir.model.fields,field_description:cooperator.field_res_users__cooperator_type
-#: model_terms:ir.ui.view,arch_db:cooperator.view_res_partner_filter
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__cooperator_type
 msgid "Cooperator Type"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__coop_candidate
-#: model:ir.model.fields,field_description:cooperator.field_res_users__coop_candidate
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__coop_candidate
 msgid "Cooperator candidate"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.action_partner_cooperator_candidate_form
 msgid "Cooperator candidates"
 msgstr ""
@@ -971,20 +1009,31 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_mail_template__is_cooperator_template
 msgid "Cooperator mail template"
 msgstr ""
 
 #. module: cooperator
+#: code:addons/cooperator/models/company.py:0
+#, python-format
+msgid "Cooperator number sequence"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.actions.report,name:cooperator.action_report_cooperator_register
 msgid "Cooperator register"
 msgstr ""
 
 #. module: cooperator
-#: model:account.account,name:cooperator.account_cooperator_demo
+#: code:addons/cooperator/models/company.py:0
+#, python-format
+msgid "Cooperator register operation sequence"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.action_partner_cooperator_form
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_cooperator
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_main
 #: model_terms:ir.ui.view,arch_db:cooperator.view_res_partner_filter
 msgid "Cooperators"
 msgstr ""
 
@@ -1019,25 +1068,27 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_res_company__create_user
 msgid "Create user for cooperator"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_share_line__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__create_uid
 #: model:ir.model.fields,field_description:cooperator.field_validate_subscription_request__create_uid
 msgid "Created by"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__create_date
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__create_date
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__create_date
 #: model:ir.model.fields,field_description:cooperator.field_share_line__create_date
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__create_date
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__create_date
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__create_date
 #: model:ir.model.fields,field_description:cooperator.field_validate_subscription_request__create_date
@@ -1107,17 +1158,19 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_res_company__display_internal_rules_approval
 msgid "Display Internal Rules Approval"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_account_chart_template__display_name
 #: model:ir.model.fields,field_description:cooperator.field_account_invoice_report__display_name
 #: model:ir.model.fields,field_description:cooperator.field_account_journal__display_name
 #: model:ir.model.fields,field_description:cooperator.field_account_move__display_name
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__display_name
 #: model:ir.model.fields,field_description:cooperator.field_mail_template__display_name
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__display_name
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__display_name
 #: model:ir.model.fields,field_description:cooperator.field_product_template__display_name
 #: model:ir.model.fields,field_description:cooperator.field_res_company__display_name
 #: model:ir.model.fields,field_description:cooperator.field_res_partner__display_name
 #: model:ir.model.fields,field_description:cooperator.field_share_line__display_name
@@ -1168,23 +1221,21 @@
 #: model_terms:ir.ui.view,arch_db:cooperator.cooperator_register_G001
 msgid ""
 "Effective\n"
 "                            date"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__effective_date
-#: model:ir.model.fields,field_description:cooperator.field_res_users__effective_date
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__effective_date
 #: model:ir.model.fields,field_description:cooperator.field_share_line__effective_date
 msgid "Effective Date"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__member
-#: model:ir.model.fields,field_description:cooperator.field_res_users__member
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__member
 msgid "Effective cooperator"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__effective_date
 #: model_terms:ir.ui.view,arch_db:cooperator.cooperator_certificat_G001_document
 #: model_terms:ir.ui.view,arch_db:cooperator.view_share_line_filter
@@ -1210,19 +1261,14 @@
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_subscription_register_filter
 msgid "Entry type"
 msgstr ""
 
 #. module: cooperator
-#: model:account.account,name:cooperator.account_equity_demo
-msgid "Equity"
-msgstr ""
-
-#. module: cooperator
 #: code:addons/cooperator/wizard/update_share_line.py:0
 #, python-format
 msgid "Error the update return more than one subscription register lines."
 msgstr ""
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.operation_request_form
@@ -1327,17 +1373,19 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__already_cooperator
 msgid "I'm already cooperator"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_account_chart_template__id
 #: model:ir.model.fields,field_description:cooperator.field_account_invoice_report__id
 #: model:ir.model.fields,field_description:cooperator.field_account_journal__id
 #: model:ir.model.fields,field_description:cooperator.field_account_move__id
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__id
 #: model:ir.model.fields,field_description:cooperator.field_mail_template__id
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__id
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__id
 #: model:ir.model.fields,field_description:cooperator.field_product_template__id
 #: model:ir.model.fields,field_description:cooperator.field_res_company__id
 #: model:ir.model.fields,field_description:cooperator.field_res_partner__id
 #: model:ir.model.fields,field_description:cooperator.field_share_line__id
@@ -1373,14 +1421,26 @@
 #. module: cooperator
 #: model:ir.model.fields,help:cooperator.field_subscription_request__message_has_error
 #: model:ir.model.fields,help:cooperator.field_subscription_request__message_has_sms_error
 msgid "If checked, some messages have a delivery error."
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_capital_release_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_certificate_increase_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_certificate_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_confirmation_company_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_confirmation_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_share_transfer_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_share_update_mail_template
+#: model:ir.model.fields,help:cooperator.field_res_company__cooperator_waiting_list_mail_template
+msgid "If left empty, the default global mail template will be used."
+msgstr ""
+
+#. module: cooperator
 #: model:ir.model.fields,help:cooperator.field_operation_request__subscription_request
 msgid ""
 "In case on a transfer of share. If the share receiver isn't a effective "
 "member then a subscription form should be filled."
 msgstr ""
 
 #. module: cooperator
@@ -1485,17 +1545,19 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__lang
 msgid "Language"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_account_chart_template____last_update
 #: model:ir.model.fields,field_description:cooperator.field_account_invoice_report____last_update
 #: model:ir.model.fields,field_description:cooperator.field_account_journal____last_update
 #: model:ir.model.fields,field_description:cooperator.field_account_move____last_update
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership____last_update
 #: model:ir.model.fields,field_description:cooperator.field_mail_template____last_update
 #: model:ir.model.fields,field_description:cooperator.field_operation_request____last_update
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription____last_update
 #: model:ir.model.fields,field_description:cooperator.field_product_template____last_update
 #: model:ir.model.fields,field_description:cooperator.field_res_company____last_update
 #: model:ir.model.fields,field_description:cooperator.field_res_partner____last_update
 #: model:ir.model.fields,field_description:cooperator.field_share_line____last_update
@@ -1503,25 +1565,27 @@
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register____last_update
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request____last_update
 #: model:ir.model.fields,field_description:cooperator.field_validate_subscription_request____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_share_line__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__write_uid
 #: model:ir.model.fields,field_description:cooperator.field_validate_subscription_request__write_uid
 msgid "Last Updated by"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__write_date
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__write_date
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__write_date
 #: model:ir.model.fields,field_description:cooperator.field_share_line__write_date
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__write_date
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__write_date
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__write_date
 #: model:ir.model.fields,field_description:cooperator.field_validate_subscription_request__write_date
@@ -1675,17 +1739,16 @@
 
 #. module: cooperator
 #: model:ir.model.fields,help:cooperator.field_subscription_request__message_has_error_counter
 msgid "Number of messages with delivery error"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__number_of_share
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__quantity
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__number_of_share
-#: model:ir.model.fields,field_description:cooperator.field_res_users__number_of_share
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__quantity
 msgid "Number of share"
 msgstr ""
 
 #. module: cooperator
 #: code:addons/cooperator/models/subscription_request.py:0
 #, python-format
@@ -1704,16 +1767,15 @@
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_res_partner_filter
 msgid "Old Cooperators"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__old_member
-#: model:ir.model.fields,field_description:cooperator.field_res_users__old_member
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__old_member
 msgid "Old cooperator"
 msgstr ""
 
 #. module: cooperator
 #: code:addons/cooperator/models/subscription_request.py:0
 #, python-format
 msgid "Only blocked requests can be unblocked."
@@ -1728,14 +1790,20 @@
 #. module: cooperator
 #: code:addons/cooperator/models/subscription_request.py:0
 #, python-format
 msgid "Only draft requests can be blocked."
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.constraint,message:cooperator.constraint_cooperative_membership_cooperative_membership_company_id_partner_id_key
+msgid ""
+"Only one cooperative membership record can exist per company per partner"
+msgstr ""
+
+#. module: cooperator
 #: model_terms:ir.actions.act_window,help:cooperator.action_company_representative_form
 #: model_terms:ir.actions.act_window,help:cooperator.action_partner_cooperator_candidate_form
 #: model_terms:ir.actions.act_window,help:cooperator.action_partner_cooperator_form
 msgid ""
 "OpenERP helps you easily track all activities related to\n"
 "                    a cooperator: discussions, history of business\n"
 "                    opportunities,\n"
@@ -1818,14 +1886,19 @@
 
 #. module: cooperator
 #: model:product.template,name:cooperator.product_template_share_type_2_demo
 msgid "Part B - Worker"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__partner_id
+msgid "Partner"
+msgstr ""
+
+#. module: cooperator
 #: model:mail.template,subject:cooperator.email_template_certificat
 #: model:mail.template,subject:cooperator.email_template_certificat_increase
 msgid "Payment Received Confirmation"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__phone
@@ -1977,14 +2050,20 @@
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__message_has_sms_error
 msgid "SMS Delivery error"
 msgstr ""
 
 #. module: cooperator
+#: code:addons/cooperator/models/subscription_request.py:0
+#, python-format
+msgid "SUBJ"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__same_address
 msgid "Same address"
 msgstr ""
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_share_line_filter
 msgid "Search Share Line"
@@ -2051,14 +2130,15 @@
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.product_template_form_view
 msgid "Share Information"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.share_line_action
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__share_ids
 #: model:ir.model.fields,field_description:cooperator.field_res_partner__share_ids
 #: model:ir.model.fields,field_description:cooperator.field_res_users__share_ids
 msgid "Share Lines"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_main_subscription
@@ -2078,14 +2158,19 @@
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_partner_create_subscription__share_product
 #: model_terms:ir.ui.view,arch_db:cooperator.subscription_request_tree
 msgid "Share Type"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_confirmation_mail_template
+msgid "Share confirmation email template"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.model,name:cooperator.model_share_line
 #: model:ir.model.fields,field_description:cooperator.field_share_line_update_info__share_line
 #: model_terms:ir.ui.view,arch_db:cooperator.share_line_form
 msgid "Share line"
 msgstr ""
 
 #. module: cooperator
@@ -2126,14 +2211,19 @@
 
 #. module: cooperator
 #: model:mail.template,subject:cooperator.email_template_share_transfer
 msgid "Share transfer"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_share_transfer_mail_template
+msgid "Share transfer email template"
+msgstr ""
+
+#. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.product_template_action
 #: model:ir.model.fields,field_description:cooperator.field_operation_request__share_product_id
 #: model:ir.model.fields,field_description:cooperator.field_share_line__share_product_id
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__share_product_id
 #: model:ir.model.fields,field_description:cooperator.field_subscription_request__share_product_id
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_share_product
 #: model_terms:ir.ui.view,arch_db:cooperator.cooperator_certificat_G001_document
@@ -2150,14 +2240,19 @@
 
 #. module: cooperator
 #: model:mail.template,subject:cooperator.email_template_share_update
 msgid "Share update"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_share_update_mail_template
+msgid "Share update email template"
+msgstr ""
+
+#. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_partner_form
 msgid "Shares"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_product_product__short_name
 #: model:ir.model.fields,field_description:cooperator.field_product_template__short_name
@@ -2211,15 +2306,17 @@
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_subscription_register__date
 #: model_terms:ir.ui.view,arch_db:cooperator.view_subscription_register_filter
 msgid "Subscription Date"
 msgstr ""
 
 #. module: cooperator
-#: model:account.journal,name:cooperator.subscription_journal
+#: code:addons/cooperator/models/subscription_request.py:0
+#: model:ir.model.fields,field_description:cooperator.field_res_company__subscription_journal_id
+#, python-format
 msgid "Subscription Journal"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.actions.act_window,name:cooperator.subscription_register_action
 #: model:ir.ui.menu,name:cooperator.menu_cooperator_subscription_register
 #: model_terms:ir.ui.view,arch_db:cooperator.subscription_register_form
@@ -2260,14 +2357,15 @@
 msgid "Subscription register"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields,field_description:cooperator.field_account_bank_statement_line__subscription_request
 #: model:ir.model.fields,field_description:cooperator.field_account_move__subscription_request
 #: model:ir.model.fields,field_description:cooperator.field_account_payment__subscription_request
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__subscription_request_ids
 #: model:ir.model.fields,field_description:cooperator.field_res_partner__subscription_request_ids
 #: model:ir.model.fields,field_description:cooperator.field_res_users__subscription_request_ids
 msgid "Subscription request"
 msgstr ""
 
 #. module: cooperator
 #: model:mail.template,subject:cooperator.email_template_waiting_list
@@ -2455,16 +2553,15 @@
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.view_partner_form
 msgid "Total subscribed amount"
 msgstr ""
 
 #. module: cooperator
-#: model:ir.model.fields,field_description:cooperator.field_res_partner__total_value
-#: model:ir.model.fields,field_description:cooperator.field_res_users__total_value
+#: model:ir.model.fields,field_description:cooperator.field_cooperative_membership__total_value
 msgid "Total value of shares"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields.selection,name:cooperator.selection__operation_request__operation_type__transfer
 #: model:ir.model.fields.selection,name:cooperator.selection__subscription_register__type__transfer
 #: model:ir.model.fields.selection,name:cooperator.selection__subscription_request__state__transfer
@@ -2591,14 +2688,19 @@
 
 #. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.subscription_request_view_form
 msgid "Waiting list"
 msgstr ""
 
 #. module: cooperator
+#: model:ir.model.fields,field_description:cooperator.field_res_company__cooperator_waiting_list_mail_template
+msgid "Waiting list email template"
+msgstr ""
+
+#. module: cooperator
 #: model_terms:ir.ui.view,arch_db:cooperator.external_layout_standard
 msgid "Web:"
 msgstr ""
 
 #. module: cooperator
 #: model:ir.model.fields.selection,name:cooperator.selection__subscription_request__source__website
 msgid "Website"
```

## odoo/addons/cooperator/i18n/es.po

```diff
@@ -86,15 +86,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -137,15 +137,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -187,15 +187,15 @@
 "    <p>You will find in attachment all the necessary information for the "
 "payment. We kindly remind you that your subscription will be effective only "
 "once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</"
 "p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -237,15 +237,15 @@
 "    <p>We confirm the reception of you payment for the new share(s) you have "
 "taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -287,15 +287,15 @@
 "    <p>We confirm the reception of you payment. You are now shareholder of "
 "our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -338,15 +338,15 @@
 "succesfully performed. Your cooperator certificate has been adapted "
 "accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -388,15 +388,15 @@
 "    <p>We confirm you that the shares have been transfered to you. If you "
 "was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
```

## odoo/addons/cooperator/i18n/fr.po

```diff
@@ -131,15 +131,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -230,15 +230,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -326,15 +326,15 @@
 "    <p>You will find in attachment all the necessary information for the "
 "payment. We kindly remind you that your subscription will be effective only "
 "once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</"
 "p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -422,15 +422,15 @@
 "    <p>We confirm the reception of you payment for the new share(s) you have "
 "taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -518,15 +518,15 @@
 "    <p>We confirm the reception of you payment. You are now shareholder of "
 "our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -615,15 +615,15 @@
 "succesfully performed. Your cooperator certificate has been adapted "
 "accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -710,15 +710,15 @@
 "    <p>We confirm you that the shares have been transfered to you. If you "
 "was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
```

## odoo/addons/cooperator/i18n/fr_BE.po

```diff
@@ -83,15 +83,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -134,15 +134,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -184,15 +184,15 @@
 "    <p>You will find in attachment all the necessary information for the "
 "payment. We kindly remind you that your subscription will be effective only "
 "once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</"
 "p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -280,15 +280,15 @@
 "    <p>We confirm the reception of you payment for the new share(s) you have "
 "taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -330,15 +330,15 @@
 "    <p>We confirm the reception of you payment. You are now shareholder of "
 "our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -381,15 +381,15 @@
 "succesfully performed. Your cooperator certificate has been adapted "
 "accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -431,15 +431,15 @@
 "    <p>We confirm you that the shares have been transfered to you. If you "
 "was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
```

## odoo/addons/cooperator/i18n/nl_BE.po

```diff
@@ -85,15 +85,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -136,15 +136,15 @@
 "info are correct you will soon receive the payment information in another "
 "email.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>If you have any question, do not hesitate to contact us.</p>\n"
 "    <br/>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -186,15 +186,15 @@
 "    <p>You will find in attachment all the necessary information for the "
 "payment. We kindly remind you that your subscription will be effective only "
 "once we received the payment.</p>\n"
 "\n"
 "    <p>Do not forget to add the structured communication to the payment.</"
 "p>\n"
 "\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.company_id.name}.</p>\n"
 "\n"
 "    % if object.company_id.street:\n"
 "        ${object.company_id.street}\n"
 "    % endif\n"
 "    % if object.company_id.street2:\n"
 "        ${object.company_id.street2}<br/>\n"
@@ -236,15 +236,15 @@
 "    <p>We confirm the reception of you payment for the new share(s) you have "
 "taken.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for trusting ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -286,15 +286,15 @@
 "    <p>We confirm the reception of you payment. You are now shareholder of "
 "our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -337,15 +337,15 @@
 "succesfully performed. Your cooperator certificate has been adapted "
 "accordingly.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
@@ -387,15 +387,15 @@
 "    <p>We confirm you that the shares have been transfered to you. If you "
 "was not already cooperator, you are now shareholder of our cooperative.</p>\n"
 "\n"
 "    <br/>\n"
 "    <p>Find in attachment your ${object.env.company.name} certificate.</p>\n"
 "    <p>Thank you for choosing ${object.env.company.name or 'us'}!</p>\n"
 "    <br/>\n"
-"    <p>Sustainably your,</p>\n"
+"    <p>Sustainably yours,</p>\n"
 "    <p>${object.env.company.name}.</p>\n"
 "\n"
 "    % if object.env.company.street:\n"
 "        ${object.env.company.street}\n"
 "    % endif\n"
 "    % if object.env.company.street2:\n"
 "        ${object.env.company.street2}<br/>\n"
```

## odoo/addons/cooperator/models/__init__.py

```diff
@@ -4,7 +4,9 @@
 from . import operation_request
 from . import product
 from . import partner
 from . import account_move
 from . import company
 from . import account_journal
 from . import mail_template
+from . import account_chart_template
+from . import cooperative_membership
```

## odoo/addons/cooperator/models/account_move.py

```diff
@@ -1,22 +1,25 @@
 # Copyright 2019 Coop IT Easy SCRL fs
 #   Houssine Bakkali <houssine@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 
 from datetime import datetime
 
-from odoo import fields, models
+from odoo import api, fields, models
 
 
 class AccountMove(models.Model):
     _inherit = "account.move"
+    _check_company_auto = True
 
     subscription_request = fields.Many2one(
-        "subscription.request", string="Subscription request"
+        "subscription.request",
+        string="Subscription request",
+        check_company=True,
     )
     release_capital_request = fields.Boolean(string="Release of capital request")
 
     def _get_starting_sequence(self):
         self.ensure_one()
         if not self.release_capital_request:
             return super()._get_starting_sequence()
@@ -44,77 +47,105 @@
                 line.account_id = account
 
     def create_user(self, partner):
         user_obj = self.env["res.users"]
         email = partner.email
 
         user = user_obj.search([("login", "=", email)])
-        if not user:
+        if user:
+            if self.company_id not in user.company_ids:
+                # add the company to the user's companies
+                user.company_ids = [(4, self.company_id.id, 0)]
+        else:
+            # set the company as the only company of the user
+            company_ids = [(6, 0, [self.company_id.id])]
             user = user_obj.search([("login", "=", email), ("active", "=", False)])
             if user:
-                user.sudo().write({"active": True})
+                user.sudo().write(
+                    {
+                        "active": True,
+                        "company_id": self.company_id.id,
+                        "company_ids": company_ids,
+                    }
+                )
             else:
-                user_values = {"partner_id": partner.id, "login": email}
+                user_values = {
+                    "partner_id": partner.id,
+                    "login": email,
+                }
                 user = user_obj.sudo()._signup_create_user(user_values)
+                # passing these values in _signup_create_user() does not work
+                # if the website module is loaded, because it overrides the
+                # method and overwrites them.
+                user.sudo().write(
+                    {
+                        "company_id": self.company_id.id,
+                        "company_ids": company_ids,
+                    }
+                )
                 user.sudo().with_context({"create_user": True}).action_reset_password()
 
         return user
 
     def get_mail_template_certificate(self):
         if self.partner_id.member:
-            mail_template = "cooperator.email_template_certificat_increase"
-        else:
-            mail_template = "cooperator.email_template_certificat"
-        return self.env.ref(mail_template)
+            return self.company_id.get_cooperator_certificate_increase_mail_template()
+        return self.company_id.get_cooperator_certificate_mail_template()
 
-    def get_sequence_register(self):
-        return self.env.ref("cooperator.sequence_subscription", False)
-
-    def get_sequence_operation(self):
-        return self.env.ref("cooperator.sequence_register_operation", False)
+    @api.model
+    def get_next_cooperator_number(self):
+        return self.env["ir.sequence"].next_by_code("cooperator.number")
+
+    @api.model
+    def get_next_register_operation(self):
+        return self.env["ir.sequence"].next_by_code("register.operation")
 
     def get_share_line_vals(self, line, effective_date):
         return {
             "share_number": line.quantity,
             "share_product_id": line.product_id.id,
             "partner_id": self.partner_id.id,
             "share_unit_price": line.price_unit,
             "effective_date": effective_date,
+            "company_id": self.company_id.id,
         }
 
     def get_subscription_register_vals(self, line, effective_date):
         return {
             "partner_id": self.partner_id.id,
             "quantity": line.quantity,
             "share_product_id": line.product_id.id,
             "share_unit_price": line.price_unit,
             "date": effective_date,
             "type": "subscription",
+            "company_id": self.company_id.id,
         }
 
     def get_membership_vals(self):
         # flag the partner as an effective member
         # if not yet cooperator we generate a cooperator number
         vals = {}
-        if self.partner_id.member is False and self.partner_id.old_member is False:
-            sequence_id = self.get_sequence_register()
-            sub_reg_num = sequence_id.next_by_id()
+        cooperative_membership = self.partner_id.get_cooperative_membership(
+            self.company_id.id
+        )
+        if not cooperative_membership.member and not cooperative_membership.old_member:
+            sub_reg_num = self.get_next_cooperator_number()
             vals = {
                 "member": True,
                 "old_member": False,
                 "cooperator_register_number": int(sub_reg_num),
             }
-        elif self.partner_id.old_member:
+        elif cooperative_membership.old_member:
             vals = {"member": True, "old_member": False}
 
         return vals
 
     def set_membership(self):
         vals = self.get_membership_vals()
-        self.partner_id.write(vals)
+        self.partner_id.get_cooperative_membership(self.company_id.id).write(vals)
 
         return True
 
     def _send_certificate_mail(self, certificate_email_template, sub_reg_line):
         if self.company_id.send_certificate_email:
             # we send the email with the certificate in attachment
             certificate_email_template.sudo().send_mail(self.partner_id.id, False)
@@ -123,16 +154,15 @@
         sub_register_obj = self.env["subscription.register"]
         share_line_obj = self.env["share.line"]
 
         certificate_email_template = self.get_mail_template_certificate()
 
         self.set_membership()
 
-        sequence_operation = self.get_sequence_operation()
-        sub_reg_operation = sequence_operation.next_by_id()
+        sub_reg_operation = self.get_next_register_operation()
 
         for line in self.invoice_line_ids:
             sub_reg_vals = self.get_subscription_register_vals(line, effective_date)
             sub_reg_vals["name"] = sub_reg_operation
             sub_reg_vals["register_number_operation"] = int(sub_reg_operation)
 
             sub_reg_line = sub_register_obj.create(sub_reg_vals)
@@ -201,15 +231,15 @@
                 and invoice.move_type == "out_invoice"
                 and refund
             ):
                 invoice.subscription_request.state = "cancelled"
         return True
 
     def _get_capital_release_mail_template(self):
-        return self.env.ref("cooperator.email_template_release_capital", False)
+        return self.company_id.get_cooperator_capital_release_mail_template()
 
     def send_capital_release_request_mail(self):
         if self.company_id.send_capital_release_email:
             email_template = self._get_capital_release_mail_template()
             # we send the email with the capital release request in attachment
             # TODO remove sudo() and give necessary access right
             email_template.sudo().send_mail(self.id, True)
```

## odoo/addons/cooperator/models/company.py

```diff
@@ -1,17 +1,18 @@
 # Copyright 2019 Coop IT Easy SCRL fs
 #   Houssine Bakkali <houssine@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 
-from odoo import api, fields, models
+from odoo import _, api, fields, models
 
 
 class ResCompany(models.Model):
     _inherit = "res.company"
+    _check_company_auto = True
 
     def _compute_base_logo(self):
         base_url = self.env["ir.config_parameter"].sudo().get_param("web.base.url")
         self.logo_url = base_url + "/logo.png"
 
     coop_email_contact = fields.Char(string="Contact email address for the cooperator")
     subscription_maximum_amount = fields.Float(
@@ -39,14 +40,21 @@
             ("internal_type", "=", "receivable"),
             ("deprecated", "=", False),
         ],
         help="This account will be"
         " the default one as the"
         " receivable account for the"
         " cooperators",
+        check_company=True,
+    )
+    subscription_journal_id = fields.Many2one(
+        "account.journal",
+        "Subscription Journal",
+        readonly=True,
+        check_company=True,
     )
     unmix_share_type = fields.Boolean(
         string="Unmix share type",
         default=True,
         help="If checked, A cooperator will be"
         " authorised to have only one type"
         " of share",
@@ -96,29 +104,86 @@
     generic_rules_approval_required = fields.Boolean(
         string="Is generic rules approval required?"
     )
     generic_rules_approval_text = fields.Html(
         translate=True,
         help="Text to display aside the checkbox to approve the generic rules.",
     )
+    cooperator_certificate_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Certificate email template",
+        domain=[("model", "=", "res.partner"), ("is_cooperator_template", "=", True)],
+        help="If left empty, the default global mail template will be used.",
+    )
+    cooperator_certificate_increase_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Certificate increase email template",
+        domain=[("model", "=", "res.partner"), ("is_cooperator_template", "=", True)],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_certificate_email = fields.Boolean(
         string="Send certificate email", default=True
     )
+    cooperator_confirmation_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Share confirmation email template",
+        domain=[
+            ("model", "=", "subscription.request"),
+            ("is_cooperator_template", "=", True),
+        ],
+        help="If left empty, the default global mail template will be used.",
+    )
+    cooperator_confirmation_company_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Company share confirmation email template",
+        domain=[
+            ("model", "=", "subscription.request"),
+            ("is_cooperator_template", "=", True),
+        ],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_confirmation_email = fields.Boolean(
         string="Send confirmation email", default=True
     )
+    cooperator_capital_release_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Capital release email template",
+        domain=[("model", "=", "account.move"), ("is_cooperator_template", "=", True)],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_capital_release_email = fields.Boolean(
         string="Send Capital Release email", default=True
     )
+    cooperator_waiting_list_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Waiting list email template",
+        domain=[
+            ("model", "=", "subscription.request"),
+            ("is_cooperator_template", "=", True),
+        ],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_waiting_list_email = fields.Boolean(
         string="Send Waiting List email", default=True
     )
+    cooperator_share_transfer_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Share transfer email template",
+        domain=[("model", "=", "res.partner"), ("is_cooperator_template", "=", True)],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_share_transfer_email = fields.Boolean(
         string="Send Share Transfer Email", default=True
     )
+    cooperator_share_update_mail_template = fields.Many2one(
+        comodel_name="mail.template",
+        string="Share update email template",
+        domain=[("model", "=", "res.partner"), ("is_cooperator_template", "=", True)],
+        help="If left empty, the default global mail template will be used.",
+    )
     send_share_update_email = fields.Boolean(
         string="Send Share Update Email", default=True
     )
 
     @api.onchange("data_policy_approval_required")
     def onchange_data_policy_approval_required(self):
         if self.data_policy_approval_required:
@@ -134,7 +199,146 @@
         if self.financial_risk_approval_required:
             self.display_financial_risk_approval = True
 
     @api.onchange("generic_rules_approval_required")
     def onchange_generic_rules_approval_required(self):
         if self.generic_rules_approval_required:
             self.display_generic_rules_approval = True
+
+    @api.model
+    def _get_cooperator_mail_template_fields(self):
+        return {
+            "cooperator_confirmation_mail_template": "cooperator.email_template_confirmation",
+            "cooperator_confirmation_company_mail_template": (
+                "cooperator.email_template_confirmation_company"
+            ),
+            "cooperator_capital_release_mail_template": (
+                "cooperator.email_template_release_capital"
+            ),
+            "cooperator_waiting_list_mail_template": "cooperator.email_template_waiting_list",
+            "cooperator_certificate_mail_template": "cooperator.email_template_certificat",
+            "cooperator_certificate_increase_mail_template": (
+                "cooperator.email_template_certificat_increase"
+            ),
+            "cooperator_share_transfer_mail_template": (
+                "cooperator.email_template_share_transfer"
+            ),
+            "cooperator_share_update_mail_template": "cooperator.email_template_share_update",
+        }
+
+    def _get_cooperator_template(self, name):
+        self.ensure_one()
+        template = getattr(self, name)
+        if not template:
+            return self.env.ref(self._get_cooperator_mail_template_fields()[name])
+        return template
+
+    def get_cooperator_certificate_mail_template(self):
+        return self._get_cooperator_template("cooperator_certificate_mail_template")
+
+    def get_cooperator_certificate_increase_mail_template(self):
+        return self._get_cooperator_template(
+            "cooperator_certificate_increase_mail_template"
+        )
+
+    def get_cooperator_confirmation_mail_template(self):
+        return self._get_cooperator_template("cooperator_confirmation_mail_template")
+
+    def get_cooperator_confirmation_company_mail_template(self):
+        return self._get_cooperator_template(
+            "cooperator_confirmation_company_mail_template"
+        )
+
+    def get_cooperator_capital_release_mail_template(self):
+        return self._get_cooperator_template("cooperator_capital_release_mail_template")
+
+    def get_cooperator_waiting_list_mail_template(self):
+        return self._get_cooperator_template("cooperator_waiting_list_mail_template")
+
+    def get_cooperator_share_transfer_mail_template(self):
+        return self._get_cooperator_template("cooperator_share_transfer_mail_template")
+
+    def get_cooperator_share_update_mail_template(self):
+        return self._get_cooperator_template("cooperator_share_update_mail_template")
+
+    @api.model
+    def create(self, vals):
+        company = super().create(vals)
+        company._create_cooperator_sequences()
+        return company
+
+    @api.model
+    def _get_cooperator_sequence_map(self):
+        return {
+            "cooperator.number": _("Cooperator number sequence"),
+            "register.operation": _("Cooperator register operation sequence"),
+        }
+
+    def _create_cooperator_sequences(self):
+        for company in self:
+            for code, name in self._get_cooperator_sequence_map().items():
+                if not self.env["ir.sequence"].search(
+                    [("code", "=", code), ("company_id", "=", company.id)]
+                ):
+                    self.env["ir.sequence"].create(
+                        {
+                            "name": name,
+                            "code": code,
+                            "company_id": company.id,
+                        }
+                    )
+
+    def _accounting_data_initialized(self):
+        return self.chart_template_id or self.env[
+            "account.chart.template"
+        ].existing_accounting(self)
+
+    def _init_cooperator_data(self):
+        """
+        Generate default cooperator data for the company.
+        """
+        # this method exists to initialize data correctly for the following
+        # possible cases:
+        # 1. when a new company is created. in this case it will be called
+        #    when the account chart template is loaded.
+        # 2. when a database is initialized with the cooperator module but no
+        #    l10n module, and the l10n_generic_coa module is loaded after the
+        #    cooperator module by the post_init_hook of the account module. in
+        #    this case it is first called by the xml data of this module
+        #    (cooperator) (but with no effect, as explained below) and then
+        #    again when the account chart template is loaded.
+        # 3. when the cooperator module is installed on an existing database.
+        #    in this case it is called by the xml data of this module.
+        subscription_request_model = self.env["subscription.request"]
+        for company in self:
+            if not company._accounting_data_initialized():
+                # if no account chart template has been loaded yet and no
+                # accounting data exists, then no accounting data should be
+                # created yet because all existing journals and accounts will
+                # be deleted when the account chart template will be loaded.
+                # this method will be called again after the account chart
+                # template has been loaded.
+                continue
+            subscription_request_model.create_journal(company)
+        # this is called here to support the first 2 cases explained above.
+        self._init_cooperator_demo_data()
+
+    def _init_cooperator_demo_data(self):
+        if not self.env["ir.module.module"].search([("name", "=", "cooperator")]).demo:
+            # demo data must not be loaded, nothing to do
+            return
+        account_account_model = self.env["account.account"]
+        receivable_account_type = self.env.ref("account.data_account_type_receivable")
+        for company in self:
+            if not company._accounting_data_initialized():
+                # same remark as in _init_cooperator_data()
+                continue
+            if not company.property_cooperator_account:
+                company.property_cooperator_account = account_account_model.create(
+                    {
+                        "code": "416101",
+                        "name": "Cooperators",
+                        "user_type_id": receivable_account_type.id,
+                        "reconcile": True,
+                        "company_id": company.id,
+                    }
+                )
```

## odoo/addons/cooperator/models/operation_request.py

```diff
@@ -8,14 +8,15 @@
 from odoo import _, api, fields, models
 from odoo.exceptions import ValidationError
 
 
 class OperationRequest(models.Model):
     _name = "operation.request"
     _description = "Operation request"
+    _check_company_auto = True
 
     def get_date_now(self):
         # fixme odoo 12 uses date types
         return datetime.strftime(datetime.now(), "%Y-%m-%d")
 
     @api.depends("share_product_id", "share_product_id.list_price", "quantity")
     def _compute_subscription_amount(self):
@@ -49,21 +50,23 @@
         ],
         string="Operation Type",
         required=True,
     )
     share_product_id = fields.Many2one(
         "product.product",
         string="Share type",
-        domain=[("is_share", "=", True)],
+        domain="[('is_share', '=', True), ('company_id', 'in', (company_id, False))]",
         required=True,
+        check_company=True,
     )
     share_to_product_id = fields.Many2one(
         "product.product",
         string="Convert to this share type",
-        domain=[("is_share", "=", True)],
+        domain="[('is_share', '=', True), ('company_id', 'in', (company_id, False))]",
+        check_company=True,
     )
     share_short_name = fields.Char(
         related="share_product_id.short_name", string="Share type name"
     )
     share_to_short_name = fields.Char(
         related="share_to_product_id.short_name", string="Share to type name"
     )
@@ -91,14 +94,15 @@
         default="draft",
     )
     user_id = fields.Many2one(
         "res.users",
         string="Responsible",
         readonly=True,
         default=lambda self: self.env.user,
+        check_company=True,
     )
     subscription_request = fields.One2many(
         "subscription.request",
         "operation_request_id",
         string="Share Receiver Info",
         help="In case on a transfer of"
         " share. If the share receiver"
@@ -112,15 +116,15 @@
         string="Company",
         required=True,
         change_default=True,
         readonly=True,
         default=lambda self: self.env.company,
     )
 
-    invoice = fields.Many2one("account.move", string="Invoice")
+    invoice = fields.Many2one("account.move", string="Invoice", check_company=True)
 
     @api.constrains("effective_date")
     def _constrain_effective_date(self):
         for obj in self:
             if obj.effective_date and obj.effective_date > fields.Date.today():
                 raise ValidationError(_("The effective date can not be in the future."))
 
@@ -272,18 +276,18 @@
                         " are not correct. Please correct"
                         " the information before"
                         " submitting"
                     )
                 )
 
     def _get_share_transfer_mail_template(self):
-        return self.env.ref("cooperator.email_template_share_transfer", False)
+        return self.company_id.get_cooperator_share_transfer_mail_template()
 
     def _get_share_update_mail_template(self):
-        return self.env.ref("cooperator.email_template_share_update", False)
+        return self.company_id.get_cooperator_share_update_mail_template()
 
     def _send_share_transfer_mail(
         self, sub_register_line
     ):  # fixme unused argument is used in synergie project. Do not remove.
         if self.company_id.send_share_transfer_email:
             cert_email_template = self._get_share_transfer_mail_template()
             cert_email_template.send_mail(self.partner_id_to.id, False)
@@ -347,31 +351,31 @@
                 values["share_to_product_id"] = self.share_to_product_id.id
                 values["quantity_to"] = convert_quant
             else:
                 raise ValidationError(
                     _("Converting just part of the" " shares is not yet implemented")
                 )
         elif self.operation_type == "transfer":
-            sequence_id = self.env.ref("cooperator.sequence_subscription", False)
             partner_vals = {"member": True}
             if self.receiver_not_member:
                 partner = self.subscription_request.create_coop_partner()
-                # get cooperator number
-                sub_reg_num = int(sequence_id.next_by_id())
+                sub_reg_num = self.env["ir.sequence"].next_by_code("cooperator.number")
                 partner_vals.update(
                     sub_request.get_eater_vals(partner, self.share_product_id)
                 )
                 partner_vals["cooperator_register_number"] = sub_reg_num
                 partner.write(partner_vals)
                 self.partner_id_to = partner
             else:
                 # means an old member or cooperator candidate
                 if not self.partner_id_to.member:
                     if self.partner_id_to.cooperator_register_number == 0:
-                        sub_reg_num = int(sequence_id.next_by_id())
+                        sub_reg_num = self.env["ir.sequence"].next_by_code(
+                            "cooperator.number"
+                        )
                         partner_vals["cooperator_register_number"] = sub_reg_num
                     partner_vals.update(
                         sub_request.get_eater_vals(
                             self.partner_id_to, self.share_product_id
                         )
                     )
                     partner_vals["old_member"] = False
@@ -382,25 +386,22 @@
             self.env["share.line"].create(
                 {
                     "share_number": self.quantity,
                     "partner_id": self.partner_id_to.id,
                     "share_product_id": self.share_product_id.id,
                     "share_unit_price": self.share_unit_price,
                     "effective_date": effective_date,
+                    "company_id": self.company_id.id,
                 }
             )
             values["partner_id_to"] = self.partner_id_to.id
         else:
             raise ValidationError(_("This operation is not yet" " implemented."))
 
-        sequence_operation = self.env.ref(
-            "cooperator.sequence_register_operation", False
-        )  # noqa
-        sub_reg_operation = sequence_operation.next_by_id()
-
+        sub_reg_operation = self.env["ir.sequence"].next_by_code("register.operation")
         values["name"] = sub_reg_operation
         values["register_number_operation"] = int(sub_reg_operation)
 
         self.write({"state": "done"})
 
         sub_register_line = self.env["subscription.register"].create(values)
```

## odoo/addons/cooperator/models/partner.py

```diff
@@ -1,158 +1,110 @@
 # Copyright 2019 Coop IT Easy SCRL fs
 #   Houssine Bakkali <houssine@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 
-from odoo import api, fields, models
+from odoo import _, api, fields, models
+from odoo.exceptions import ValidationError
+
+from . import share_type
 
 
 class ResPartner(models.Model):
     _inherit = "res.partner"
 
     def _get_report_base_filename(self):
         self.ensure_one()
         if self.member:
             return "Cooperator Certificate - %s" % self.name
         else:
             return "unknown"
 
-    @api.depends("share_ids")
-    def _compute_effective_date(self):
-        # TODO change it to compute it from the share register
-        for partner in self:
-            if partner.share_ids:
-                partner.effective_date = partner.share_ids[0].effective_date
-            else:
-                partner.effective_date = False
-
+    @api.depends_context("company")
     def _get_share_type(self):
-        shares = self.env["product.product"].search([("is_share", "=", True)])
-        share_types = [(s.default_code, s.short_name) for s in shares]
-        return [("", "")] + share_types
+        return share_type.get_share_types(self.env)
+
+    @api.depends_context("company")
+    def _compute_cooperative_membership_id(self):
+        company_id = self.env.company.id
+        for record in self:
+            record.cooperative_membership_id = record.get_cooperative_membership(
+                company_id
+            )
 
+    def _search_cooperative_membership_id(self, operator, value):
+        return [
+            ("cooperative_membership_ids", operator, value),
+            ("cooperative_membership_ids.company_id", "=", self.env.company.id),
+        ]
+
+    @api.depends_context("company")
     @api.depends(
-        "share_ids",
-        "share_ids.share_product_id",
-        "share_ids.share_product_id.default_code",
-        "share_ids.share_number",
+        "parent_id.is_company",
+        "parent_id.cooperative_membership_ids.member",
+        "representative",
     )
-    def _compute_cooperator_type(self):
+    def _compute_representative_of_member_company(self):
+        domain = self._search_representative_of_member_company("=", True) + [
+            ("id", "in", self.ids)
+        ]
+        representatives = self.search(domain)
         for partner in self:
-            share_type = ""
-            for line in partner.share_ids:
-                if line.share_number > 0:
-                    share_type = line.share_product_id.default_code
-                    break
-            partner.cooperator_type = share_type
+            partner.representative_of_member_company = partner in representatives
 
-    @api.depends("share_ids")
-    def _compute_share_info(self):
-        for partner in self:
-            number_of_share = 0
-            total_value = 0.0
-            for line in partner.share_ids:
-                number_of_share += line.share_number
-                total_value += line.share_unit_price * line.share_number
-            partner.number_of_share = number_of_share
-            partner.total_value = total_value
-
-    cooperator = fields.Boolean(
-        string="Cooperator",
-        help="Check this box if this contact is a cooperator (effective or not).",
-        copy=False,
-    )
-    member = fields.Boolean(
-        string="Effective cooperator",
-        help="Check this box if this cooperator is an effective member.",
+    def _search_representative_of_member_company(self, operator, value):
+        # fixme: this only works correctly with "=", True and "!=", False
+        return [
+            ("representative", operator, value),
+            ("parent_id.is_company", "=", True),
+            (
+                "parent_id.cooperative_membership_ids.company_id",
+                "=",
+                self.env.company.id,
+            ),
+            ("parent_id.cooperative_membership_ids.member", "=", True),
+        ]
+
+    cooperative_membership_ids = fields.One2many(
+        "cooperative.membership",
+        "partner_id",
+        "Cooperative Memberships",
         readonly=True,
-        copy=False,
     )
-    coop_candidate = fields.Boolean(
-        string="Cooperator candidate",
-        compute="_compute_coop_candidate",
-        store=True,
-        readonly=True,
-    )
-    old_member = fields.Boolean(
-        string="Old cooperator",
-        help="Check this box if this cooperator is no more an effective member.",
+    # the cooperative membership for the current company (company-dependent field)
+    cooperative_membership_id = fields.Many2one(
+        "cooperative.membership",
+        "Cooperative Membership For Current Company",
+        compute=_compute_cooperative_membership_id,
+        search=_search_cooperative_membership_id,
     )
     share_ids = fields.One2many("share.line", "partner_id", string="Share Lines")
-    cooperator_register_number = fields.Integer(string="Cooperator Number", copy=False)
-    number_of_share = fields.Integer(
-        compute="_compute_share_info",
-        string="Number of share",
-        readonly=True,
-    )
-    total_value = fields.Float(
-        compute="_compute_share_info",
-        string="Total value of shares",
-        readonly=True,
-    )
     company_register_number = fields.Char(string="Company Register Number")
-    cooperator_type = fields.Selection(
-        selection="_get_share_type",
-        compute=_compute_cooperator_type,
-        string="Cooperator Type",
-        store=True,
-    )
-    effective_date = fields.Date(
-        string="Effective Date", compute=_compute_effective_date, store=True
-    )
     representative = fields.Boolean(string="Legal Representative")
     representative_of_member_company = fields.Boolean(
         string="Legal Representative of Member Company",
-        store=True,
-        compute="_compute_representative_of_member_company",
+        compute=_compute_representative_of_member_company,
+        search=_search_representative_of_member_company,
     )
     # allows for representative to have their own address
     # see https://github.com/coopiteasy/vertical-cooperative/issues/350
     type = fields.Selection(selection_add=[("representative", "Representative")])
     subscription_request_ids = fields.One2many(
         "subscription.request", "partner_id", string="Subscription request"
     )
     legal_form = fields.Selection([], string="Legal form")
-    data_policy_approved = fields.Boolean(string="Approved Data Policy")
-    internal_rules_approved = fields.Boolean(string="Approved Internal Rules")
-    financial_risk_approved = fields.Boolean(string="Approved Financial Risk")
-    generic_rules_approved = fields.Boolean(string="Approved generic rules")
 
     @api.onchange("parent_id")
     def onchange_parent_id(self):
         if len(self.parent_id) > 0:
             self.representative = True
         else:
             self.representative = False
         return super().onchange_parent_id()
 
-    @api.depends("subscription_request_ids.state")
-    def _compute_coop_candidate(self):
-        for partner in self:
-            if partner.member:
-                is_candidate = False
-            else:
-                sub_requests = partner.subscription_request_ids.filtered(
-                    lambda record: record.state == "done"
-                )
-                is_candidate = bool(sub_requests)
-
-            partner.coop_candidate = is_candidate
-
-    @api.depends("parent_id", "parent_id.member", "representative")
-    def _compute_representative_of_member_company(self):
-        for partner in self:
-            member_companies = self.env["res.partner"].search(
-                [("is_company", "=", True), ("member", "=", True)]
-            )
-            representatives = member_companies.mapped("child_ids").filtered(
-                "representative"
-            )
-            partner.representative_of_member_company = partner in representatives
-
     def has_representative(self):
         self.ensure_one()
         if self.child_ids.filtered("representative"):
             return True
         return False
 
     def get_representative(self):
@@ -186,7 +138,161 @@
             limit=1,
         )
         if not partner:
             partner = self.search(
                 [("company_register_number", "=", company_register_number)], limit=1
             )
         return partner
+
+    def get_cooperative_membership(self, company_id):
+        self.ensure_one()
+        return self.env["cooperative.membership"].search(
+            [
+                ("company_id", "=", company_id),
+                ("partner_id", "=", self.id),
+            ]
+        )
+
+    def create_cooperative_membership(self, company_id):
+        cooperative_membership_model = self.env["cooperative.membership"]
+        result = cooperative_membership_model.browse()
+        for record in self:
+            result |= cooperative_membership_model.create(
+                {
+                    "company_id": company_id,
+                    "partner_id": record.id,
+                    "cooperator": True,
+                }
+            )
+        return result
+
+
+# many fields that were previously defined directly on res.partner are now
+# defined on cooperative.membership to allow to have different values per
+# company. for backward compatibility, the fields are still available on
+# res.partner and their value is company-dependent, meaning that their value
+# changes depending on which company is the current company
+# (self.env.company). to make this work, 3 methods are needed per field: a
+# company-dependent compute method, a set method and a search method. instead
+# of copying the same 3 methods for each of the fields, the following function
+# allows to define a field and its methods on the class.
+
+
+def add_company_dependent_related_field(
+    model_class, delegate, name, field_type, **kwargs
+):
+    delegate_field_name = ".".join([delegate, name])
+
+    def _compute(self):
+        for record in self:
+            setattr(record, name, getattr(getattr(record, delegate), name))
+
+    def _set(self):
+        for record in self:
+            delegate_record = getattr(record, delegate)
+            if not delegate_record:
+                raise ValidationError(
+                    _(
+                        "Cannot set {name} field on {record}: {delegate} is not set"
+                    ).format(name=name, record=record, delegate=delegate)
+                )
+            setattr(delegate_record, name, getattr(record, name))
+
+    def _search(self, operator, value):
+        return [(delegate_field_name, operator, value)]
+
+    setattr(
+        model_class,
+        name,
+        field_type(
+            **kwargs,
+            compute=api.depends_context("company")(
+                api.depends(delegate_field_name)(_compute)
+            ),
+            inverse=_set,
+            search=_search,
+        ),
+    )
+
+
+def add_cooperative_membership_field(name, field_type, **kwargs):
+    add_company_dependent_related_field(
+        ResPartner, "cooperative_membership_id", name, field_type, **kwargs
+    )
+
+
+add_cooperative_membership_field(
+    "cooperator",
+    fields.Boolean,
+    string="Cooperator",
+    help="Check this box if this contact is a cooperator (effective or not).",
+)
+add_cooperative_membership_field(
+    "member",
+    fields.Boolean,
+    string="Effective cooperator",
+    help="Check this box if this cooperator is an effective member.",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "coop_candidate",
+    fields.Boolean,
+    string="Cooperator candidate",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "old_member",
+    fields.Boolean,
+    string="Old cooperator",
+    help="Check this box if this cooperator is no more an effective member.",
+)
+add_cooperative_membership_field(
+    "cooperator_register_number",
+    fields.Integer,
+    string="Cooperator Number",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "number_of_share",
+    fields.Integer,
+    string="Number of share",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "total_value",
+    fields.Float,
+    string="Total value of shares",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "cooperator_type",
+    fields.Selection,
+    selection=ResPartner._get_share_type,
+    string="Cooperator Type",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "effective_date",
+    fields.Date,
+    string="Effective Date",
+    readonly=True,
+)
+add_cooperative_membership_field(
+    "data_policy_approved",
+    fields.Boolean,
+    string="Approved Data Policy",
+)
+add_cooperative_membership_field(
+    "internal_rules_approved",
+    fields.Boolean,
+    string="Approved Internal Rules",
+)
+add_cooperative_membership_field(
+    "financial_risk_approved",
+    fields.Boolean,
+    string="Approved Financial Risk",
+)
+add_cooperative_membership_field(
+    "generic_rules_approved",
+    fields.Boolean,
+    string="Approved generic rules",
+)
```

## odoo/addons/cooperator/models/share_line.py

```diff
@@ -4,23 +4,28 @@
 
 from odoo import fields, models
 
 
 class ShareLine(models.Model):
     _name = "share.line"
     _description = "Share line"
+    _check_company_auto = True
 
     def _compute_total_line(self):
         res = {}
         for line in self:
             line.total_amount_line = line.share_unit_price * line.share_number
         return res
 
     share_product_id = fields.Many2one(
-        "product.product", string="Share type", required=True, readonly=True
+        "product.product",
+        string="Share type",
+        required=True,
+        readonly=True,
+        check_company=True,
     )
     share_number = fields.Integer(
         string="Number of Share", required=True, readonly=True
     )
     share_short_name = fields.Char(
         related="share_product_id.short_name",
         string="Share type name",
```

## odoo/addons/cooperator/models/subscription_register.py

```diff
@@ -11,14 +11,15 @@
     languages = self.env["res.lang"].search([])
     return [(language.code, language.name) for language in languages]
 
 
 class SubscriptionRegister(models.Model):
     _name = "subscription.register"
     _description = "Subscription register"
+    _check_company_auto = True
 
     def _compute_total_line(self):
         for line in self:
             line.total_amount_line = line.share_unit_price * line.quantity
 
     name = fields.Char(string="Number Operation", required=True, readonly=True)
     register_number_operation = fields.Integer(
@@ -44,25 +45,27 @@
     )
     share_product_id = fields.Many2one(
         "product.product",
         string="Share type",
         required=True,
         readonly=True,
         domain=[("is_share", "=", True)],
+        check_company=True,
     )
     share_short_name = fields.Char(
         related="share_product_id.short_name",
         string="Share type name",
         readonly=True,
     )
     share_to_product_id = fields.Many2one(
         "product.product",
         string="Share to type",
         readonly=True,
         domain=[("is_share", "=", True)],
+        check_company=True,
     )
     share_to_short_name = fields.Char(
         related="share_to_product_id.short_name",
         string="Share to type name",
         readonly=True,
     )
     quantity_to = fields.Integer(string="Number of share to", readonly=True)
@@ -96,14 +99,15 @@
         readonly=True,
     )
     user_id = fields.Many2one(
         "res.users",
         string="Responsible",
         readonly=True,
         default=lambda self: self.env.user,
+        check_company=True,
     )
 
     _order = "register_number_operation asc"
 
     @api.model
     def read_group(
         self,
```

## odoo/addons/cooperator/models/subscription_request.py

```diff
@@ -33,14 +33,15 @@
     return [(language.code, language.name) for language in languages]
 
 
 class SubscriptionRequest(models.Model):
     _name = "subscription.request"
     _description = "Subscription Request"
     _inherit = ["mail.thread", "mail.activity.mixin"]
+    _check_company_auto = True
 
     def get_required_field(self):
         required_fields = _REQUIRED.copy()
         company = self.env.company
         if company.data_policy_approval_required:
             required_fields.append("data_policy_approved")
         if company.internal_rules_approval_required:
@@ -49,18 +50,16 @@
             required_fields.append("financial_risk_approved")
         if company.generic_rules_approval_required:
             required_fields.append("generic_rules_approved")
         return required_fields
 
     def get_mail_template_notif(self, is_company=False):
         if is_company:
-            mail_template = "cooperator.email_template_confirmation_company"
-        else:
-            mail_template = "cooperator.email_template_confirmation"
-        return self.env.ref(mail_template, False)
+            return self.company_id.get_cooperator_confirmation_company_mail_template()
+        return self.company_id.get_cooperator_confirmation_mail_template()
 
     @api.constrains("share_product_id", "is_company")
     def _check_share_available_to_user(self):
         for request in self:
             if request.is_company and not request.share_product_id.by_company:
                 raise ValidationError(
                     _("%s is not available to companies")
@@ -103,28 +102,40 @@
             vals["partner_id"] = partner.id
         return partner
 
     @api.model
     def create(self, vals):
         partner = self._find_partner_from_create_vals(vals)
         if partner:
+            company_id = vals.get("company_id", self.env.company.id)
+            cooperative_membership = partner.get_cooperative_membership(company_id)
+            member = cooperative_membership and cooperative_membership.member
             pending_requests_domain = [
+                ("company_id", "=", company_id),
                 ("partner_id", "=", partner.id),
                 ("state", "in", ("draft", "waiting", "done")),
             ]
             # we don't use partner.coop_candidate because we want to also
             # handle draft and waiting requests.
-            if partner.member or self.search(pending_requests_domain):
+            if member or self.search(pending_requests_domain):
                 vals["type"] = "increase"
-            if partner.member:
+            if member:
                 vals["already_cooperator"] = True
-            if not partner.cooperator:
-                partner.cooperator = True
+            if not cooperative_membership:
+                cooperative_membership = partner.create_cooperative_membership(
+                    company_id
+                )
+            elif not cooperative_membership.cooperator:
+                cooperative_membership.cooperator = True
 
         subscription_request = super().create(vals)
+        # TODO: This should probably not be in the create method. There may need
+        # to be a stage after draft in which this e-mail is sent, or the e-mail
+        # should exclusively be sent from `cooperator_website`. See #73 for
+        # some comments, and for a reverted implementation of the extra state.
         subscription_request._send_confirmation_mail()
         return subscription_request
 
     @api.model
     def create_comp_sub_req(self, vals):
         warnings.warn(
             "subscription.request.create_comp_sub_req() is deprecated. "
@@ -252,18 +263,24 @@
         string="Cooperator",
         readonly=True,
         states={"draft": [("readonly", False)]},
     )
     share_product_id = fields.Many2one(
         "product.product",
         string="Share type",
-        domain=[("is_share", "=", True)],
+        # the company_id condition ensures that only shares available for the
+        # company to which this subscription request is linked will be
+        # displayed in the form. this is useful for users that have access to
+        # multiple companies and create subscription requests for the
+        # non-current company.
+        domain="[('is_share', '=', True), ('company_id', 'in', (company_id, False))]",
         required=True,
         readonly=True,
         states={"draft": [("readonly", False)]},
+        check_company=True,
     )
     share_short_name = fields.Char(
         related="share_product_id.short_name",
         string="Share type name",
         readonly=True,
         states={"draft": [("readonly", False)]},
     )
@@ -312,15 +329,17 @@
         required=True,
         readonly=True,
         states={"draft": [("readonly", False)]},
     )
     phone = fields.Char(
         string="Phone", readonly=True, states={"draft": [("readonly", False)]}
     )
-    user_id = fields.Many2one("res.users", string="Responsible", readonly=True)
+    user_id = fields.Many2one(
+        "res.users", string="Responsible", readonly=True, check_company=True
+    )
     # todo rename to valid_subscription_request
     is_valid_iban = fields.Boolean(
         compute="_compute_is_valid_iban",
         string="Valid IBAN?",
         store=True,
         readonly=True,
     )
@@ -422,14 +441,15 @@
         states={"draft": [("readonly", False)]},
     )
     operation_request_id = fields.Many2one(
         "operation.request",
         string="Operation Request",
         readonly=True,
         states={"draft": [("readonly", False)]},
+        check_company=True,
     )
     capital_release_request = fields.One2many(
         "account.move",
         "subscription_request",
         string="Capital release request",
         readonly=True,
         states={"draft": [("readonly", False)]},
@@ -504,43 +524,60 @@
 
     # declare this function in order to be overriden
     def get_eater_vals(self, partner, share_product_id):  # noqa
         return {}
 
     def _prepare_invoice_line(self, product, partner, qty):
         self.ensure_one()
+        # .with_company() is needed to allow to validate a subscription
+        # request for a company other than the current one, which can happen
+        # when a user is "logged in" to multiple companies.
+        product = product.with_company(self.company_id)
         account = (
             product.property_account_income_id
             or product.categ_id.property_account_income_categ_id
         )
         if not account:
             raise UserError(
                 _(
                     "Please define income account for this product:"
                     ' "%s" (id:%d) - or for its category: "%s".'
                 )
                 % (product.name, product.id, product.categ_id.name)
             )
 
-        fpos = partner.property_account_position_id
+        fpos = partner.with_company(self.company_id).property_account_position_id
         if fpos:
             account = fpos.map_account(account)
 
         res = {
             "name": product.name,
             "account_id": account.id,
             "price_unit": product.lst_price,
             "quantity": qty,
             "product_uom_id": product.uom_id.id,
-            "product_id": product.id or False,
+            "product_id": product.id,
+            "company_id": self.company_id.id,
         }
         return res
 
+    @api.model
+    def create_journal(self, company):
+        if not company.subscription_journal_id:
+            company.subscription_journal_id = self.env["account.journal"].create(
+                {
+                    "name": _("Subscription Journal"),
+                    "code": _("SUBJ"),
+                    "type": "sale",
+                    "company_id": company.id,
+                }
+            )
+
     def get_journal(self):
-        return self.env.ref("cooperator.subscription_journal")
+        return self.company_id.subscription_journal_id
 
     def get_accounting_account(self):
         account = self.company_id.property_cooperator_account
         if account:
             return account
         else:
             raise UserError(_("You must set a cooperator account on your company."))
@@ -548,14 +585,15 @@
     def get_invoice_vals(self, partner):
         invoice_vals = {
             "partner_id": partner.id,
             "journal_id": self.get_journal().id,
             "move_type": "out_invoice",
             "release_capital_request": True,
             "subscription_request": self.id,
+            "company_id": self.company_id.id,
         }
 
         payment_term_id = self.env.company.default_capital_release_request_payment_term
 
         if payment_term_id:
             # if none configured, let the default invoice payment
             # term
@@ -585,74 +623,101 @@
         return invoice
 
     def get_partner_company_vals(self):
         partner_vals = {
             "name": self.company_name,
             "is_company": self.is_company,
             "company_register_number": self.company_register_number,  # noqa
-            "cooperator": True,
             "street": self.address,
             "zip": self.zip_code,
             "city": self.city,
             "email": self.company_email,
             "country_id": self.country_id.id,
             "lang": self.lang,
-            "data_policy_approved": self.data_policy_approved,
-            "internal_rules_approved": self.internal_rules_approved,
-            "financial_risk_approved": self.financial_risk_approved,
-            "generic_rules_approved": self.generic_rules_approved,
+            "cooperative_membership_ids": [
+                (
+                    0,
+                    0,
+                    {
+                        "company_id": self.company_id.id,
+                        "cooperator": True,
+                        "data_policy_approved": self.data_policy_approved,
+                        "internal_rules_approved": self.internal_rules_approved,
+                        "financial_risk_approved": self.financial_risk_approved,
+                        "generic_rules_approved": self.generic_rules_approved,
+                    },
+                )
+            ],
         }
         return partner_vals
 
     def get_partner_vals(self):
         partner_vals = {
             "name": self.name,
             "firstname": self.firstname,
             "lastname": self.lastname,
             "street": self.address,
             "zip": self.zip_code,
             "email": self.email,
             "gender": self.gender,
-            "cooperator": True,
             "city": self.city,
             "phone": self.phone,
             "country_id": self.country_id.id,
             "lang": self.lang,
             "birthdate_date": self.birthdate,
-            "data_policy_approved": self.data_policy_approved,
-            "internal_rules_approved": self.internal_rules_approved,
-            "financial_risk_approved": self.financial_risk_approved,
-            "generic_rules_approved": self.generic_rules_approved,
+            "cooperative_membership_ids": [
+                (
+                    0,
+                    0,
+                    {
+                        "company_id": self.company_id.id,
+                        "cooperator": True,
+                        "data_policy_approved": self.data_policy_approved,
+                        "internal_rules_approved": self.internal_rules_approved,
+                        "financial_risk_approved": self.financial_risk_approved,
+                        "generic_rules_approved": self.generic_rules_approved,
+                    },
+                )
+            ],
         }
         return partner_vals
 
     def get_representative_vals(self):
         contact_vals = {
             "name": self.name,
             "firstname": self.firstname,
             "lastname": self.lastname,
             "is_company": False,
-            "cooperator": True,
             "street": self.address,
             "gender": self.gender,
             "zip": self.zip_code,
             "city": self.city,
             "phone": self.phone,
             "email": self.email,
             "country_id": self.country_id.id,
             "lang": self.lang,
             "birthdate_date": self.birthdate,
             "parent_id": self.partner_id.id,
             "representative": True,
             "function": self.contact_person_function,
             "type": "representative",
-            "data_policy_approved": self.data_policy_approved,
-            "internal_rules_approved": self.internal_rules_approved,
-            "financial_risk_approved": self.financial_risk_approved,
-            "generic_rules_approved": self.generic_rules_approved,
+            "cooperative_membership_ids": [
+                (
+                    0,
+                    0,
+                    {
+                        "company_id": self.company_id.id,
+                        "cooperator": True,
+                        "data_policy_approved": self.data_policy_approved,
+                        "internal_rules_approved": self.internal_rules_approved,
+                        "financial_risk_approved": self.financial_risk_approved,
+                        "generic_rules_approved": self.generic_rules_approved,
+                    },
+                )
+            ],
         }
         return contact_vals
 
     def create_coop_partner(self):
         partner_obj = self.env["res.partner"]
 
         if self.is_company:
@@ -673,89 +738,118 @@
 
     def _get_partner_domain(self):
         if self.email:
             return [("email", "=", self.email)]
         else:
             return None
 
-    def validate_subscription_request(self):
-        # todo rename to validate (careful with iwp dependencies)
+    def _find_or_create_partner(self):
+        """
+        If self.partner_id is not set, set it by searching for a corresponding
+        partner or creating a new one, then return it.
+        """
         self.ensure_one()
-        if self.state not in ("draft", "waiting"):
-            raise ValidationError(
-                _("The request must be in draft or on waiting list to be validated")
+        partner = self.partner_id
+        if partner:
+            return partner
+        domain = []
+        if self.already_cooperator:
+            raise UserError(
+                _(
+                    "The checkbox already cooperator is"
+                    " checked please select a cooperator."
+                )
             )
+        elif self.is_company and self.company_register_number:
+            domain = [
+                (
+                    "company_register_number",
+                    "=",
+                    self.company_register_number,
+                )
+            ]  # noqa
+        elif not self.is_company:
+            domain = self._get_partner_domain()
 
-        partner_obj = self.env["res.partner"]
+        if domain:
+            partner = self.env["res.partner"].search(domain, limit=1)
 
-        if self.ordered_parts <= 0:
-            raise UserError(_("Number of share must be greater than 0."))
-        if self.partner_id:
-            partner = self.partner_id
+        if not partner:
+            partner = self.create_coop_partner()
+
+        self.partner_id = partner
+        return partner
+
+    def _find_or_create_representative(self):
+        """
+        Search for an existing contact that is a representative for the
+        company partner linked to this subscription request. If none is found,
+        create one.
+        """
+        self.ensure_one()
+        contact = False
+        partner_model = self.env["res.partner"]
+        domain = self._get_partner_domain()
+        if domain:
+            contact = partner_model.search(domain)
+            if contact:
+                contact.type = "representative"
+        if not contact:
+            contact_vals = self.get_representative_vals()
+            partner_model.create(contact_vals)
         else:
-            partner = None
-            domain = []
-            if self.already_cooperator:
+            if len(contact) > 1:
                 raise UserError(
                     _(
-                        "The checkbox already cooperator is"
-                        " checked please select a cooperator."
+                        "There is two different persons with the"
+                        " same national register number. Please"
+                        " proceed to a merge before to continue"
                     )
                 )
-            elif self.is_company and self.company_register_number:
-                domain = [
-                    (
-                        "company_register_number",
-                        "=",
-                        self.company_register_number,
+            if contact.parent_id and contact.parent_id != self.partner_id:
+                raise UserError(
+                    _(
+                        "This contact person is already defined"
+                        " for another company. Please select"
+                        " another contact"
                     )
-                ]  # noqa
-            elif not self.is_company:
-                domain = self._get_partner_domain()
+                )
+            else:
+                contact.write({"parent_id": self.partner_id.id, "representative": True})
 
-            if domain:
-                partner = partner_obj.search(domain)
+    def validate_subscription_request(self):
+        # todo rename to validate (careful with iwp dependencies)
+        self.ensure_one()
+        if self.state not in ("draft", "waiting"):
+            raise ValidationError(
+                _("The request must be in draft or on waiting list to be validated")
+            )
 
-        if not partner:
-            partner = self.create_coop_partner()
-            self.partner_id = partner
-        else:
-            partner = partner[0]
+        if self.ordered_parts <= 0:
+            raise UserError(_("Number of share must be greater than 0."))
 
-        partner.cooperator = True
+        # fixme: when re-using an existing partner (as self.partner_id or as a
+        # representative), their values are not updated with the values of the
+        # subscription request. this includes partner information (name,
+        # street address, etc.) but also cooperative membership data like
+        # data_policy_approved. how to fix this? should it be optional or
+        # should it be done in all cases?
+
+        partner = self._find_or_create_partner()
+
+        cooperative_membership = partner.get_cooperative_membership(self.company_id.id)
+        if not cooperative_membership:
+            cooperative_membership = partner.create_cooperative_membership(
+                self.company_id.id
+            )
+        elif not cooperative_membership.cooperator:
+            cooperative_membership.cooperator = True
 
         if self.is_company and not partner.has_representative():
-            contact = False
-            domain = self._get_partner_domain()
-            if domain:
-                contact = partner_obj.search(domain)
-                if contact:
-                    contact.type = "representative"
-            if not contact:
-                contact_vals = self.get_representative_vals()
-                partner_obj.create(contact_vals)
-            else:
-                if len(contact) > 1:
-                    raise UserError(
-                        _(
-                            "There is two different persons with the"
-                            " same national register number. Please"
-                            " proceed to a merge before to continue"
-                        )
-                    )
-                if contact.parent_id and contact.parent_id.id != partner.id:
-                    raise UserError(
-                        _(
-                            "This contact person is already defined"
-                            " for another company. Please select"
-                            " another contact"
-                        )
-                    )
-                else:
-                    contact.write({"parent_id": partner.id, "representative": True})
+            self._find_or_create_representative()
 
         invoice = self.create_invoice(partner)
         self.write({"state": "done"})
         self.set_membership()
 
         return invoice
 
@@ -775,16 +869,16 @@
         self.ensure_one()
         if self.state not in ("draft", "waiting", "done", "block"):
             raise ValidationError(_("You cannot cancel a request in this " "state."))
         self.write({"state": "cancelled"})
 
     def _send_waiting_list_mail(self):
         if self.company_id.send_waiting_list_email:
-            waiting_list_mail_template = self.env.ref(
-                "cooperator.email_template_waiting_list", False
+            waiting_list_mail_template = (
+                self.company_id.get_cooperator_waiting_list_mail_template()
             )
             waiting_list_mail_template.send_mail(self.id, True)
 
     def put_on_waiting_list(self):
         self.ensure_one()
         if self.state != "draft":
             raise ValidationError(
```

## odoo/addons/cooperator/readme/HISTORY.rst

```diff
@@ -1,7 +1,26 @@
+14.0.3.0.0 (2023-07-25)
+~~~~~~~~~~~~~~~~~~~~~~~
+
+**Features**
+
+- Each company now has their own mail templates for cooperator-related e-mails. If
+  no template is set, the default (global) template is used. (`#73 <https://github.com/OCA/cooperative/issues/73>`_)
+- ir.sequences used by this module are no longer global; each company has its own
+  sequence for cooperator memberships. (`#74 <https://github.com/OCA/cooperative/issues/74>`_)
+- Create subscription journal per company. (`#75 <https://github.com/OCA/cooperative/issues/75>`_)
+- Improve multi-company consistency by setting ``company_id`` on records where
+  needed and adding the ``check_company`` flag on ``Many2one`` fields. (`#77 <https://github.com/OCA/cooperative/issues/77>`_)
+- ir.rules for multi-company usage added. Users cannot access records of this
+  module if they are not members of the relevant company. (`#78 <https://github.com/OCA/cooperative/issues/78>`_)
+- Move cooperative membership properties from ``res.partner`` to new
+  ``cooperative.membership`` model and add company-dependent computed fields on
+  ``res.partner`` for backward compatibility. (`#82 <https://github.com/OCA/cooperative/issues/82>`_)
+
+
 14.0.1.6.0 (2023-02-23)
 ~~~~~~~~~~~~~~~~~~~~~~~
 
 **Features**
 
 - Removed all selection widgets. (`#55 <https://github.com/OCA/cooperative/issues/55>`_)
```

## odoo/addons/cooperator/readme/ROADMAP.rst

```diff
@@ -2,7 +2,20 @@
 
 Consider a refactoring for:
 1. removing a potential redundancy between the boolean field "representative" and the address type "representative".
 2. prevent new contacts to have the representative address type, if they are not representative.
 See [this issue](https://github.com/coopiteasy/vertical-cooperative/issues/350)
 
 known_caveats: the cooperator localization modules will have to be splitted in order to install the `cooperator` module without the `cooperator_website` module.
+
+Registering a payment for a subscription request for a company other than the
+current one does not create the cooperative membership information for the
+partner.
+
+A “Cooperative Memberships” page should be added to the ``res.partner`` form,
+displaying all the cooperative memberships of the partner
+(``cooperative_membership_ids``). The page should only be visible for users
+that are both in the ``cooperator_group_user`` group and in the
+``base.group_multi_company`` group (how to do this?). Should it display the
+memberships of all companies or only the ones in which the user is “logged in”
+(checked in the menu)? If all companies, there would be a conflict with the
+``cooperative_membership_rule_company`` ``ir.rule``.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## odoo/addons/cooperator/security/ir.model.access.csv

```diff
@@ -1,19 +1,22 @@
 id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
 access_product_product_cooperator_user,access_product_product_cooperator_user,product.model_product_product,cooperator_group_user,1,1,0,0
 access_product_product_cooperator_manager,access_product_product_cooperator_manager,product.model_product_product,cooperator_group_manager,1,1,1,1
 access_product_template_cooperator_user,access_product_template_cooperator_user,product.model_product_template,cooperator_group_user,1,1,0,0
 access_product_template_cooperator_manager,access_product_template_cooperator_manager,product.model_product_template,cooperator_group_manager,1,1,1,1
-access_subscription_request_user,access_subscription_request_user.subscription,model_subscription_request,base.group_user,1,0,0,0
+access_subscription_request_user,access_subscription_request_user,model_subscription_request,base.group_user,1,0,0,0
 access_subscription_request_cooperator_user,access_subscription_request_cooperator_user,model_subscription_request,cooperator_group_user,1,1,1,0
 access_subscription_request_cooperator_manager,access_subscription_request_cooperator_manager,model_subscription_request,cooperator_group_manager,1,1,1,0
 access_share_line_user,access_share_line_user,model_share_line,base.group_user,1,0,0,0
 access_share_line_cooperator_user,access_share_line_cooperator_user,model_share_line,cooperator_group_user,1,1,1,0
 access_share_line_cooperator_manager,access_share_line_cooperator_manager,model_share_line,cooperator_group_manager,1,1,1,1
 access_res_partner_cooperator_user,access_res_partner_cooperator_user,base.model_res_partner,cooperator_group_user,1,1,1,0
 access_account_move_cooperator_user,access_account_move_cooperator_user,model_account_move,cooperator_group_user,1,1,1,0
 access_subscription_register_cooperator_user,access_subscription_register_cooperator_user,model_subscription_register,cooperator_group_user,1,1,1,0
 access_operation_request_cooperator_user,access_operation_request_cooperator_user,model_operation_request,cooperator_group_user,1,1,1,0
 access_operation_request_cooperator_manager,access_operation_request_cooperator_manager,model_operation_request,cooperator_group_manager,1,1,1,1
 access_partner_create_subscription_cooperator_user,access_partner_create_subscription_cooperator_user,model_partner_create_subscription,cooperator_group_user,1,1,1,0
 access_share_line_update_info_cooperator_user,access_share_line_update_info_cooperator_user,model_share_line_update_info,cooperator_group_user,1,1,1,0
 access_validate_subscription_request_cooperator_user,access_validate_subscription_request_cooperator_user,model_validate_subscription_request,cooperator_group_user,1,1,1,0
+access_cooperative_membership_user,access_cooperative_membership_user,model_cooperative_membership,base.group_user,1,0,0,0
+access_cooperative_membership_cooperator_user,access_cooperative_membership_cooperator_user,model_cooperative_membership,cooperator_group_user,1,1,1,0
+access_cooperative_membership_cooperator_manager,access_cooperator_cooperative_membership_manager,model_cooperative_membership,cooperator_group_manager,1,1,1,1
```

## odoo/addons/cooperator/static/description/index.html

### odoo/addons/cooperator/static/description/index.html

```diff
@@ -414,61 +414,64 @@
       </ul>
       <p>
         <strong>Table of contents</strong>
       </p>
       <div class="contents local topic" id="contents">
         <ul class="simple">
           <li>
-            <a class="reference internal" href="#installation" id="id9">Installation</a>
+            <a class="reference internal" href="#installation" id="id16">Installation</a>
           </li>
           <li>
-            <a class="reference internal" href="#usage" id="id10">Usage</a>
+            <a class="reference internal" href="#usage" id="id17">Usage</a>
           </li>
           <li>
-            <a class="reference internal" href="#known-issues-roadmap" id="id11">Known issues / Roadmap</a>
+            <a class="reference internal" href="#known-issues-roadmap" id="id18">Known issues / Roadmap</a>
           </li>
           <li>
-            <a class="reference internal" href="#changelog" id="id12">Changelog</a>
+            <a class="reference internal" href="#changelog" id="id19">Changelog</a>
             <ul>
               <li>
-                <a class="reference internal" href="#id1" id="id13">14.0.1.6.0 (2023-02-23)</a>
+                <a class="reference internal" href="#id1" id="id20">14.0.3.0.0 (2023-07-25)</a>
               </li>
               <li>
-                <a class="reference internal" href="#id3" id="id14">12.0.5.3.0 (2022-09-05)</a>
+                <a class="reference internal" href="#id8" id="id21">14.0.1.6.0 (2023-02-23)</a>
               </li>
               <li>
-                <a class="reference internal" href="#id5" id="id15">12.0.5.0.0 (2022-06-23)</a>
+                <a class="reference internal" href="#id10" id="id22">12.0.5.3.0 (2022-09-05)</a>
               </li>
               <li>
-                <a class="reference internal" href="#id7" id="id16">12.0.3.3.2 (2022-06-20)</a>
+                <a class="reference internal" href="#id12" id="id23">12.0.5.0.0 (2022-06-23)</a>
+              </li>
+              <li>
+                <a class="reference internal" href="#id14" id="id24">12.0.3.3.2 (2022-06-20)</a>
               </li>
             </ul>
           </li>
           <li>
-            <a class="reference internal" href="#bug-tracker" id="id17">Bug Tracker</a>
+            <a class="reference internal" href="#bug-tracker" id="id25">Bug Tracker</a>
           </li>
           <li>
-            <a class="reference internal" href="#credits" id="id18">Credits</a>
+            <a class="reference internal" href="#credits" id="id26">Credits</a>
             <ul>
               <li>
-                <a class="reference internal" href="#authors" id="id19">Authors</a>
+                <a class="reference internal" href="#authors" id="id27">Authors</a>
               </li>
               <li>
-                <a class="reference internal" href="#contributors" id="id20">Contributors</a>
+                <a class="reference internal" href="#contributors" id="id28">Contributors</a>
               </li>
               <li>
-                <a class="reference internal" href="#maintainers" id="id21">Maintainers</a>
+                <a class="reference internal" href="#maintainers" id="id29">Maintainers</a>
               </li>
             </ul>
           </li>
         </ul>
       </div>
       <div class="section" id="installation">
         <h1>
-          <a class="toc-backref" href="#id9">Installation</a>
+          <a class="toc-backref" href="#id16">Installation</a>
         </h1>
         <p>## Migrating from easy_my_coop* to cooperator modules</p>
         <p>Run this command before updating your modules</p>
         <pre class="code shell literal-block">
           cat rename_deprecated_modules.py
           <span class="p">|</span>
           ./odoo/odoo-bin shell -c odoo.conf --no-http  --stop-after-init -d &lt;db-name&gt;
@@ -507,26 +510,26 @@
           and odoo underscores
           <cite>_</cite>
           .
         </p>
       </div>
       <div class="section" id="usage">
         <h1>
-          <a class="toc-backref" href="#id10">Usage</a>
+          <a class="toc-backref" href="#id17">Usage</a>
         </h1>
         <p>
           See the [documentation](
           <a class="reference external" href="https://doc.it4socialeconomy.org/books/application-cooperators">https://doc.it4socialeconomy.org/books/application-cooperators</a>
           ) (not available in english ATM).
         </p>
         <p>A localization module is needed with this module.</p>
       </div>
       <div class="section" id="known-issues-roadmap">
         <h1>
-          <a class="toc-backref" href="#id11">Known issues / Roadmap</a>
+          <a class="toc-backref" href="#id18">Known issues / Roadmap</a>
         </h1>
         <p>Gather and consolidate all cooperator settings in the application parameters.</p>
         <p>
           Consider a refactoring for:
 1. removing a potential redundancy between the boolean field “representative” and the address type “representative”.
 2. prevent new contacts to have the representative address type, if they are not representative.
 See [this issue](
@@ -536,52 +539,130 @@
         <p>
           known_caveats: the cooperator localization modules will have to be splitted in order to install the
           <cite>cooperator</cite>
           module without the
           <cite>cooperator_website</cite>
           module.
         </p>
+        <p>Registering a payment for a subscription request for a company other than the
+current one does not create the cooperative membership information for the
+partner.</p>
+        <p>
+          A “Cooperative Memberships” page should be added to the
+          <tt class="docutils literal">res.partner</tt>
+          form,
+displaying all the cooperative memberships of the partner
+(
+          <tt class="docutils literal">cooperative_membership_ids</tt>
+          ). The page should only be visible for users
+that are both in the
+          <tt class="docutils literal">cooperator_group_user</tt>
+          group and in the
+          <tt class="docutils literal">base.group_multi_company</tt>
+          group (how to do this?). Should it display the
+memberships of all companies or only the ones in which the user is “logged in”
+(checked in the menu)? If all companies, there would be a conflict with the
+          <tt class="docutils literal">cooperative_membership_rule_company</tt>
+          <tt class="docutils literal">ir.rule</tt>
+          .
+        </p>
       </div>
       <div class="section" id="changelog">
         <h1>
-          <a class="toc-backref" href="#id12">Changelog</a>
+          <a class="toc-backref" href="#id19">Changelog</a>
         </h1>
         <div class="section" id="id1">
           <h2>
-            <a class="toc-backref" href="#id13">14.0.1.6.0 (2023-02-23)</a>
+            <a class="toc-backref" href="#id20">14.0.3.0.0 (2023-07-25)</a>
+          </h2>
+          <p>
+            <strong>Features</strong>
+          </p>
+          <ul class="simple">
+            <li>
+              Each company now has their own mail templates for cooperator-related e-mails. If
+no template is set, the default (global) template is used. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/73">#73</a>
+              )
+            </li>
+            <li>
+              ir.sequences used by this module are no longer global; each company has its own
+sequence for cooperator memberships. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/74">#74</a>
+              )
+            </li>
+            <li>
+              Create subscription journal per company. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/75">#75</a>
+              )
+            </li>
+            <li>
+              Improve multi-company consistency by setting
+              <tt class="docutils literal">company_id</tt>
+              on records where
+needed and adding the
+              <tt class="docutils literal">check_company</tt>
+              flag on
+              <tt class="docutils literal">Many2one</tt>
+              fields. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/77">#77</a>
+              )
+            </li>
+            <li>
+              ir.rules for multi-company usage added. Users cannot access records of this
+module if they are not members of the relevant company. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/78">#78</a>
+              )
+            </li>
+            <li>
+              Move cooperative membership properties from
+              <tt class="docutils literal">res.partner</tt>
+              to new
+              <tt class="docutils literal">cooperative.membership</tt>
+              model and add company-dependent computed fields on
+              <tt class="docutils literal">res.partner</tt>
+              for backward compatibility. (
+              <a class="reference external" href="https://github.com/OCA/cooperative/issues/82">#82</a>
+              )
+            </li>
+          </ul>
+        </div>
+        <div class="section" id="id8">
+          <h2>
+            <a class="toc-backref" href="#id21">14.0.1.6.0 (2023-02-23)</a>
           </h2>
           <p>
             <strong>Features</strong>
           </p>
           <ul class="simple">
             <li>
               Removed all selection widgets. (
               <a class="reference external" href="https://github.com/OCA/cooperative/issues/55">#55</a>
               )
             </li>
           </ul>
         </div>
-        <div class="section" id="id3">
+        <div class="section" id="id10">
           <h2>
-            <a class="toc-backref" href="#id14">12.0.5.3.0 (2022-09-05)</a>
+            <a class="toc-backref" href="#id22">12.0.5.3.0 (2022-09-05)</a>
           </h2>
           <p>
             <strong>Improved Documentation</strong>
           </p>
           <ul class="simple">
             <li>
               Adding USAGE.rst to inform that localization modules are necessary. (
               <a class="reference external" href="https://github.com/coopiteasy/vertical-cooperative/issues/346">#346</a>
               )
             </li>
           </ul>
         </div>
-        <div class="section" id="id5">
+        <div class="section" id="id12">
           <h2>
-            <a class="toc-backref" href="#id15">12.0.5.0.0 (2022-06-23)</a>
+            <a class="toc-backref" href="#id23">12.0.5.0.0 (2022-06-23)</a>
           </h2>
           <p>
             <strong>Deprecations and Removals</strong>
           </p>
           <ul class="simple">
             <li>
               When no cooperator account is defined on the company, this module previously
@@ -590,17 +671,17 @@
               <tt class="docutils literal">l10n_be_cooperator</tt>
               . (
               <a class="reference external" href="https://github.com/coopiteasy/vertical-cooperative/issues/314">#314</a>
               )
             </li>
           </ul>
         </div>
-        <div class="section" id="id7">
+        <div class="section" id="id14">
           <h2>
-            <a class="toc-backref" href="#id16">12.0.3.3.2 (2022-06-20)</a>
+            <a class="toc-backref" href="#id24">12.0.3.3.2 (2022-06-20)</a>
           </h2>
           <p>
             <strong>Bugfixes</strong>
           </p>
           <ul class="simple">
             <li>
               Fix name computation crash (
@@ -608,42 +689,42 @@
               )
             </li>
           </ul>
         </div>
       </div>
       <div class="section" id="bug-tracker">
         <h1>
-          <a class="toc-backref" href="#id17">Bug Tracker</a>
+          <a class="toc-backref" href="#id25">Bug Tracker</a>
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/cooperative/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
           <a class="reference external" href="https://github.com/OCA/cooperative/issues/new?body=module:%20cooperator%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
-          <a class="toc-backref" href="#id18">Credits</a>
+          <a class="toc-backref" href="#id26">Credits</a>
         </h1>
         <div class="section" id="authors">
           <h2>
-            <a class="toc-backref" href="#id19">Authors</a>
+            <a class="toc-backref" href="#id27">Authors</a>
           </h2>
           <ul class="simple">
             <li>Coop IT Easy SC</li>
           </ul>
         </div>
         <div class="section" id="contributors">
           <h2>
-            <a class="toc-backref" href="#id20">Contributors</a>
+            <a class="toc-backref" href="#id28">Contributors</a>
           </h2>
           <ul class="simple">
             <li>
               <a class="reference external" href="https://coopiteasy.be">Coop IT Easy SC</a>
               :
               <ul>
                 <li>Houssine Bakkali</li>
@@ -656,15 +737,15 @@
                 <li>hugues de keyzer</li>
               </ul>
             </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
-            <a class="toc-backref" href="#id21">Maintainers</a>
+            <a class="toc-backref" href="#id29">Maintainers</a>
           </h2>
           <p>This module is maintained by the OCA.</p>
           <a class="reference external image-reference" href="https://odoo-community.org">
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
```

## odoo/addons/cooperator/tests/__init__.py

```diff
@@ -1 +1,3 @@
 from . import test_cooperator
+from . import test_cooperator_security
+from . import test_mail_templates
```

## odoo/addons/cooperator/tests/cooperator_test_mixin.py

```diff
@@ -5,65 +5,33 @@
 from datetime import date, datetime, timedelta
 
 
 class CooperatorTestMixin:
     @classmethod
     def set_up_cooperator_test_data(cls):
         cls.env = cls.env(context=dict(cls.env.context, tracking_disable=True))
-        # accounting data needs to be created even if created in module data
-        # because when launching tests, accounting data will be deleted when odoo loads
-        # a test chart of account.
-        # cf _load in chart_template.py in account module
-
-        account_model = cls.env["account.account"]
-        cls.company = cls.env.user.company_id
+        cls.company = cls.env.ref("base.main_company")
         cls.company.coop_email_contact = "coop_email@example.org"
         cls.demo_partner = cls.env.ref("base.partner_demo")
-
-        receivable_account_type = cls.env.ref("account.data_account_type_receivable")
-        equity_account_type = cls.env.ref("account.data_account_type_equity")
-        cooperator_account = account_model.create(
-            {
-                "name": "Cooperator Test",
-                "code": "416109",
-                "user_type_id": receivable_account_type.id,
-                "reconcile": True,
-            }
-        )
-        cls.company.property_cooperator_account = cooperator_account
-        cls.equity_account = account_model.create(
-            {
-                "name": "Equity Test ",
-                "code": "100919",
-                "user_type_id": equity_account_type.id,
-                "reconcile": True,
-            }
-        )
-        cls.subscription_journal = cls.env["account.journal"].create(
-            {
-                "name": "Subscriptions Test",
-                "code": "SUBJT",
-                "type": "sale",
-            }
-        )
-
         cls.share_x = cls.env["product.product"].create(
             {
                 "name": "Share X - Founder",
                 "short_name": "Part X",
+                "default_code": "share_x",
                 "is_share": True,
                 "by_individual": True,
                 "by_company": False,
                 "list_price": 50,
             }
         )
         cls.share_y = cls.env["product.product"].create(
             {
                 "name": "Share Y - Worker",
                 "short_name": "Part Y",
+                "default_code": "share_y",
                 "is_share": True,
                 "default_share_product": True,
                 "by_individual": True,
                 "by_company": True,
                 "list_price": 25,
             }
         )
@@ -87,61 +55,73 @@
                 "generic_rules_approved": True,
                 "gender": "male",
                 "iban": "09898765454",
                 "birthdate": date(1990, 9, 21),
                 "skip_iban_control": True,
             }
         )
-        cls.bank_journal = cls.env["account.journal"].create(
-            {"name": "Bank", "type": "bank", "code": "BNK67"}
+
+    @classmethod
+    def create_company(cls, name):
+        company = cls.env["res.company"].create(
+            {
+                "name": name,
+            }
         )
-        cls.payment_method = cls.env.ref("account.account_payment_method_manual_in")
+        # apply the same account chart template as the main company
+        cls.company.chart_template_id.try_loading(company)
+        return company
 
     def pay_invoice(self, invoice, payment_date=None):
         ctx = {"active_model": "account.move", "active_ids": [invoice.id]}
-        register_payments_vals = {
-            "journal_id": self.bank_journal.id,
-            "payment_method_id": self.payment_method.id,
-        }
+        register_payments_vals = {"payment_type": "inbound"}
         if payment_date is not None:
             register_payments_vals["payment_date"] = payment_date
         register_payment = (
             self.env["account.payment.register"]
             .with_context(ctx)
             .create(register_payments_vals)
         )
-        register_payment.action_create_payments()
+        register_payment.with_company(invoice.company_id).action_create_payments()
 
     def create_payment_account_move(self, invoice, date, amount=None):
         if amount is None:
             amount = invoice.line_ids[0].credit
+        journal = self.env["account.journal"].search(
+            [
+                ("type", "=", "bank"),
+                ("company_id", "=", invoice.company_id.id),
+            ],
+            limit=1,
+        )
         am = self.env["account.move"].create(
             {
-                "journal_id": self.bank_journal.id,
+                "journal_id": journal.id,
                 "date": date,
                 "line_ids": [
                     (
                         0,
                         0,
                         {
                             "name": invoice.name,
-                            "account_id": self.bank_journal.default_account_id.id,
+                            "account_id": journal.default_account_id.id,
                             "debit": amount,
                         },
                     ),
                     (
                         0,
                         0,
                         {
                             "name": invoice.payment_reference,
-                            "account_id": self.company.property_cooperator_account.id,
+                            "account_id": invoice.company_id.property_cooperator_account.id,
                             "credit": amount,
                         },
                     ),
                 ],
+                "company_id": invoice.company_id.id,
             }
         )
         am.action_post()
         (invoice.line_ids[1] + am.line_ids[1]).reconcile()
         return am
 
     def get_dummy_subscription_requests_vals(self):
```

## odoo/addons/cooperator/tests/test_cooperator.py

```diff
@@ -1,14 +1,16 @@
 # Copyright 2019 Coop IT Easy SCRL fs
 #   Robin Keunen <robin@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 from datetime import date, datetime, timedelta
 
-from odoo.exceptions import AccessError
+from freezegun import freeze_time
+
+from odoo.exceptions import AccessError, UserError, ValidationError
 from odoo.fields import Date
 from odoo.tests.common import SavepointCase, users
 
 from .cooperator_test_mixin import CooperatorTestMixin
 
 
 class CooperatorCase(SavepointCase, CooperatorTestMixin):
@@ -21,14 +23,15 @@
                 "share_product_id": cls.share_x.id,
                 "share_number": 2,
                 "share_unit_price": 50,
                 "partner_id": cls.demo_partner.id,
                 "effective_date": datetime.now() - timedelta(days=120),
             }
         )
+        cls.company_2 = cls.create_company("company 2")
 
     @users("user-cooperator")
     def test_put_on_waiting_list(self):
         self.subscription_request_1.put_on_waiting_list()
         self.assertEqual(self.subscription_request_1.state, "waiting")
 
     @users("user-cooperator")
@@ -362,14 +365,24 @@
         self.assertEqual(representative.country_id, self.browse_ref("base.be"))
         self.assertEqual(representative.lang, "en_US")
         self.assertEqual(representative.gender, "other")
         self.assertEqual(representative.birthdate_date, date(1980, 1, 1))
         # should this be true?
         self.assertTrue(representative.cooperator)
 
+    def test_representative_of_member_company(self):
+        vals = self.get_dummy_company_subscription_requests_vals()
+        subscription_request = self.env["subscription.request"].create(vals)
+        subscription_request.validate_subscription_request()
+        partner = subscription_request.partner_id
+        representative = partner.child_ids
+        self.assertFalse(representative.representative_of_member_company)
+        self.pay_invoice(subscription_request.capital_release_request)
+        self.assertTrue(representative.representative_of_member_company)
+
     def test_create_subscription_with_matching_email(self):
         partner = self.env["res.partner"].create(
             {
                 "name": "dummy partner 1",
                 "email": "dummy@example.net",
             }
         )
@@ -385,17 +398,17 @@
                 "email": "dummy@example.net",
             }
         )
         partner2 = self.env["res.partner"].create(
             {
                 "name": "dummy partner 2",
                 "email": "dummy@example.net",
-                "cooperator": True,
             }
         )
+        partner2.create_cooperative_membership(self.company.id)
         vals = self.get_dummy_subscription_requests_vals()
         vals["email"] = "dummy@example.net"
         subscription_request = self.env["subscription.request"].create(vals)
         # if there are multiple email matches, take the one that is a
         # cooperator.
         self.assertEqual(subscription_request.partner_id, partner2)
 
@@ -459,17 +472,18 @@
         )
         company_partner2 = self.env["res.partner"].create(
             {
                 "name": "dummy company 2",
                 "email": "dummycompany@example.net",
                 "company_register_number": "dummy company register number",
                 "is_company": True,
-                "cooperator": True,
             }
         )
+        company_partner2.create_cooperative_membership(self.company.id)
+        company_partner2.cooperator = True
         vals = self.get_dummy_company_subscription_requests_vals()
         subscription_request = self.env["subscription.request"].create(vals)
         partner = subscription_request.partner_id
         # if there are multiple company register number matches, take the one
         # that is a cooperator.
         self.assertEqual(partner, company_partner2)
 
@@ -512,7 +526,581 @@
             }
         )
         vals = self.get_dummy_company_subscription_requests_vals()
         del vals["company_register_number"]
         subscription_request = self.env["subscription.request"].create(vals)
         partner = subscription_request.partner_id
         self.assertNotEqual(partner, company_partner)
+
+    def test_subscription_journal_per_company(self):
+        """
+        Test that creating a new company creates a new subscription journal
+        for it.
+        """
+        company_1 = self.company
+        company_2 = self.company_2
+        self.assertTrue(company_2.subscription_journal_id)
+        self.assertEqual(company_2.subscription_journal_id.company_id, company_2)
+        self.assertNotEqual(
+            company_1.subscription_journal_id, company_2.subscription_journal_id
+        )
+
+    def test_subscription_request_journal_per_company(self):
+        company_1 = self.company
+        company_2 = self.company_2
+        subscription_request_1 = self.env["subscription.request"].create(
+            self.get_dummy_subscription_requests_vals()
+        )
+        subscription_request_2 = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        self.assertEqual(subscription_request_1.company_id, company_1)
+        self.assertEqual(subscription_request_2.company_id, company_2)
+        self.assertEqual(
+            subscription_request_1.get_journal(), company_1.subscription_journal_id
+        )
+        self.assertEqual(
+            subscription_request_2.get_journal(), company_2.subscription_journal_id
+        )
+
+    def test_create_subscription_request_with_share_of_different_company(self):
+        """
+        Test that creating a subscription request with a share (product)
+        linked to a different company than the current one fails.
+        """
+        # link the share to a specific company (instead of it being shared
+        # across all of them).
+        self.share_y.company_id = self.company.id
+        company_2 = self.company_2
+        with self.assertRaises(UserError):
+            self.env["subscription.request"].with_company(company_2).create(
+                self.get_dummy_subscription_requests_vals()
+            )
+
+    def test_create_operation_request_with_share_of_different_company(self):
+        """
+        Test that creating an operation request with a share (product)
+        linked to a different company than the current one fails.
+        """
+        # link the share to a specific company (instead of it being shared
+        # across all of them).
+        self.share_y.company_id = self.company.id
+        company_2 = self.company_2
+        vals = {
+            "partner_id": self.demo_partner.id,
+            "operation_type": "sell_back",
+            "share_product_id": self.share_y.id,
+            "quantity": 2,
+        }
+        with self.assertRaises(UserError):
+            self.env["operation.request"].with_company(company_2).create(vals)
+        vals.update(
+            {
+                "share_product_id": self.share_x.id,
+                "share_to_product_id": self.share_y.id,
+            }
+        )
+        with self.assertRaises(UserError):
+            self.env["operation.request"].with_company(company_2).create(vals)
+
+    def test_create_cooperator_for_other_company(self):
+        """
+        Test that creating a cooperator for a different company works and
+        keeps data correctly separated per company.
+        """
+        company_2 = self.company_2
+        subscription_request = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        self.validate_subscription_request_and_pay(subscription_request)
+        invoice = subscription_request.capital_release_request
+        self.assertEqual(invoice.company_id, company_2)
+
+        partner = subscription_request.partner_id.with_company(self.company)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.member)
+        # partner.share_ids contains all share lines across all companies
+        self.assertTrue(partner.share_ids)
+        # the cooperative membership (company-dependent) contains only the
+        # share lines for the current company.
+        self.assertFalse(partner.cooperative_membership_id.share_ids)
+        partner = partner.with_company(company_2)
+        self.assertFalse(partner.coop_candidate)
+        self.assertTrue(partner.member)
+        self.assertTrue(partner.cooperative_membership_id.share_ids)
+        self.assertEqual(partner.share_ids, partner.cooperative_membership_id.share_ids)
+
+    def test_create_cooperator_for_non_current_company(self):
+        """
+        Test that creating a cooperator for a different company than the
+        current one works and keeps data correctly separated per company.
+        """
+        company_2 = self.company_2
+        subscription_request = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        # validate subscription request for company_2 but with self.company as
+        # the current company.
+        subscription_request.with_company(self.company).validate_subscription_request()
+        invoice = subscription_request.capital_release_request
+        self.assertEqual(invoice.company_id, company_2)
+        # register a payment for company_2 but with self.company as the
+        # current company.
+        self.pay_invoice(invoice.with_company(self.company))
+        partner = subscription_request.partner_id.with_company(self.company)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.member)
+        self.assertFalse(partner.cooperative_membership_id.share_ids)
+        partner = partner.with_company(company_2)
+        self.assertFalse(partner.coop_candidate)
+        self.assertTrue(partner.member)
+        self.assertTrue(partner.cooperative_membership_id.share_ids)
+        self.assertEqual(partner.share_ids, partner.cooperative_membership_id.share_ids)
+
+    def test_create_cooperator_and_user_for_other_company(self):
+        """
+        Test that creating a cooperator with its corresponding user for a
+        different company works.
+        """
+        company_2 = self.company_2
+        company_2.create_user = True
+        subscription_request = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        self.validate_subscription_request_and_pay(subscription_request)
+        partner = subscription_request.partner_id
+        user = self.env["res.users"].search([("partner_id", "=", partner.id)])
+        self.assertEqual(user.company_id, company_2)
+        self.assertEqual(user.company_ids, company_2)
+
+    def test_create_cooperator_and_user_for_multiple_companies(self):
+        """
+        Test that creating a cooperator with its corresponding user for a
+        different company works.
+        """
+        self.company.create_user = True
+        subscription_request_1 = self.env["subscription.request"].create(
+            self.get_dummy_subscription_requests_vals()
+        )
+        self.validate_subscription_request_and_pay(subscription_request_1)
+        partner_1 = subscription_request_1.partner_id
+        company_2 = self.company_2
+        company_2.create_user = True
+        subscription_request_2 = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        self.validate_subscription_request_and_pay(subscription_request_2)
+        partner_2 = subscription_request_2.partner_id
+        self.assertEqual(partner_1, partner_2)
+        user = self.env["res.users"].search([("partner_id", "=", partner_1.id)])
+        self.assertEqual(user.company_id, self.company)
+        self.assertEqual(user.company_ids, self.company | company_2)
+
+    def test_partner_company_dependent_fields_without_membership(self):
+        """
+        Test that company-dependent fields on res.partner without a membership
+        should have their default value.
+        """
+        partner = self.env["res.partner"].create(
+            {
+                "name": "dummy partner 1",
+            }
+        )
+        # at creation, a partner must not have a cooperative membership.
+        self.assertFalse(partner.cooperative_membership_id)
+        self.assertFalse(partner.cooperative_membership_ids)
+
+        # without a cooperative membership, all fields should have their
+        # default value.
+        self.assertFalse(partner.cooperator)
+        self.assertFalse(partner.member)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.old_member)
+        self.assertEqual(partner.cooperator_register_number, 0)
+        self.assertEqual(partner.number_of_share, 0)
+        self.assertEqual(partner.total_value, 0)
+        self.assertEqual(partner.cooperator_type, False)
+        self.assertEqual(partner.effective_date, False)
+        self.assertFalse(partner.data_policy_approved)
+        self.assertFalse(partner.internal_rules_approved)
+        self.assertFalse(partner.financial_risk_approved)
+        self.assertFalse(partner.generic_rules_approved)
+
+    def test_set_partner_company_dependent_fields_without_membership(self):
+        """
+        Test that setting company-dependent fields on res.partner without a
+        membership should fail.
+        """
+        partner = self.env["res.partner"].create(
+            {
+                "name": "dummy partner 1",
+            }
+        )
+        # without a cooperative membership, setting the fields should fail.
+        with self.assertRaises(ValidationError):
+            partner.cooperator = True
+        with self.assertRaises(ValidationError):
+            partner.member = True
+        with self.assertRaises(ValidationError):
+            partner.coop_candidate = True
+        with self.assertRaises(ValidationError):
+            partner.old_member = True
+        with self.assertRaises(ValidationError):
+            partner.cooperator_register_number = 1
+        with self.assertRaises(ValidationError):
+            partner.number_of_share = 1
+        with self.assertRaises(ValidationError):
+            partner.total_value = 4.2
+        with self.assertRaises(ValidationError):
+            partner.cooperator_type = "share_a"
+        with self.assertRaises(ValidationError):
+            partner.effective_date = date(2023, 6, 21)
+        with self.assertRaises(ValidationError):
+            partner.data_policy_approved = True
+        with self.assertRaises(ValidationError):
+            partner.internal_rules_approved = True
+        with self.assertRaises(ValidationError):
+            partner.financial_risk_approved = True
+        with self.assertRaises(ValidationError):
+            partner.generic_rules_approved = True
+
+    @freeze_time("2023-06-21")
+    def test_existing_partner_company_dependent_fields_with_membership(self):
+        """
+        Test that making a partner cooperator should create a cooperative
+        membership for the company, and that computed field should have the
+        same value as on the cooperative membership.
+        """
+        partner = self.env["res.partner"].create(
+            {
+                "name": "dummy partner 1",
+            }
+        )
+        vals = self.get_dummy_subscription_requests_vals()
+        vals.update(
+            {
+                "partner_id": partner.id,
+                "data_policy_approved": True,
+                "internal_rules_approved": True,
+                "financial_risk_approved": True,
+                "generic_rules_approved": True,
+            }
+        )
+        subscription_request = self.env["subscription.request"].create(vals)
+        self.validate_subscription_request_and_pay(subscription_request)
+        self.assertTrue(partner.cooperative_membership_id)
+        self.assertEqual(partner.cooperative_membership_id.company_id, self.company)
+        self.assertEqual(
+            partner.cooperative_membership_ids, partner.cooperative_membership_id
+        )
+        self.assertTrue(partner.cooperator)
+        self.assertTrue(partner.member)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.old_member)
+        self.assertNotEqual(partner.cooperator_register_number, 0)
+        self.assertEqual(partner.number_of_share, 2)
+        self.assertEqual(partner.total_value, 50)
+        self.assertEqual(partner.cooperator_type, "share_y")
+        self.assertEqual(partner.effective_date, date(2023, 6, 21))
+        # fixme: these should probably be true. see comment in
+        # subscription.request.validate_subscription_request()
+        self.assertFalse(partner.data_policy_approved)
+        self.assertFalse(partner.internal_rules_approved)
+        self.assertFalse(partner.financial_risk_approved)
+        self.assertFalse(partner.generic_rules_approved)
+        cooperative_membership = partner.cooperative_membership_id
+        self.assertEqual(partner.cooperator, cooperative_membership.cooperator)
+        self.assertEqual(partner.member, cooperative_membership.member)
+        self.assertEqual(partner.coop_candidate, cooperative_membership.coop_candidate)
+        self.assertEqual(partner.old_member, cooperative_membership.old_member)
+        self.assertEqual(
+            partner.cooperator_register_number,
+            cooperative_membership.cooperator_register_number,
+        )
+        self.assertEqual(
+            partner.number_of_share, cooperative_membership.number_of_share
+        )
+        self.assertEqual(partner.total_value, cooperative_membership.total_value)
+        self.assertEqual(
+            partner.cooperator_type, cooperative_membership.cooperator_type
+        )
+        self.assertEqual(partner.effective_date, cooperative_membership.effective_date)
+        self.assertEqual(
+            partner.data_policy_approved, cooperative_membership.data_policy_approved
+        )
+        self.assertEqual(
+            partner.internal_rules_approved,
+            cooperative_membership.internal_rules_approved,
+        )
+        self.assertEqual(
+            partner.financial_risk_approved,
+            cooperative_membership.financial_risk_approved,
+        )
+        self.assertEqual(
+            partner.generic_rules_approved,
+            cooperative_membership.generic_rules_approved,
+        )
+
+    @freeze_time("2023-06-21")
+    def test_partner_company_dependent_fields_with_membership(self):
+        """
+        Test that creating a cooperator partner should create a cooperative
+        membership for the company, and that computed field should have the
+        same value as on the cooperative membership.
+        """
+        vals = self.get_dummy_subscription_requests_vals()
+        vals.update(
+            {
+                "data_policy_approved": True,
+                "internal_rules_approved": True,
+                "financial_risk_approved": True,
+                "generic_rules_approved": True,
+            }
+        )
+        subscription_request = self.env["subscription.request"].create(vals)
+        self.validate_subscription_request_and_pay(subscription_request)
+        partner = subscription_request.partner_id
+        self.assertTrue(partner.cooperative_membership_id)
+        self.assertEqual(partner.cooperative_membership_id.company_id, self.company)
+        self.assertTrue(partner.cooperator)
+        self.assertTrue(partner.member)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.old_member)
+        self.assertNotEqual(partner.cooperator_register_number, 0)
+        self.assertEqual(partner.number_of_share, 2)
+        self.assertEqual(partner.total_value, 50)
+        self.assertEqual(partner.cooperator_type, "share_y")
+        self.assertEqual(partner.effective_date, date(2023, 6, 21))
+        self.assertTrue(partner.data_policy_approved)
+        self.assertTrue(partner.internal_rules_approved)
+        self.assertTrue(partner.financial_risk_approved)
+        self.assertTrue(partner.generic_rules_approved)
+        cooperative_membership = partner.cooperative_membership_id
+        self.assertEqual(partner.cooperator, cooperative_membership.cooperator)
+        self.assertEqual(partner.member, cooperative_membership.member)
+        self.assertEqual(partner.coop_candidate, cooperative_membership.coop_candidate)
+        self.assertEqual(partner.old_member, cooperative_membership.old_member)
+        self.assertEqual(
+            partner.cooperator_register_number,
+            cooperative_membership.cooperator_register_number,
+        )
+        self.assertEqual(
+            partner.number_of_share, cooperative_membership.number_of_share
+        )
+        self.assertEqual(partner.total_value, cooperative_membership.total_value)
+        self.assertEqual(
+            partner.cooperator_type, cooperative_membership.cooperator_type
+        )
+        self.assertEqual(partner.effective_date, cooperative_membership.effective_date)
+        self.assertEqual(
+            partner.data_policy_approved, cooperative_membership.data_policy_approved
+        )
+        self.assertEqual(
+            partner.internal_rules_approved,
+            cooperative_membership.internal_rules_approved,
+        )
+        self.assertEqual(
+            partner.financial_risk_approved,
+            cooperative_membership.financial_risk_approved,
+        )
+        self.assertEqual(
+            partner.generic_rules_approved,
+            cooperative_membership.generic_rules_approved,
+        )
+
+    @freeze_time("2023-06-21")
+    def test_set_partner_company_dependent_fields_with_membership(self):
+        """
+        Test that setting company-dependent fields on the partner should set
+        them on the cooperative membership.
+        """
+        partner = self.create_dummy_cooperator()
+        partner.cooperator = False
+        self.assertFalse(partner.cooperator)
+        partner.member = False
+        self.assertFalse(partner.member)
+        # fixme: as this is a computed field, this should fail
+        partner.coop_candidate = True
+        self.assertTrue(partner.coop_candidate)
+        partner.old_member = True
+        self.assertTrue(partner.old_member)
+        # fixme: as this is a readonly field, this should fail
+        partner.cooperator_register_number = 42
+        self.assertEqual(partner.cooperator_register_number, 42)
+        # fixme: as this is a computed field, this should fail
+        partner.number_of_share = 7
+        self.assertEqual(partner.number_of_share, 7)
+        # fixme: as this is a computed field, this should fail
+        partner.total_value = 100
+        self.assertEqual(partner.total_value, 100)
+        # fixme: as this is a computed field, this should fail
+        partner.cooperator_type = "share_x"
+        self.assertEqual(partner.cooperator_type, "share_x")
+        # fixme: as this is a computed field, this should fail
+        partner.effective_date = date(2023, 6, 28)
+        self.assertEqual(partner.effective_date, date(2023, 6, 28))
+        partner.data_policy_approved = True
+        self.assertTrue(partner.data_policy_approved)
+        partner.internal_rules_approved = True
+        self.assertTrue(partner.internal_rules_approved)
+        partner.financial_risk_approved = True
+        self.assertTrue(partner.financial_risk_approved)
+        partner.generic_rules_approved = True
+        self.assertTrue(partner.generic_rules_approved)
+        cooperative_membership = partner.cooperative_membership_id
+        self.assertEqual(partner.cooperator, cooperative_membership.cooperator)
+        self.assertEqual(partner.member, cooperative_membership.member)
+        self.assertEqual(partner.coop_candidate, cooperative_membership.coop_candidate)
+        self.assertEqual(partner.old_member, cooperative_membership.old_member)
+        self.assertEqual(
+            partner.cooperator_register_number,
+            cooperative_membership.cooperator_register_number,
+        )
+        self.assertEqual(
+            partner.number_of_share, cooperative_membership.number_of_share
+        )
+        self.assertEqual(partner.total_value, cooperative_membership.total_value)
+        self.assertEqual(
+            partner.cooperator_type, cooperative_membership.cooperator_type
+        )
+        self.assertEqual(partner.effective_date, cooperative_membership.effective_date)
+        self.assertEqual(
+            partner.data_policy_approved, cooperative_membership.data_policy_approved
+        )
+        self.assertEqual(
+            partner.internal_rules_approved,
+            cooperative_membership.internal_rules_approved,
+        )
+        self.assertEqual(
+            partner.financial_risk_approved,
+            cooperative_membership.financial_risk_approved,
+        )
+        self.assertEqual(
+            partner.generic_rules_approved,
+            cooperative_membership.generic_rules_approved,
+        )
+
+    @freeze_time("2023-06-21")
+    def test_set_partner_company_dependent_fields_on_membership(self):
+        """
+        Test that setting fields on the cooperative membership should update
+        the company-dependent fields on the partner.
+        """
+        partner = self.create_dummy_cooperator()
+        cooperative_membership = partner.cooperative_membership_id
+        cooperative_membership.cooperator = False
+        self.assertFalse(partner.cooperator)
+        cooperative_membership.member = False
+        self.assertFalse(partner.member)
+        # fixme: as this is a computed field, this should fail
+        cooperative_membership.coop_candidate = True
+        self.assertTrue(partner.coop_candidate)
+        cooperative_membership.old_member = True
+        self.assertTrue(partner.old_member)
+        # fixme: as this is a readonly field, this should fail
+        cooperative_membership.cooperator_register_number = 42
+        self.assertEqual(partner.cooperator_register_number, 42)
+        # fixme: as this is a computed field, this should fail
+        cooperative_membership.number_of_share = 7
+        self.assertEqual(partner.number_of_share, 7)
+        # fixme: as this is a computed field, this should fail
+        cooperative_membership.total_value = 100
+        self.assertEqual(partner.total_value, 100)
+        # fixme: as this is a computed field, this should fail
+        cooperative_membership.cooperator_type = "share_x"
+        self.assertEqual(partner.cooperator_type, "share_x")
+        # fixme: as this is a computed field, this should fail
+        cooperative_membership.effective_date = date(2023, 6, 28)
+        self.assertEqual(partner.effective_date, date(2023, 6, 28))
+        cooperative_membership.data_policy_approved = True
+        self.assertTrue(partner.data_policy_approved)
+        cooperative_membership.internal_rules_approved = True
+        self.assertTrue(partner.internal_rules_approved)
+        cooperative_membership.financial_risk_approved = True
+        self.assertTrue(partner.financial_risk_approved)
+        cooperative_membership.generic_rules_approved = True
+        self.assertTrue(partner.generic_rules_approved)
+
+    @freeze_time("2023-06-21")
+    def test_company_dependent_fields_for_other_company(self):
+        """
+        Test that partner company-dependenty fields should have a different
+        value per company.
+        """
+        partner = self.create_dummy_cooperator()
+        self.assertTrue(partner.cooperative_membership_id)
+        self.assertTrue(partner.member)
+
+        # with another company, the partner should not have a
+        # cooperative_membership_id.
+        partner = partner.with_company(self.company_2)
+        self.assertFalse(partner.cooperative_membership_id)
+
+        # all fields should have their default value.
+        self.assertFalse(partner.cooperator)
+        self.assertFalse(partner.member)
+        self.assertFalse(partner.coop_candidate)
+        self.assertFalse(partner.old_member)
+        self.assertEqual(partner.cooperator_register_number, 0)
+        self.assertEqual(partner.number_of_share, 0)
+        self.assertEqual(partner.total_value, 0)
+        self.assertEqual(partner.cooperator_type, False)
+        self.assertEqual(partner.effective_date, False)
+        self.assertFalse(partner.data_policy_approved)
+        self.assertFalse(partner.internal_rules_approved)
+        self.assertFalse(partner.financial_risk_approved)
+        self.assertFalse(partner.generic_rules_approved)
+
+        # setting the fields should fail.
+        with self.assertRaises(ValidationError):
+            partner.cooperator = True
+        with self.assertRaises(ValidationError):
+            partner.member = True
+        with self.assertRaises(ValidationError):
+            partner.coop_candidate = True
+        with self.assertRaises(ValidationError):
+            partner.old_member = True
+        with self.assertRaises(ValidationError):
+            partner.cooperator_register_number = 1
+        with self.assertRaises(ValidationError):
+            partner.number_of_share = 1
+        with self.assertRaises(ValidationError):
+            partner.total_value = 4.2
+        with self.assertRaises(ValidationError):
+            partner.cooperator_type = "share_a"
+        with self.assertRaises(ValidationError):
+            partner.effective_date = date(2023, 6, 21)
+        with self.assertRaises(ValidationError):
+            partner.data_policy_approved = True
+        with self.assertRaises(ValidationError):
+            partner.internal_rules_approved = True
+        with self.assertRaises(ValidationError):
+            partner.financial_risk_approved = True
+        with self.assertRaises(ValidationError):
+            partner.generic_rules_approved = True
+
+    def test_cooperative_membership_for_other_company(self):
+        """
+        Test that making a partner cooperator of another company should create
+        a cooperative membership for that company.
+        """
+        company_2 = self.company_2
+        subscription_request = (
+            self.env["subscription.request"]
+            .with_company(company_2)
+            .create(self.get_dummy_subscription_requests_vals())
+        )
+        self.validate_subscription_request_and_pay(subscription_request)
+        partner = subscription_request.partner_id
+        self.assertTrue(partner.cooperative_membership_id)
+        self.assertEqual(partner.cooperative_membership_id.company_id, company_2)
+        self.assertFalse(partner.with_company(self.company).cooperative_membership_id)
```

## odoo/addons/cooperator/views/operation_request_view.xml

### odoo/addons/cooperator/views/operation_request_view.xml

```diff
@@ -8,14 +8,15 @@
         <field name="request_date"/>
         <field name="effective_date"/>
         <field name="partner_id"/>
         <field name="operation_type"/>
         <field name="quantity"/>
         <field name="user_id"/>
         <field name="state"/>
+        <field name="company_id" groups="base.group_multi_company"/>
       </tree>
     </field>
   </record>
   <record id="operation_request_form" model="ir.ui.view">
     <field name="name">operation.request.form</field>
     <field name="model">operation.request</field>
     <field name="arch" type="xml">
@@ -44,14 +45,15 @@
               <field name="share_product_id" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create':True}"/>
               <field name="share_short_name" readonly="True"/>
               <field name="share_to_product_id" attrs="{'invisible':[('operation_type','!=','convert')],'required':[('operation_type','=','convert')],'readonly':[('state','!=','draft')]}" options="{'no_create':True}"/>
               <field name="share_to_short_name" readonly="True"/>
               <field name="quantity" attrs="{'readonly':[('state','!=','draft')]}"/>
               <field name="share_unit_price" readonly="True"/>
               <field name="subscription_amount" readonly="True"/>
+              <field name="company_id" groups="base.group_multi_company" attrs="{'readonly': [('id', '!=', False)]}"/>
             </group>
           </group>
           <group>
             <field name="subscription_request" attrs="{'invisible':['|',('operation_type','!=','transfer'),('receiver_not_member','=',False)]}" context="{'default_is_operation': True, 'default_ordered_parts':quantity,'default_share_product_id': share_product_id, 'default_source':'operation'}">
               <tree>
                 <field name="firstname"/>
                 <field name="lastname"/>
@@ -81,14 +83,15 @@
                       <field name="lang"/>
                       <field name="is_valid_iban"/>
                       <field name="skip_iban_control"/>
                       <field name="ordered_parts" invisible="True"/>
                       <field name="source" invisible="True"/>
                       <field name="state" invisible="True"/>
                       <field name="share_product_id" invisible="True"/>
+                      <field name="company_id" groups="base.group_multi_company" invisible="True"/>
                     </group>
                   </group>
                 </sheet>
               </form>
             </field>
           </group>
         </sheet>
```

## odoo/addons/cooperator/views/product_view.xml

### odoo/addons/cooperator/views/product_view.xml

```diff
@@ -63,14 +63,15 @@
     <field name="res_model">product.template</field>
     <field name="view_mode">kanban,tree,form</field>
     <field name="search_view_id" eval="False"/>
     <!-- Force empty -->
     <field name="view_id" eval="False"/>
     <!-- Force empty -->
     <field name="domain">[('is_share','=',True)]</field>
+    <field name="context">{&quot;default_is_share&quot;: True, &quot;default_company_id&quot;: allowed_company_ids[0]}</field>
     <field name="help" type="html">
       <p class="oe_view_nocontent_create">Click to define a new share product.</p>
     </field>
   </record>
   <!-- overriding product views to not display share product in the purchase and sale views-->
   <record id="product.product_normal_action" model="ir.actions.act_window">
     <field name="name">Product</field>
```

## odoo/addons/cooperator/views/res_company_view.xml

### odoo/addons/cooperator/views/res_company_view.xml

```diff
@@ -31,14 +31,23 @@
           <field name="display_financial_risk_approval"/>
           <field name="financial_risk_approval_required"/>
           <field name="financial_risk_approval_text"/>
           <field name="display_generic_rules_approval"/>
           <field name="generic_rules_approval_required"/>
           <field name="generic_rules_approval_text"/>
           <field name="send_confirmation_email"/>
+          <field name="cooperator_confirmation_mail_template" attrs="{'invisible': [('send_confirmation_email', '=', False)]}"/>
+          <field name="cooperator_confirmation_company_mail_template" attrs="{'invisible': [('send_confirmation_email', '=', False)]}"/>
           <field name="send_capital_release_email"/>
+          <field name="cooperator_capital_release_mail_template" attrs="{'invisible': [('send_capital_release_email', '=', False)]}"/>
           <field name="send_certificate_email"/>
+          <field name="cooperator_certificate_mail_template" attrs="{'invisible': [('send_certificate_email', '=', False)]}"/>
+          <field name="cooperator_certificate_increase_mail_template" attrs="{'invisible': [('send_certificate_email', '=', False)]}"/>
+          <!-- TODO: Should there be a send toggle for this one? -->
+          <field name="cooperator_waiting_list_mail_template"/>
+          <field name="cooperator_share_transfer_mail_template"/>
+          <field name="cooperator_share_update_mail_template"/>
         </group>
       </group>
     </field>
   </record>
 </odoo>
```

## odoo/addons/cooperator/views/res_partner_view.xml

### odoo/addons/cooperator/views/res_partner_view.xml

```diff
@@ -50,26 +50,28 @@
             <field name="share_ids">
               <tree create="false">
                 <field name="effective_date"/>
                 <field name="share_short_name"/>
                 <field name="share_number" sum="Total of shares"/>
                 <field name="share_unit_price"/>
                 <field name="total_amount_line" sum="Total subscribed amount"/>
+                <field name="company_id" groups="base.group_multi_company"/>
               </tree>
             </field>
           </page>
           <page string="Share subscriptions" name="share_subscription" attrs="{'invisible':[('cooperator','=',False)]}" groups="cooperator.cooperator_group_user">
             <field name="subscription_request_ids">
               <tree create="false" delete="false" edit="false">
                 <field name="share_short_name"/>
                 <field name="ordered_parts" sum="Total of shares"/>
                 <field name="share_unit_price"/>
                 <field name="subscription_amount" sum="Total subscribed amount"/>
                 <field name="type"/>
                 <field name="state"/>
+                <field name="company_id" groups="base.group_multi_company"/>
               </tree>
             </field>
           </page>
         </page>
       </field>
     </record>
     <record id="view_partner_tree" model="ir.ui.view">
@@ -86,28 +88,43 @@
     </record>
     <record id="view_res_partner_filter" model="ir.ui.view">
       <field name="name">res.partner.select</field>
       <field name="model">res.partner</field>
       <field name="inherit_id" ref="account.res_partner_view_search"/>
       <field name="arch" type="xml">
         <filter name="supplier" position="after">
-          <filter string="Cooperators" name="cooperators" domain="[('member','=',1)]" help="Cooperator Partners"/>
-          <filter string="Old Cooperators" name="old_cooperators" domain="[('old_member','=',1)]" help="Cooperator Partners"/>
-          <filter string="Cooperator Candidates" name="cooperator_candidates" domain="[('coop_candidate','=',1)]" help="Cooperator Partners"/>
-        </filter>
-        <filter name="salesperson" position="before">
-          <filter string="Cooperator Type" name="group_by_cooperator_type" context="{'group_by': 'cooperator_type'}"/>
+          <filter string="Cooperators" name="cooperators" domain="[('cooperative_membership_ids.member', '=' , True)]" help="Cooperator Partners"/>
+          <filter string="Old Cooperators" name="old_cooperators" domain="[('cooperative_membership_ids.old_member', '=', True)]" help="Cooperator Partners"/>
+          <filter string="Cooperator Candidates" name="cooperator_candidates" domain="[('cooperative_membership_ids.coop_candidate', '=', True)]" help="Cooperator Partners"/>
         </filter>
+        <!--
+                    fixme: the filter below was available when the cooperative
+                    membership properties were stored on res.partner instead
+                    of cooperative.membership. group_by does not work on
+                    non-stored computed field and does not support something
+                    like cooperative_membership_ids.cooperator_type. a way to
+                    make it work could be to override a model method like
+                    read_group() in res.partner.
+                -->
+        <!--
+                <filter name="salesperson" position="before">
+                    <filter
+                        string="Cooperator Type"
+                        name="group_by_cooperator_type"
+                        context="{'group_by': 'cooperator_type'}"
+                    />
+                </filter>
+                -->
       </field>
     </record>
     <record id="action_partner_cooperator_form" model="ir.actions.act_window">
       <field name="name">Cooperators</field>
       <field name="res_model">res.partner</field>
       <field name="view_mode">kanban,tree,form</field>
-      <field name="domain">[('member','=',True)]</field>
+      <field name="domain">[('cooperative_membership_ids.member', '=', True)]</field>
       <field name="context">{'create':False}</field>
       <field name="help" type="html">
         <p class="oe_view_nocontent_create">Click to add a contact in your address book.</p>
         <p>OpenERP helps you easily track all activities related to
                     a cooperator: discussions, history of business
                     opportunities,
                     documents, etc.</p>
```

## odoo/addons/cooperator/views/subscription_register_view.xml

### odoo/addons/cooperator/views/subscription_register_view.xml

```diff
@@ -9,14 +9,15 @@
         <field name="date"/>
         <field name="partner_id"/>
         <field name="share_short_name"/>
         <field name="quantity" sum="Total quantity"/>
         <field name="share_unit_price"/>
         <field name="total_amount_line" sum="Total amount"/>
         <field name="type"/>
+        <field name="company_id" groups="base.group_multi_company"/>
       </tree>
     </field>
   </record>
   <record id="subscription_register_form" model="ir.ui.view">
     <field name="name">subscription.register.form</field>
     <field name="model">subscription.register</field>
     <field name="arch" type="xml">
@@ -34,14 +35,15 @@
           <group>
             <field name="partner_id_to" attrs="{'invisible':[('type','!=','transfer')]}"/>
             <field name="type"/>
             <field name="share_to_short_name"/>
             <field name="quantity_to"/>
             <field name="share_to_unit_price"/>
             <field name="user_id" invisible="True"/>
+            <field name="company_id" groups="base.group_multi_company"/>
           </group>
         </group>
       </form>
     </field>
   </record>
   <record id="view_subscription_register_filter" model="ir.ui.view">
     <field name="name">Subscription Register Search</field>
```

## odoo/addons/cooperator/views/subscription_request_view.xml

### odoo/addons/cooperator/views/subscription_request_view.xml

```diff
@@ -15,14 +15,15 @@
         <field name="subscription_amount" sum="Total amount"/>
         <field name="email"/>
         <field name="iban"/>
         <field name="partner_id"/>
         <field name="source"/>
         <field name="state"/>
         <field name="is_valid_iban" invisible="True"/>
+        <field name="company_id" groups="base.group_multi_company"/>
         <button type="object" string="Validate" aria-label="Validate" name="validate_subscription_request" attrs="{'invisible':['|',('state','not in',['draft','waiting']),('is_valid_iban','=',False)]}"/>
         <button type="object" string="Block" aria-label="Block" name="block_subscription_request" states="draft" groups="cooperator.cooperator_group_user"/>
         <button type="object" string="Unblock" aria-label="Unblock" name="unblock_subscription_request" states="block" groups="cooperator.cooperator_group_user"/>
       </tree>
     </field>
   </record>
   <record id="subscription_request_view_form" model="ir.ui.view">
@@ -76,14 +77,15 @@
               <field name="type"/>
               <field name="lang"/>
               <field name="skip_iban_control"/>
               <field name="internal_rules_approved"/>
               <field name="data_policy_approved"/>
               <field name="financial_risk_approved"/>
               <field name="generic_rules_approved"/>
+              <field name="company_id" groups="base.group_multi_company" attrs="{'readonly': [('id', '!=', False)]}"/>
             </group>
           </group>
           <notebook>
             <page name="capital_release_request" string="Capital release request">
               <field name="capital_release_request">
                 <tree options="{'no_create':True}">
                   <field name="state" invisible="True"/>
```

## odoo/addons/cooperator/wizard/create_subscription_from_partner.py

```diff
@@ -1,14 +1,15 @@
 from odoo import _, api, fields, models
 from odoo.exceptions import UserError
 
 
 class PartnerCreateSubscription(models.TransientModel):
     _name = "partner.create.subscription"
     _description = "Create Subscription From Partner"
+    _check_company_auto = True
 
     @api.onchange("share_product")
     def on_change_share_type(self):
         self.share_qty = self.share_product.minimum_quantity
 
     @api.model
     def _default_product_id(self):
@@ -79,14 +80,15 @@
         partner = self._get_partner()
         if len(partner.bank_ids) > 0:
             return partner.bank_ids[0].acc_number
         return None
 
     @api.model
     def _get_possible_share(self):
+        # fixme: limit to shares of the selected company (in the form).
         domain = [("is_share", "=", True)]
         partner = self._get_partner()
         if partner.is_company:
             domain.append(("by_company", "=", True))
         else:
             domain.append(("by_individual", "=", True))
 
@@ -112,14 +114,15 @@
     )
     share_product = fields.Many2one(
         "product.product",
         string="Share Type",
         domain=_get_possible_share,
         default=_default_product_id,
         required=True,
+        check_company=True,
     )
     share_qty = fields.Integer(string="Share Quantity", required=True)
     share_unit_price = fields.Float(
         related="share_product.list_price", string="Share price", readonly=True
     )
     subscription_amount = fields.Float(
         compute="_compute_subscription_amount",
@@ -134,14 +137,21 @@
     representative_lastname = fields.Char(
         string="Representative last name",
         default=_get_representative_lastname,
     )
     representative_email = fields.Char(
         string="Representative email", default=_get_representative_email
     )
+    company_id = fields.Many2one(
+        "res.company",
+        string="Company",
+        required=True,
+        change_default=True,
+        default=lambda self: self.env.company,
+    )
 
     def create_subscription(self):
         sub_req = self.env["subscription.request"]
         partner_obj = self.env["res.partner"]
 
         cooperator = self.cooperator
         vals = {
@@ -152,14 +162,15 @@
             "email": self.email,
             "source": "crm",
             "address": cooperator.street,
             "zip_code": cooperator.zip,
             "city": cooperator.city,
             "country_id": cooperator.country_id.id,
             "lang": cooperator.lang,
+            "company_id": self.company_id.id,
         }
 
         if self.is_company:
             vals["company_name"] = cooperator.name
             vals["company_email"] = cooperator.email
             vals["firstname"] = self.representative_firstname
             vals["lastname"] = self.representative_lastname
```

## odoo/addons/cooperator/wizard/create_subscription_from_partner.xml

### odoo/addons/cooperator/wizard/create_subscription_from_partner.xml

```diff
@@ -16,14 +16,15 @@
           <field name="email"/>
           <field name="register_number" attrs="{'invisible':[('is_company','=',False)],'required':[('is_company','=',True)]}"/>
           <field name="bank_account"/>
           <field name="share_product" options="{'no_create':True}"/>
           <field name="share_qty"/>
           <field name="share_unit_price"/>
           <field name="subscription_amount"/>
+          <field name="company_id" groups="base.group_multi_company"/>
         </group>
         <footer>
           <button name="create_subscription" string="Create Subscription" type="object" class="btn-primary"/>
           <button string="Cancel" class="btn-default" special="cancel"/>
         </footer>
       </form>
     </field>
```

## Comparing `odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/METADATA` & `odoo14_addon_cooperator-14.0.3.0.0.dist-info/METADATA`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-cooperator
-Version: 14.0.1.6.3.dev2
+Version: 14.0.3.0.0
 Summary: Manage your cooperators
 Home-page: https://github.com/OCA/cooperative
 Author: Coop IT Easy SC, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -122,17 +122,49 @@
 Consider a refactoring for:
 1. removing a potential redundancy between the boolean field "representative" and the address type "representative".
 2. prevent new contacts to have the representative address type, if they are not representative.
 See [this issue](https://github.com/coopiteasy/vertical-cooperative/issues/350)
 
 known_caveats: the cooperator localization modules will have to be splitted in order to install the `cooperator` module without the `cooperator_website` module.
 
+Registering a payment for a subscription request for a company other than the
+current one does not create the cooperative membership information for the
+partner.
+
+A “Cooperative Memberships” page should be added to the ``res.partner`` form,
+displaying all the cooperative memberships of the partner
+(``cooperative_membership_ids``). The page should only be visible for users
+that are both in the ``cooperator_group_user`` group and in the
+``base.group_multi_company`` group (how to do this?). Should it display the
+memberships of all companies or only the ones in which the user is “logged in”
+(checked in the menu)? If all companies, there would be a conflict with the
+``cooperative_membership_rule_company`` ``ir.rule``.
+
 Changelog
 =========
 
+14.0.3.0.0 (2023-07-25)
+~~~~~~~~~~~~~~~~~~~~~~~
+
+**Features**
+
+- Each company now has their own mail templates for cooperator-related e-mails. If
+  no template is set, the default (global) template is used. (`#73 <https://github.com/OCA/cooperative/issues/73>`_)
+- ir.sequences used by this module are no longer global; each company has its own
+  sequence for cooperator memberships. (`#74 <https://github.com/OCA/cooperative/issues/74>`_)
+- Create subscription journal per company. (`#75 <https://github.com/OCA/cooperative/issues/75>`_)
+- Improve multi-company consistency by setting ``company_id`` on records where
+  needed and adding the ``check_company`` flag on ``Many2one`` fields. (`#77 <https://github.com/OCA/cooperative/issues/77>`_)
+- ir.rules for multi-company usage added. Users cannot access records of this
+  module if they are not members of the relevant company. (`#78 <https://github.com/OCA/cooperative/issues/78>`_)
+- Move cooperative membership properties from ``res.partner`` to new
+  ``cooperative.membership`` model and add company-dependent computed fields on
+  ``res.partner`` for backward compatibility. (`#82 <https://github.com/OCA/cooperative/issues/82>`_)
+
+
 14.0.1.6.0 (2023-02-23)
 ~~~~~~~~~~~~~~~~~~~~~~~
 
 **Features**
 
 - Removed all selection widgets. (`#55 <https://github.com/OCA/cooperative/issues/55>`_)
```

## Comparing `odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/RECORD` & `odoo14_addon_cooperator-14.0.3.0.0.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,69 +1,78 @@
-odoo/addons/cooperator/README.rst,sha256=2BU_1mqE-YscYiULHOltV98-aagvp8KkbVXVg_qi2uU,6386
+odoo/addons/cooperator/README.rst,sha256=qWve0O-pTCpsfB6p0ckmPNqePeL5WNJqRNZL8_VEOxA,8308
 odoo/addons/cooperator/__init__.py,sha256=UHmJ4-K0Z9SSh8ZnvYvgtSBkR3jQZK1N3-YPO2pkNoo,63
-odoo/addons/cooperator/__manifest__.py,sha256=IRsiOTOrRK662OutN2NlOM6Mx7QC2gbsem53svLQsPM,2027
-odoo/addons/cooperator/data/data.xml,sha256=89emVugD7TaH1DNuVvGbFvKl26Ryc89emQzrKWckj1Q,1403
-odoo/addons/cooperator/data/mail_template_data.xml,sha256=hlR11X9L6ywZMLZ83Nxe6IExc_t2qoOWLBaSZGrJ6LE,20236
-odoo/addons/cooperator/demo/coop.xml,sha256=VcIFU2w5zXOMvZAhEJE_D7v0mRi9U8-vJ5REy6fahKo,8386
+odoo/addons/cooperator/__manifest__.py,sha256=oW_p_HrZZjwUm7rtsIMqvbzqR9jEmW5fBmjfdHPQ9mo,2059
+odoo/addons/cooperator/data/data.xml,sha256=No-XoysK8gLnSUXfaJydc1eHNeer2BoxvC7ZLh4GAIU,876
+odoo/addons/cooperator/data/mail_template_data.xml,sha256=jvjk-VS5Xk0k4uA7YDVINMrNiuX-nrG1Evch_byppeY,20243
+odoo/addons/cooperator/demo/coop.xml,sha256=RjgSNoOZiavxGL4THZujHc3JwQvj3UtKRCGeKXY35-s,8676
 odoo/addons/cooperator/demo/users.xml,sha256=0J_bD7ZZiR0dUJAlYfk46ebNLe1Ti4-vgeMMUmkX7kQ,1787
-odoo/addons/cooperator/i18n/ca_ES.po,sha256=0P8FdeGdSgUv9BGdKGcnzilEFotg6BizgORWmo5Ohck,125753
-odoo/addons/cooperator/i18n/cooperator.pot,sha256=0lQtw4dlletGr5WdsnrmvyDRjvKg3VdrpQ-yzm2fu7s,94237
-odoo/addons/cooperator/i18n/es.po,sha256=CHaTGWmppQ6N6qpqIVeWeDXhsn_gOJySGAB78bOfuw8,94455
-odoo/addons/cooperator/i18n/fr.po,sha256=ViD6AYYyT-M8fGtNNiDmmRUzb2vM7fUR-jbDOvN6p1o,118963
-odoo/addons/cooperator/i18n/fr_BE.po,sha256=KS_ucE1EHRaxpIBYg1YjBSqmKvCbeShH3CyUFWmAJOo,96172
-odoo/addons/cooperator/i18n/nl_BE.po,sha256=O2xJFA6gWazCt1ptfVQgUhcmHnbxuEuDdFiPTxZ0XaI,96586
+odoo/addons/cooperator/i18n/ca_ES.po,sha256=ouzgWyJ_cG7leZiyq1xsT3fWp6ZP-lBfVK0wYS_3HbE,125767
+odoo/addons/cooperator/i18n/cooperator.pot,sha256=Rfu-XkhiwKEBDkccBQnpfwNNcqS3fsDCEZGBKm0-mgY,98429
+odoo/addons/cooperator/i18n/es.po,sha256=Y1UXBlFBq2VdRtUjkTNLLBy5MMAHgy54l8QL1uumNbM,94462
+odoo/addons/cooperator/i18n/fr.po,sha256=1qYxzl183XtcughrQfOgXeaor9qgemvJG3zjD7cg33o,118970
+odoo/addons/cooperator/i18n/fr_BE.po,sha256=F2vHsoaJ0swhGbA0imjVf_uj7zIK0GmPF5WETc0Gp7U,96179
+odoo/addons/cooperator/i18n/nl_BE.po,sha256=krSyNVKerm7L_AZEEkeqcXFRbAPgQC6pay6TDUyVZMA,96593
 odoo/addons/cooperator/migrations/14.0.1.1.0/post-fix_subscription_request_names.py,sha256=7Ztks5mF0oLm-3qIjOFtnq-c78_UaRAy9zACHljobWE,368
 odoo/addons/cooperator/migrations/14.0.1.1.0/post-remove_subscription_request_subscription_type.py,sha256=vmnJN7ZFOspyQYhdomtbt973Ud_fEKE5SQCKQqiuPD8,629
-odoo/addons/cooperator/models/__init__.py,sha256=1-6XbMc-hzgGIzrRCGvRF3pJCmRuCAWjKbfxD1tDUIw,279
+odoo/addons/cooperator/migrations/14.0.1.7.0/post-set_subscription_journal_on_company.py,sha256=WvNGn0brJD5haDbKP76_aov8zznffKHmM0ogixdSoCQ,1545
+odoo/addons/cooperator/migrations/14.0.1.7.0/pre-migration.py,sha256=sfhSsv18rLVEppi2Y0ynEtrEX4dCPaPMC9DFyw02wfY,1411
+odoo/addons/cooperator/migrations/14.0.2.0.0/post-create_cooperative_memberships.py,sha256=k-UuHgV35NMNa11kjLcD4dEd6KyGHo4MAcmQtI7YgKg,1793
+odoo/addons/cooperator/models/__init__.py,sha256=2LoCV5Jul7TysIH2nav6S_6yo6b6s0oQVWTOS7IzRpU,353
+odoo/addons/cooperator/models/account_chart_template.py,sha256=VArWMqK3_3bCc7HfxkQTsXxHIEQy-GN2-cCbz0wfwgU,382
 odoo/addons/cooperator/models/account_journal.py,sha256=hgSdsfB35GLPCMNo1gzu-jC4B47zdmtyd6T8gVPcXD0,405
-odoo/addons/cooperator/models/account_move.py,sha256=LgTfX9j8Oh9UrlowGF5FJJawRpsy5KuK25mveUgvL1A,8299
-odoo/addons/cooperator/models/company.py,sha256=daGvzwZezHF37dikCZa25MnHj4l2o2-8PmsZ_6ODFo0,5511
+odoo/addons/cooperator/models/account_move.py,sha256=DkCiqjwLJPOOfOBNQr4FBtav6Vxs7JmIesHtj_zIZ6c,9504
+odoo/addons/cooperator/models/company.py,sha256=iiER-6cNAkK26ZGkeIbAxSACf-WVJ58nUvjHtDsKS_k,14782
+odoo/addons/cooperator/models/cooperative_membership.py,sha256=DeARzs0SEWn3TLbSakuzHJk_GU8RiB7p4wUQ-CbGiv4,7705
 odoo/addons/cooperator/models/mail_template.py,sha256=6kQ7s4Q6ff8tHk6aIZuYskOqM5SxhL6JFjkR2uoVKUo,179
-odoo/addons/cooperator/models/operation_request.py,sha256=t9jn-t8bRNDT0Sfc3ASs2N2Lv53T38WOGFfS5FLukZU,15598
-odoo/addons/cooperator/models/partner.py,sha256=I4tfUoprzBdqIGJKrblh3CiYKGaKGCLKHj7sBK94IeQ,7053
+odoo/addons/cooperator/models/operation_request.py,sha256=9Dr2TRYqSasWJSPsHfn0Tg5hJ3-urfGu3P6EPlPTjeg,15766
+odoo/addons/cooperator/models/partner.py,sha256=If8ZzwZkiHjGgMZAwavTiR6PvIsQZzL6T4eJrtEMqQI,9780
 odoo/addons/cooperator/models/product.py,sha256=OdJg0hr-Ie_84LwuWNpbyuufP5biJVU0KOMAckdH_EA,1545
-odoo/addons/cooperator/models/share_line.py,sha256=VgcZYX9szMuYOiZgRixbVIlsq-u5BaVxLXI0Gk1gGtY,1764
-odoo/addons/cooperator/models/subscription_register.py,sha256=ATGFca8yWTbDk8YV18zfVSWF5PeohSUDhfTLAUNp1EQ,4216
-odoo/addons/cooperator/models/subscription_request.py,sha256=7jbs5nVbKugyqkC69nt9TA40_Fy-x8wRzDB1GL3Ptvc,26749
+odoo/addons/cooperator/models/share_line.py,sha256=Y43xjXtXYDu9fUe0OdI9nr7pZS9CFz7dT92e-GGEkdw,1848
+odoo/addons/cooperator/models/share_type.py,sha256=7OVRzf6owZRAd9XEBppmwFrMdBxUt8a0VkxRLob8x4s,261
+odoo/addons/cooperator/models/subscription_register.py,sha256=vbgpXvwCAPtdJOIYVNDTClAqIAp3wzSbunV3InTQP4U,4331
+odoo/addons/cooperator/models/subscription_request.py,sha256=vdllXhSbjlqDd_BNze3xr3a-nLCNya2k-YCeij3klGc,30800
 odoo/addons/cooperator/readme/CONTRIBUTORS.rst,sha256=DzRb1fCqBqRRrerm7OlP_tMok6KQs785Mb0KQ3i4F0s,222
 odoo/addons/cooperator/readme/DESCRIPTION.rst,sha256=VskEaKv3nGoNKBHXkLEMB4fNgvfcuP44vU7E1C5_Z7g,1178
-odoo/addons/cooperator/readme/HISTORY.rst,sha256=yk5Yo_h2GlRg6jaR7Y1ySskiQx1B8itWFkNsEzvIERc,955
+odoo/addons/cooperator/readme/HISTORY.rst,sha256=Z1G4EnlRqNWxo4CoRqWNLJ_PurrIFaGmk5Z4feIcy1Y,2145
 odoo/addons/cooperator/readme/INSTALL.rst,sha256=Sc_nuwqO1GGd26uwkZ6kR0z9IgRbkjll3Rrfcs8Z5EE,871
-odoo/addons/cooperator/readme/ROADMAP.rst,sha256=81jwvD-82Uhy75JiOKCEjNVUcAS6XjSN8VP42FEy6iw,563
+odoo/addons/cooperator/readme/ROADMAP.rst,sha256=whh3KTyRey0z4lPe9Amr69uCZIcEL0b7yUijBe5Ss5k,1295
 odoo/addons/cooperator/readme/USAGE.rst,sha256=Fwq7E_a69IUe-QX-Z2N__wVHTM1Ob6y8f_QcbbJY7Dc,171
 odoo/addons/cooperator/report/__init__.py,sha256=dFbIqZ1ekuLuDOWSvYWhyKDxP7lkaMOERogFor46RWU,37
 odoo/addons/cooperator/report/account_invoice_report.py,sha256=oTOoOPAkBtAcQaCk-fJCHmr1nfXuexT1soEYsQnDSDs,704
 odoo/addons/cooperator/report/cooperator_certificat_G001.xml,sha256=JOc0_djmGc1Fts3093O2ykITSmEUVHNCZZYVGZ7hz2M,6203
 odoo/addons/cooperator/report/cooperator_invoice_G002.xml,sha256=J4B7qQWWufBmkdT6eO9EA0k-5pD7UxD9GcQxwKiXUXQ,13771
 odoo/addons/cooperator/report/cooperator_register_G001.xml,sha256=y52Hl6lyxYV2hRUTnKtMlRNbY3XeWTe9AoENgjN_IYw,8336
 odoo/addons/cooperator/report/cooperator_subscription_G001.xml,sha256=atUlXOUr9VadB1dlsOB4UHE5JAIrpA80JiVxmOs_ucA,6035
 odoo/addons/cooperator/report/layout.xml,sha256=V507H-TN2HkEkTRD5EJ2Lnt635NCrQ9q3-IShG2XRfI,3189
 odoo/addons/cooperator/report/reports.xml,sha256=QC39rba7f2bgCLfY-zw3yfFTtwIfOZcj4r_qf4RwDnE,2501
-odoo/addons/cooperator/security/ir.model.access.csv,sha256=76FvuuEOf36Tl64to64jun9ue-dI8fZfjlHXUtbYwvQ,2570
+odoo/addons/cooperator/security/ir.model.access.csv,sha256=92brKPDI2SP3JQt1yuazeQfVYs6L9TJJQfJWL6SG0nA,2991
+odoo/addons/cooperator/security/ir_rule.xml,sha256=6wmtSikbTq-ceieAuk9WE1zafggFy19coRvzTF0phEM,1777
 odoo/addons/cooperator/security/res_groups.xml,sha256=r407DNx117wmKlhgnfdDT-Ve3Fjmr_xj7hz7ZKEk5NE,807
 odoo/addons/cooperator/static/description/icon.png,sha256=QTFZvQn8KyjgkJmXqocpsCuHx7NED1GnOzr7J8LK1h8,3721
 odoo/addons/cooperator/static/description/icon.svg,sha256=6pzizBZ9jX0ctSVx9zh2J2esTdNAqhC1vETIWxKdxtY,6834
-odoo/addons/cooperator/static/description/index.html,sha256=T6vQLqdMrQXwgl__wRWWbG7egCnPl-OaA4rgciJLCmo,18070
-odoo/addons/cooperator/tests/__init__.py,sha256=UFDGcqK21tlkgD2UBN6ExSxKBJo880kBiMOEC4Le9po,30
-odoo/addons/cooperator/tests/cooperator_test_mixin.py,sha256=zRrCtR1dNvpKaBMdFpXmZUyPn4hTDV09vNWdQxOn5H4,7973
-odoo/addons/cooperator/tests/test_cooperator.py,sha256=FO292mVdGtbZB0kl4YPyliLEZPRTI4y2JVcdv6bAyuI,22693
+odoo/addons/cooperator/static/description/index.html,sha256=BHUTctySAgmIT32Qlk2dhsbxPi1WH-tS-ecRVCjYzHU,20812
+odoo/addons/cooperator/tests/__init__.py,sha256=679U2Hd7nlYKE3LDmOK_ezVbvAVybtZ6Kv071ZvrnPk,103
+odoo/addons/cooperator/tests/cooperator_test_mixin.py,sha256=eo5VhKM4vZEYsc5Kz0YDgysz3u08m3bLjxB_FzReWos,7086
+odoo/addons/cooperator/tests/test_cooperator.py,sha256=MWi5yicNADq2VaUJ-QRWl0LASKlCUZlXiAZWT8ePIwo,49892
+odoo/addons/cooperator/tests/test_cooperator_security.py,sha256=IM-3d-NqaiZiKXzvXdtUnNciOm_s_3SM9XnRswfMzO0,2620
+odoo/addons/cooperator/tests/test_mail_templates.py,sha256=UJoJwChEMmPFhQMzcqf77pMet9-qyfCPxCcPmHctvSw,1147
 odoo/addons/cooperator/views/account_journal_views.xml,sha256=thEUd7j_m0uqvWSCm9lMIRpjKpBCqAs4eQU8ACGQOx8,655
 odoo/addons/cooperator/views/account_move_views.xml,sha256=wI2oRqtIy73tP9Qpge_65G5FCGywkmdjl67woRZpMdc,2090
 odoo/addons/cooperator/views/mail_template_view.xml,sha256=Y6nsiAvmJj_2_c97PD4QLR4WuiyU9dsZTq4jx5b9Ojg,946
 odoo/addons/cooperator/views/menus.xml,sha256=V93EXvDN8udSUc78BC3lsX6FuInXnzgFWcvHsq4opt8,3196
-odoo/addons/cooperator/views/operation_request_view.xml,sha256=6hbyk9ESsVJW4s4XWf72bv16VF3uQO6iFBR3wVTDxdk,8874
-odoo/addons/cooperator/views/product_view.xml,sha256=dxTXYACxapKoJd9em77hF01j-JoolcGdw5iNXXt7RyM,7487
-odoo/addons/cooperator/views/res_company_view.xml,sha256=FRnGaxgoTBFPT2BUYiUTyCZFAIDorsJ8208ACV2pRQw,2484
-odoo/addons/cooperator/views/res_partner_view.xml,sha256=KlwyiDWBqzcL6cwpsBaomqK6KS_FeISL7EN0jnQHcwo,11743
-odoo/addons/cooperator/views/subscription_register_view.xml,sha256=T4gIoW376EDGSSvX9mjBFIjyBpnxtJlljppKGfxB7YY,4296
-odoo/addons/cooperator/views/subscription_request_view.xml,sha256=Q8_4u09YcJdLqvpC_T8J-Sq6lR970adLV9oqsFN5uQo,14343
+odoo/addons/cooperator/views/operation_request_view.xml,sha256=KXK0JZ1x7EwV2v5MekNAAXxgp5gJlKaw3P0T7GJxK78,9521
+odoo/addons/cooperator/views/product_view.xml,sha256=ry7uHY2JrytDlA8zNW6_aiNOdaiKwrOMAynWdhN3pU4,7619
+odoo/addons/cooperator/views/res_company_view.xml,sha256=lM9ARRP1ac2owyygdBjb4oaAoYMoGOnsQ5NkH12m5UM,3849
+odoo/addons/cooperator/views/res_partner_view.xml,sha256=McK-FbbDR25K4hc1jO0ZlnyNi7B_R2AHVWUGFhzDxlg,12883
+odoo/addons/cooperator/views/subscription_register_view.xml,sha256=cF3omcWK7-tLcV5T5JF-OfWoK0UQij-DXpvd1pw9x4k,4460
+odoo/addons/cooperator/views/subscription_request_view.xml,sha256=z6X_Kq7_5FZwZRJMp-9wZLPZ-93Xtcddk1OV2iAiQCU,14679
 odoo/addons/cooperator/wizard/__init__.py,sha256=c1c8VtcyXq6-5ztD9xI_LKvPkKjz8zKfp8CKOOOHkuw,123
-odoo/addons/cooperator/wizard/create_subscription_from_partner.py,sha256=frNVXOsO1RnJ-YaqgNnbrJMG-1mGXLQAVaRiv2UfMkg,8209
-odoo/addons/cooperator/wizard/create_subscription_from_partner.xml,sha256=dze1ZQ-8G1YED6TTVQYEN8uOOnUxAu77FVV5cUzEw_k,2717
+odoo/addons/cooperator/wizard/create_subscription_from_partner.py,sha256=6vFWfmf_SfCt7LM8HFSy2CnH6orN--jnwbvQ9Uuj288,8574
+odoo/addons/cooperator/wizard/create_subscription_from_partner.xml,sha256=dEHFDwytvUg5RbmDZxRgWBn8LLEgjgZe6NVGBXX30GU,2799
 odoo/addons/cooperator/wizard/update_share_line.py,sha256=IilWas-AP_3MqhE4FZN8K2gt0-3p1_wzGp-B_Srw2qE,1650
 odoo/addons/cooperator/wizard/update_share_line.xml,sha256=xIkizxRL_33VviDagUSCLZYfk0SGGnZLKSWIyV86V-k,1712
 odoo/addons/cooperator/wizard/validate_subscription_request.py,sha256=nA5uTg8FeCzwlt2o0bUpu9ngafhgyLqoJz63KUnjHvM,670
 odoo/addons/cooperator/wizard/validate_subscription_request.xml,sha256=3U95MakGlZCDMhuL4eCx9gfJQMLPGrGatNT_xPi8AlI,1313
-odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/METADATA,sha256=xRpV5ntWwr5ZrEWpiCYiczar1rI5fGsoaQIyh_kd8Rw,7078
-odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_cooperator-14.0.1.6.3.dev2.dist-info/RECORD,,
+odoo14_addon_cooperator-14.0.3.0.0.dist-info/METADATA,sha256=y6dfVfcr61nTYgSSqjlUPpwv6ViLem9iqqm9IBflsa0,8995
+odoo14_addon_cooperator-14.0.3.0.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_cooperator-14.0.3.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_cooperator-14.0.3.0.0.dist-info/RECORD,,
```

