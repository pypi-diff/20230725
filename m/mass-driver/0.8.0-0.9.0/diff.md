# Comparing `tmp/mass_driver-0.8.0-py3-none-any.whl.zip` & `tmp/mass_driver-0.9.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 39544 bytes, number of entries: 36
+Zip file size: 39845 bytes, number of entries: 36
 -rw-r--r--  2.0 unx       39 b- defN 80-Jan-01 00:00 mass_driver/__init__.py
 -rw-r--r--  2.0 unx     3358 b- defN 80-Jan-01 00:00 mass_driver/cli.py
 -rw-r--r--  2.0 unx     3829 b- defN 80-Jan-01 00:00 mass_driver/commands.py
 -rw-r--r--  2.0 unx     1919 b- defN 80-Jan-01 00:00 mass_driver/discovery.py
 -rw-r--r--  2.0 unx       46 b- defN 80-Jan-01 00:00 mass_driver/drivers/__init__.py
 -rw-r--r--  2.0 unx     1517 b- defN 80-Jan-01 00:00 mass_driver/drivers/counter.py
 -rw-r--r--  2.0 unx      467 b- defN 80-Jan-01 00:00 mass_driver/drivers/precommit.py
@@ -12,27 +12,27 @@
 -rw-r--r--  2.0 unx       39 b- defN 80-Jan-01 00:00 mass_driver/forges/__init__.py
 -rw-r--r--  2.0 unx      858 b- defN 80-Jan-01 00:00 mass_driver/forges/dummy.py
 -rw-r--r--  2.0 unx     1538 b- defN 80-Jan-01 00:00 mass_driver/forges/github.py
 -rw-r--r--  2.0 unx     2981 b- defN 80-Jan-01 00:00 mass_driver/migration_run.py
 -rw-r--r--  2.0 unx       50 b- defN 80-Jan-01 00:00 mass_driver/models/__init__.py
 -rw-r--r--  2.0 unx     3222 b- defN 80-Jan-01 00:00 mass_driver/models/activity.py
 -rw-r--r--  2.0 unx     1563 b- defN 80-Jan-01 00:00 mass_driver/models/forge.py
--rw-r--r--  2.0 unx     4468 b- defN 80-Jan-01 00:00 mass_driver/models/migration.py
+-rw-r--r--  2.0 unx     4666 b- defN 80-Jan-01 00:00 mass_driver/models/migration.py
 -rw-r--r--  2.0 unx     1237 b- defN 80-Jan-01 00:00 mass_driver/models/patchdriver.py
 -rw-r--r--  2.0 unx       26 b- defN 80-Jan-01 00:00 mass_driver/py.typed
--rw-r--r--  2.0 unx     1631 b- defN 80-Jan-01 00:00 mass_driver/repo.py
+-rw-r--r--  2.0 unx     2087 b- defN 80-Jan-01 00:00 mass_driver/repo.py
 -rw-r--r--  2.0 unx      307 b- defN 80-Jan-01 00:00 mass_driver/tests/__init__.py
--rw-r--r--  2.0 unx     1007 b- defN 80-Jan-01 00:00 mass_driver/tests/data/activity.toml
+-rw-r--r--  2.0 unx     1125 b- defN 80-Jan-01 00:00 mass_driver/tests/data/activity.toml
 -rw-r--r--  2.0 unx      867 b- defN 80-Jan-01 00:00 mass_driver/tests/data/sample_repo/README.md
 -rw-r--r--  2.0 unx        2 b- defN 80-Jan-01 00:00 mass_driver/tests/data/sample_repo/counter.txt
 -rw-r--r--  2.0 unx     1763 b- defN 80-Jan-01 00:00 mass_driver/tests/fixtures.py
 -rw-r--r--  2.0 unx     3033 b- defN 80-Jan-01 00:00 mass_driver/tests/test_activity.py
 -rw-r--r--  2.0 unx      522 b- defN 80-Jan-01 00:00 mass_driver/tests/test_counterdriver/config_count1.toml
 -rw-r--r--  2.0 unx      522 b- defN 80-Jan-01 00:00 mass_driver/tests/test_counterdriver/config_count2.toml
 -rw-r--r--  2.0 unx     2848 b- defN 80-Jan-01 00:00 mass_driver/tests/test_counterdriver.py
 -rw-r--r--  2.0 unx      755 b- defN 80-Jan-01 00:00 mass_driver/tests/test_driver_listing.py
-?rw-r--r--  2.0 unx      373 b- defN 16-Jan-01 00:00 mass_driver-0.8.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx    35100 b- defN 80-Jan-01 00:00 mass_driver-0.8.0.dist-info/COPYING
-?rw-r--r--  2.0 unx       88 b- defN 16-Jan-01 00:00 mass_driver-0.8.0.dist-info/WHEEL
-?rw-r--r--  2.0 unx     7866 b- defN 16-Jan-01 00:00 mass_driver-0.8.0.dist-info/METADATA
-?rw-r--r--  2.0 unx     3130 b- defN 16-Jan-01 00:00 mass_driver-0.8.0.dist-info/RECORD
-36 files, 91442 bytes uncompressed, 34476 bytes compressed:  62.3%
+?rw-r--r--  2.0 unx      373 b- defN 16-Jan-01 00:00 mass_driver-0.9.0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx    35100 b- defN 80-Jan-01 00:00 mass_driver-0.9.0.dist-info/COPYING
+?rw-r--r--  2.0 unx       88 b- defN 16-Jan-01 00:00 mass_driver-0.9.0.dist-info/WHEEL
+?rw-r--r--  2.0 unx     8098 b- defN 16-Jan-01 00:00 mass_driver-0.9.0.dist-info/METADATA
+?rw-r--r--  2.0 unx     3130 b- defN 16-Jan-01 00:00 mass_driver-0.9.0.dist-info/RECORD
+36 files, 92446 bytes uncompressed, 34777 bytes compressed:  62.4%
```

## zipnote {}

```diff
@@ -87,23 +87,23 @@
 
 Filename: mass_driver/tests/test_counterdriver.py
 Comment: 
 
 Filename: mass_driver/tests/test_driver_listing.py
 Comment: 
 
-Filename: mass_driver-0.8.0.dist-info/entry_points.txt
+Filename: mass_driver-0.9.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: mass_driver-0.8.0.dist-info/COPYING
+Filename: mass_driver-0.9.0.dist-info/COPYING
 Comment: 
 
-Filename: mass_driver-0.8.0.dist-info/WHEEL
+Filename: mass_driver-0.9.0.dist-info/WHEEL
 Comment: 
 
-Filename: mass_driver-0.8.0.dist-info/METADATA
+Filename: mass_driver-0.9.0.dist-info/METADATA
 Comment: 
 
-Filename: mass_driver-0.8.0.dist-info/RECORD
+Filename: mass_driver-0.9.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mass_driver/models/migration.py

```diff
@@ -14,14 +14,18 @@
 class MigrationFile(BaseModel):
     """The config file describing a migration, as transcribed before driver lookup"""
 
     migration_name: str
     """The short name of the migration, <50char for summarizing"""
     commit_message: str
     """The git commit message body to use when committing the migration"""
+    commit_author_name: str | None
+    """Override the default (global) git commit author name"""
+    commit_author_email: str | None
+    """Override the default (global) git commit author email"""
     branch_name: str | None
     """The branch name, if any, to use when committing the PatchDriver"""
     driver_name: str
     """The plugin-name of the PatchDriver to use, via plugin discovery"""
     driver_config: dict
     """The (opaque) configuration of the PatchDriver. Validated once driver loaded"""
```

## mass_driver/repo.py

```diff
@@ -7,15 +7,16 @@
 from mass_driver.models.migration import MigrationLoaded
 
 
 def clone_if_remote(repo_path: str, cache_folder: Path) -> Repo:
     """Build a git Repo; If repo_path isn't a directory, clone it"""
     if Path(repo_path).is_dir():
         print("Given an existing (local) repo: no cloning")
-        return Repo(path=repo_path)
+        # Clone it into cache anyway
+        return Repo(path=repo_path)  # FIXME: Actually clone-move the repo on the way.
     # SSH clone URL e.g: git@github.com:OverkillGuy/python-template
     if ":" in repo_path:  # Presence of : is proxy for SSH clone URL
         *_junk, repo_blurb = repo_path.split(":")
         org, repo_name = repo_blurb.split("/")
     else:
         org = "local"
         repo_name = Path(repo_path).name
@@ -34,14 +35,19 @@
 
 def commit(repo: Repo, migration: MigrationLoaded):
     """Commit the repo's changes in branch_name, given the PatchDriver that did it"""
     assert repo.is_dirty(untracked_files=True), "Repo shouldn't be clean on committing"
     branch = repo.create_head(migration.branch_name)
     branch.checkout()
     repo.git.add(A=True)
-    repo.git.commit(m=migration.commit_message)
+    author = None  # If stays None, git uses default commit author
+    if migration.commit_author_email or migration.commit_author_name:
+        name, email = migration.commit_author_name, migration.commit_author_email
+        author = f"{name} <{email}>"  # Actor(name=migration.commit_author_name,
+        #       email=migration.commit_author_email)
+    repo.git.commit(m=migration.commit_message, author=author)
 
 
 def push(repo: Repo, branch_name: str):
     """Push a branch of the repo to a remote"""
     remote = repo.remote()
     remote.push(refspec=branch_name)
```

## mass_driver/tests/data/activity.toml

```diff
@@ -1,17 +1,23 @@
 [mass-driver.migration]
 # Common name to remember the change by across all repos
 migration_name = "[JIRA-123] Bump counter.txt to 2"
+
 commit_message = """Bump counter to 2
 
 Upgrade counter to two, as part of change number blablabla
 
 See JIRA-123, where we document the need for counter to go up.
 """
 
+# Override the local git commit author
+commit_author_name = "John Smith"
+commit_author_email = "smith@example.com"
+
+
 # PatchDriver class to use.
 # Selected via plugin name, from "massdriver.drivers" entrypoint
 driver_name = "counter"
 
 # The dict will be loaded verbatim into the relevant PatchDriver
 driver_config = { counter_file = "counter.txt", target_count = 2}
```

## Comparing `mass_driver-0.8.0.dist-info/COPYING` & `mass_driver-0.9.0.dist-info/COPYING`

 * *Files identical despite different names*

## Comparing `mass_driver-0.8.0.dist-info/METADATA` & `mass_driver-0.9.0.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mass-driver
-Version: 0.8.0
+Version: 0.9.0
 Summary: Send bulk repo change requests
 Home-page: https://github.com/OverkillGuy/mass-driver
 License: GPL-3.0-or-later
 Keywords: repo-automation
 Author: Jb Doyon
 Author-email: jb@jiby.tech
 Requires-Python: >=3.11,<4.0
@@ -78,14 +78,18 @@
 
 Team name XYZ is wrong, we should be called ABC instead.
 See JIRA-123[1].
 
 [1]: https://example.com/tickets/JIRA-123
 """
 
+# Override the local git commit author
+commit_author_name = "John Smith"
+commit_author_email = "smith@example.com"
+
 branch_name = "fix-team-name"
 
 # PatchDriver class to use.
 # Selected via plugin name, from "massdriver.drivers" entrypoint
 driver_name = "teamname-changer"
 
 # Config given to the PatchDriver instance
@@ -181,14 +185,18 @@
 
 Team name XYZ is wrong, we should be called ABC instead.
 See JIRA-123[1].
 
 [1]: https://example.com/tickets/JIRA-123
 """
 
+# Override the local git commit author
+commit_author_name = "John Smith"
+commit_author_email = "smith@example.com"
+
 branch_name = "fix-team-name"
 
 # PatchDriver class to use.
 # Selected via plugin name, from "massdriver.drivers" entrypoint
 driver_name = "teamname-changer"
 
 # Config given to the PatchDriver instance
```

## Comparing `mass_driver-0.8.0.dist-info/RECORD` & `mass_driver-0.9.0.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -11,26 +11,26 @@
 mass_driver/forges/__init__.py,sha256=M_lcJlVdNDp3OwNhzEcIHRZ-bJq2F6EdfOIkhIpdVXs,39
 mass_driver/forges/dummy.py,sha256=qB03aVigKoPh-tRt9phmMEXx_nYqKYX-7QfnrZ5DA-k,858
 mass_driver/forges/github.py,sha256=FCQXaqsPxA2lCrdq1CviCfik-EMzPg8UtVU-eZwF2Rk,1538
 mass_driver/migration_run.py,sha256=4gg1LYf9tN-_zB-55bH_MKsJ3YKa67LkDPp7CILHLUo,2981
 mass_driver/models/__init__.py,sha256=pgolUMilVqRQiLRg7aTiesaVwS3_FAwPqdl6uVCr1AU,50
 mass_driver/models/activity.py,sha256=87meUQnoFG7G6tCPl7aYH0DVMBma1Wp9-QyTTAZ3tbU,3222
 mass_driver/models/forge.py,sha256=Nz1uu9ewLdTmHn9yUMSZ1SjPz_9mFIGzX6qUMx7-iTg,1563
-mass_driver/models/migration.py,sha256=hc8v0pP5vRUJxvGIKp0ZZwg3wC1G1nDDqkc0U6J7xPE,4468
+mass_driver/models/migration.py,sha256=uRArrWxP-oQwzzK-QUADHcBrW3b93p9TntbAut90X6g,4666
 mass_driver/models/patchdriver.py,sha256=5YIrkTusejwGYEhvQgqGS_f_whLbWE7uxlkgxQK8wJo,1237
 mass_driver/py.typed,sha256=8PjyZ1aVoQpRVvt71muvuq5qE-jTFZkK-GLHkhdebmc,26
-mass_driver/repo.py,sha256=VnJ9fOcmMIFo8ckOoyxwbl-e2KxmAuZdu9xxCybIF50,1631
+mass_driver/repo.py,sha256=ZmxQzMvPXdY_mB8EH2matAmaVUtPpOnX4ymh-XQQgnY,2087
 mass_driver/tests/__init__.py,sha256=H0bR63nyKUdmoyF6jrhL_z2SFVP6D_L7hUU7K_Sq3Zw,307
-mass_driver/tests/data/activity.toml,sha256=AWpy1f4MJ0UVAwLvLMzJC_W3NUgyAGC4OStYTXz_9r8,1007
+mass_driver/tests/data/activity.toml,sha256=T3a0CnnHKtqKKXCJcEQH56ERDJ8f-KndqEm1r_8uNGo,1125
 mass_driver/tests/data/sample_repo/README.md,sha256=kYI2Nq9qB9Zy-I4z0Mh6_YF_CKu5X0QwmG_w1rn-jxE,867
 mass_driver/tests/data/sample_repo/counter.txt,sha256=Q1WkaxnTSNwvV8BG-O9j1FOOu5NgAPPJ7pVKJ0YN2GU,2
 mass_driver/tests/fixtures.py,sha256=-j5tj1tkjGGXZMsyFitGSoCoPEA1-20xDdon1Xu4d68,1763
 mass_driver/tests/test_activity.py,sha256=2tlF7Et1BxHo4xg_CGkFAQsNvC9b6WvVFuEZO_n_YHQ,3033
 mass_driver/tests/test_counterdriver/config_count1.toml,sha256=8PIGO6hvpe69IzR7hUOA_bxZW-rfUG0ctKTQnKfO5dI,522
 mass_driver/tests/test_counterdriver/config_count2.toml,sha256=N57cKQ9MyD5-sBQM405zwwSEoZTyg1PH4704L4NIj50,522
 mass_driver/tests/test_counterdriver.py,sha256=ch5nzRCmqiwKBhhJJSbkXtwBVb6T9eNfmr_rzh9ar9k,2848
 mass_driver/tests/test_driver_listing.py,sha256=Xrg8esYfii1F8NhAdXsZ1U2eBiMxF1kCUXxB4LCEavc,755
-mass_driver-0.8.0.dist-info/entry_points.txt,sha256=081EgxnRnoJVFZxF6go1c38Ev_OD9iX6l5_3UVmwyBU,373
-mass_driver-0.8.0.dist-info/COPYING,sha256=k7Dba_ReMtojKrBcDHOhKaI9nRAMNdgrg-g-qczIysM,35100
-mass_driver-0.8.0.dist-info/WHEEL,sha256=gSF7fibx4crkLz_A-IKR6kcuq0jJ64KNCkG8_bcaEao,88
-mass_driver-0.8.0.dist-info/METADATA,sha256=zSh9SAqrU0zXuDXNRsewiirrdJKFzvnmZ7zmkKA7Oo4,7866
-mass_driver-0.8.0.dist-info/RECORD,,
+mass_driver-0.9.0.dist-info/entry_points.txt,sha256=081EgxnRnoJVFZxF6go1c38Ev_OD9iX6l5_3UVmwyBU,373
+mass_driver-0.9.0.dist-info/COPYING,sha256=k7Dba_ReMtojKrBcDHOhKaI9nRAMNdgrg-g-qczIysM,35100
+mass_driver-0.9.0.dist-info/WHEEL,sha256=gSF7fibx4crkLz_A-IKR6kcuq0jJ64KNCkG8_bcaEao,88
+mass_driver-0.9.0.dist-info/METADATA,sha256=h9BrEDxPeFv20q812p8Otpo4sBUASibmRCS01tyjkYc,8098
+mass_driver-0.9.0.dist-info/RECORD,,
```

